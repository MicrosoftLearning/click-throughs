/*! ds-bootstrap - v1.0.0.33511 - 2024-11-13 11:45pm UTC
* Copyright (c) 2024 ; Not Licensed */!function(){var t={8696:function(){},2290:function(){},1830:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{AccessibleScrollBar:function(){var t=!DS.detection.env.isPerpetual;this.isDropIn&&(e=DS.DropIn);var i=[].concat(r(t?["high-contrast-scroll"]:[]),["accessible-text-scrollbar","scrollarea-scrollbar"],r(this.props.hScroll?["horizontal-scroll"]:[]),r(this.state.highlight?["highlight-scrollbar"]:[]),r(this.state.isHidden?["hidden"]:[])),n=["scrollarea-btn"].concat(r(t?[]:["micro-scrollbar-btn"]));return e.createElement("div",{ref:"scrollBar",className:i.join(" "),style:this.getScrollBarStyle()},e.createElement("div",{ref:"scrollBtn",className:n.join(" "),style:this.getScrollBtnStyle(),onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown}))}}}.call(e,i,e,t))||(t.exports=n)},6179:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccessibleText:function(){var t=this,n=i(2682),r=i(3423).renderSemanticText,o=this.props.model.height(),s=this.props.model.width(),a=this.props.winScale,l=this.props.model.wordwrap()?"normal":"nowrap",c="horizontal"===this.props.model.vartext().direction,u="top"===this.props.model.valign()?"flex-start":"center"===this.props.model.valign()?"center":"flex-end",h={height:c?o:s,width:c?s:o,pointerEvents:this.props.unclickable?"none":null},d=this.state.linkStyles,p={underline:"text-decoration: underline !important;",none:"text-decoration: none !important;"},f=function(t){return"background-color: ".concat(t.highlight," !important; color: ").concat(t.textColor," !important; ").concat((e=t.decoration,p[e]||""));var e};return this.isDropIn&&(e=DS.DropIn,DS.DropIn.semanticTextRenderer(DS.DropIn)),e.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib",style:h},e.createElement("div",{className:"textlib-inner align-flex-start",style:this.getInnerProps()},e.createElement("div",{ref:"textLibContentWrap",className:"textlib-content-wrap","data-accepts":"events",style:{height:"100%",overflow:"auto",display:"flex",justifyContent:u,flexDirection:"column",whiteSpace:l,flexGrow:1,flexShrink:0}},d.length>0&&e.createElement("style",{type:"text/css"},d.map((function(e){return".".concat(e.id," :hover { ").concat(f(e.hoverState)," }\n                      .").concat(e.id," :active { ").concat(f(e.activeState)," }\n                      ").concat(t.linkIsVisited(e.id)?function(t){return".".concat(t.id," { ").concat(f(t.visitedState)," }")}(e):"")})).join(" ")),r(this.state.textConfig,this)),e.createElement(n,{ref:"scrollBar",refName:"textLibContentWrap",winScale:a,parent:this})),this.isDropIn&&DS.DropIn.semanticTextRenderer(DS.DropIn.restoreReact()[1]))}}}.call(e,i,e,t))||(t.exports=n)},5044:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ButtonSlideObject:function(){var t,n,r=i(7635),o=i(6329),s=DS,a=s.appState,l=s.flagManager,c=this.getPath("props.model.data.textdata.vectortext.pr")||{},u=l.multiLangSupport&&a.accessibleTextOn()&&null!=this.getAccTextModel().vartext();return l.multiLangSupport&&(t=this.getAccTextModel(),n=(this.props.model.width()-t.width())/2),DS.flagManager.dropInVectors&&!DS.flagManager.dropInMisc&&(r=r.wrapped,o=o.wrapped),this.isDropIn&&(e=DS.DropIn),e.createElement("button",{type:"button","data-accepts":"events",className:this.getClassNames(),tabIndex:"-1",style:{padding:0}},e.createElement("svg",{className:"slide-object-button-text",style:{transform:"scale(".concat(this.props.winScale,")"),transformOrigin:"top left"}},!u&&e.createElement(r,{ref:"vectortext",commandsetId:c.i,pathLib:c.l}),u&&e.createElement(o,{ref:"acctext",model:t,winScale:this.props.winScale,originX:n,originY:0,unclickable:"true"})))}}}.call(e,i,e,t))||(t.exports=n)},3313:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{Captions:function(){var t=i(6122),n=DS,r=(n.flagManager,n.utils.pxify),o=n.detection.theme.isClassic,s=this.state.winScale,a=o?s:1,l={fontFamily:this.state.font,bottom:0,marginBottom:o?r(10*a):0},c={marginBottom:r(10*a),padding:r(10*a),borderRadius:r(4*a)};if(!o){var u=DS.playerGlobals.player.getCaptionData();null!=u&&(u.placement>50?(l.top="unset",l.bottom="".concat(100-u.placement,"%")):(l.bottom="unset",l.top="".concat(u.placement,"%")),c.backgroundColor=u.backgroundColor,c.color=u.color)}return t.safari&&t.mac&&(l.transform="translate3d(-50%, 0, 0)"),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"caption"+(this.props.hasbb?" with-bb":""),style:l},this.state.showCaptions&&this.state.captions.length>0&&this.state.captions.map(function(t,i){return e.createElement("div",{key:i},e.createElement("p",{style:c,dangerouslySetInnerHTML:{__html:this.toHtml(t)}}))}.bind(this)))}}}.call(e,i,e,t))||(t.exports=n)},495:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{Container:function(){return e.createElement("div",{className:"ds-container "+this.props.className},this.props.children)}}}.call(e,i,e,t))||(t.exports=n)},6291:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{DragdropSlideObject:function(){var t=i(7635),n=i(6329),r=i(281);DS.flagManager.dropInInteractions&&(e=DS.DropIn),DS.flagManager.dropInBase&&!DS.flagManager.dropInInteractions&&(r=r.wrapped),DS.flagManager.dropInVectors&&!DS.flagManager.dropInInteractions&&(t=t.wrapped,n=n.wrapped);var o=DS.svgUtils,s=this.getPath("props.model.style"),a=this.props.winScale,l=this.getPath("props.model.height"),c=this.getPath("props.model.width"),u=this.getPath("props.model.kind"),h="dragitem"===u,d="wordbank"===s,p="droparea"===u&&d,f=this.state.useAccText,g=this.state.hovered&&!this.state.dropped&&("droparea"!==u||p),m=_.find(this.getPath("props.model.colors"),{name:"hover"}),v=null!=m?m:_.find(this.props.colors,{name:"hover"}),S=(null!=v?this.props.model.id:"dragdrop")+"-hover-gradient",y=o.buildUrl(g&&!p?S:"dragdrop-gradient"),b=g?"slide-object-dragitem-hover":"",w=this.state.collision&&"droparea"===u,x=p&&this.state.hoverStroke&&null!=v,D=this.props.notchWidth,C=this.props.notchHeight,E=D+1,P=C+1,T=[["M "+E,0].join(","),["L"+c,0].join(","),["L"+c,l].join(","),["L"+E,l].join(","),["L"+E,l-P].join(","),["L 1",l-P].join(","),["L 1",P].join(","),["L"+E,P].join(","),"Z"].join(" "),I=["M 0,0",["L"+c,0].join(","),["L"+c,C].join(","),["L"+(c-D),C].join(","),["L"+(c-D),l-C].join(","),["L"+c,l-C].join(","),["L"+c,l].join(","),["L 0",l].join(","),"Z"].join(" "),A={visibility:this.state.backgroundVisible?"visible":"hidden",strokeWidth:this.state.reviewStroke&&2,stroke:this.state.reviewStroke?this.state.reviewStroke:x?["url(#",S,")"].join(""):""},L={position:"absolute",left:0,top:0},M={fill:this.state.isDropChild?this.state.reviewStroke:"black",stroke:this.state.isDropChild?"white":this.state.reviewStroke,strokeWidth:1.5};return e.createElement("div",null,e.createElement("svg",{width:c*a,height:l*a,viewBox:[0,0,c,l].join(" "),"data-xmlns-xlink":"http://www.w3.org/1999/xlink",className:["slide-object-dragdrop","slide-object-dragdrop-"+s,"draggable",b].join(" ").trim(),onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},((DS.flagManager.dropInInteractions||g)&&null!=v||x)&&e.createElement("defs",null,e.createElement(r,{fill:v.fill,patternFillId:S})),d?e.createElement("rect",{width:c-1,height:l-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:y,className:"slide-object-dragdrop-shape",filter:!this.state.reviewStroke&&"url(#dragdrop-inner-stroke)",style:A,transform:"translate(0.5, 0.5)"}):e.createElement("path",{d:h?T:I,className:"slide-object-dragdrop-shape",fill:y,style:w?{strokeWidth:3}:{},filter:!w&&"url(#dragdrop-inner-stroke)",strokeDasharray:h&&!this.state.dropped?"1,1":"",transform:"translate(0.5, 0.5)"}),this.state.hoverStroke&&null==v&&e.createElement("rect",{width:c-1,height:l-1,rx:this.state.wordbankRadius,ry:this.state.wordbankRadius,fill:"none",stroke:"#bafbfb",transform:"translate(2,1.5) scale(0.995, 0.92)"}),e.createElement("g",{transform:o.transformTranslate(this.props.model.xOff||0,this.props.model.yOff||0)},e.createElement("g",null,!DS.flagManager.dropInInteractions&&!f&&null!=this.state.textCommandsetId&&e.createElement(t,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})),e.createElement("g",null,DS.flagManager.dropInInteractions&&!f&&null!=this.state.textCommandsetId&&e.createElement("g",null,e.createElement(t,{ref:"vtext",pathLib:this.state.textPathLibId,commandsetId:this.state.textCommandsetId})))),!DS.flagManager.updatedThemeColorsEnabled&&"matching"===s&&this.state.reviewDot&&e.createElement("g",{className:"dragdrop-review-dot",transform:"translate(8,8)"},e.createElement("circle",{cx:"0",cy:"0",r:"8",className:"dragdrop-review-dot-"+this.state.reviewDot}),e.createElement("circle",{cx:"0",cy:"0",r:"7",className:"dragdrop-review-dot-"+this.state.reviewDot}),e.createElement("text",{textAnchor:"middle",y:"4"},e.createElement("tspan",null,this.getPath("props.model.reviewdata")))),DS.flagManager.updatedThemeColorsEnabled&&"matching"===s&&this.state.reviewStroke&&e.createElement("g",{transform:"translate(8,8)"},e.createElement("circle",{cx:"0",cy:"0",r:"8",style:M}),e.createElement("text",{textAnchor:"middle",y:"4.5",fill:"white"},e.createElement("tspan",null,this.getPath("props.model.reviewdata"))))),DS.flagManager.dropInInteractions&&e.createElement("span",null,f&&e.createElement("div",{style:L,className:b,onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},e.createElement(n,{ref:"acctext",model:this.getAccTextModel(),winScale:a,originX:this.originX,originY:this.originY}))),!DS.flagManager.dropInInteractions&&f&&e.createElement("div",{style:L,className:b,onMouseEnter:this.didMouseOver,onMouseLeave:this.didMouseOut,onTouchStart:this.didMouseOver,onTouchEnd:this.didMouseOut},e.createElement(n,{ref:"acctext",model:this.getAccTextModel(),winScale:a,originX:this.originX,originY:this.originY})))}}}.call(e,i,e,t))||(t.exports=n)},7622:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{DropListItem:function(){var t=i(7635),n=i(6329),r=i(281);this.isDropIn&&(e=DS.DropIn),DS.flagManager.dropInBase&&!DS.flagManager.dropInInteractions&&(r=r.wrapped),DS.flagManager.dropInVectors&&!DS.flagManager.dropInInteractions&&(t=t.wrapped,n=n.wrapped);var o=DS,s=o.svgUtils.buildUrl,a=o.utils,l=a.getPath,c=a.pxify,u=this.state,h=u.hovered,d=u.useAccText,p=this.props,f=p.width,g=p.height,m=p.yOff,v=p.altText,S=p.hoverColor,y=p.modelId,b=p.winScale,w=p.textdata,x=l(w,"vectortext.pr"),D=l(S,"fill"),C="".concat(y,"-fill"),E=s(C),P=null!=S&&h,T={position:"absolute",left:0,top:c(m*b),pointerEvents:"none"};return e.createElement("div",{style:{width:c(f*b),height:c(g*b)}},e.createElement("svg",{className:"eventable",viewBox:[0,0,f,g].join(" "),width:f*b,height:g*b,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{position:"absolute",left:0,top:c(m*b)}},e.createElement("g",{className:"drop-list-item",role:"option","aria-label":v,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onMouseUp:this.onClick,onTouchStart:this.onTouchStart,onTouchEnd:_.flow(this.onClick,this.didMouseOut),onTouchMove:this.onTouchMove},(DS.flagManager.dropInInteractions||P)&&e.createElement("defs",null,e.createElement(r,{fill:D,patternFillId:C})),e.createElement("rect",{width:f,height:g,className:this.fillColorClass(),style:P?{fill:E}:null}))),!d&&e.createElement("svg",{viewBox:[0,0,f,g].join(" "),width:f*b,height:g*b,"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:T},e.createElement(t,{ref:"vectortext",commandsetId:x.i,pathLib:x.l,textdata:w})),d&&e.createElement("div",{style:T},e.createElement(n,{ref:"acctext",model:this.getAccTextModel(),winScale:b,originX:10,originY:2,unclickable:"true"})))}}}.call(e,i,e,t))||(t.exports=n)},1723:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{DropListParentable:function(){var t=this,n=i(7635),o=i(7738),s=i(5700),a=i(6329),l=DS,c=l._,u=l.svgUtils,h=l.utils,d=l.utils,p=d.pxify,f=d.hexify,g=l.detection.os.isIOS;DS.flagManager.dropInVectors&&!DS.flagManager.dropInInteractions&&(n=n.wrapped,a=a.wrapped),this.isDropIn&&(e=DS.DropIn,DS.flagManager.dropInCore||(s=s.notWrapped));var m=this.state.winScale,v=this.state.reviewWidth||this.getPath("props.model.width"),S=this.getPath("props.model.height"),y=this.getPath("props.model.colors"),b=this.state.textdata,w=h.getPath(b,"vectortext.pr"),x=v-25+1,D=c.find(y,{name:"button_hover"}),C=this.state.hovered?null!=D?f(c.first(D.fill.colors).rgb):"#d5ffff":"white",E="#cecece",P=this.getItemHeight(),T=this.getListHeight(),I=g?"none":"block",A={"aria-hidden":"true",onFocus:this.onFocus};return e.createElement("div",r({className:"drop-list",tabIndex:"-1"},A),e.createElement("div",{className:"drop-list-drop-down",ref:"dropdown",style:{width:v*m,height:p((S+T)*m),borderColor:E,display:this.state.display,borderRadius:16*m}},e.createElement("div",{className:["drop-list-drop-down-inner",this.state.dropDownScrollable].join(" "),ref:"dropdownInner",style:{display:I,width:p(v*m),height:this.state.scrollBarHeight-S*m,position:"absolute",top:p(S*m),left:0}},this.itemslist.map((function(i,n){var r=t.props.model.itemsIdx[i.itemdata];return e.createElement(o,{ref:"item"+r,order:n,key:i.textdata.uniqueId,idx:r,width:v,height:P,winScale:m,hoverColor:c.find(y,{name:"item_hover"}),modelId:t.props.model.id,yOff:P*n,textdata:i.textdata,selected:t.focusItem,altText:i.textdata.altText})}))),this.state.dropDownScrollable&&e.createElement(s,{ref:"scrollBar",offY:S,offX:-4,width:v,height:this.state.scrollBarHeight/m-S,parent:this,closedHeight:S,refName:"dropdownInner",initSelf:!0,winScale:m})),e.createElement("div",{className:"drop-list-top-container"},e.createElement("svg",{width:v*m,height:S*m,viewBox:[0,0,v,S].join(" "),"data-xmlns-xlink":"http://www.w3.org/1999/xlink",style:{zIndex:100,overflow:"hidden"},focusable:"false"},e.createElement("g",{className:"drop-list-top eventable",onMouseDown:this.onShowList,onMouseOver:this.didMouseOver,onMouseOut:this.didMouseOut,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},e.createElement("rect",{width:v-1,height:S-1,rx:8,ry:8,stroke:E,fill:"white"}),e.createElement("path",{d:u.rightRoundedRectPath(x,1,22,S-3,8),fill:"url(#drop-list-gradient)",stroke:C}),e.createElement("path",{d:["M",v-25,0,"v",S-1].join(" "),stroke:"#cecece"}),e.createElement("g",{transform:u.transformTranslate(x+5.5,9)},e.createElement("path",{d:["M",0,0,"L",10,0,5,5,0,0].join(" "),fill:"#494949",stroke:"rgba(255, 255, 255, 0.8)"})))),e.createElement("div",{style:{position:"absolute",top:0,left:0,zIndex:100,overflow:this.state.ReviewMode&&!this.state.useAccText?"hidden":"visible",pointerEvents:"none"}},!this.state.useAccText&&e.createElement("svg",{width:(v-25-5)*m,height:S*m,viewBox:[0,0,v-25,S].join(" "),"data-xmlns-xlink":"http://www.w3.org/1999/xlink",focusable:"false"},e.createElement(n,{ref:"vectortext",commandsetId:w.i,pathLib:w.l})),this.state.useAccText&&e.createElement(a,{ref:"acctext",model:this.getAccTextModel(),textdata:this.state.textdata,winScale:m,originX:DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?8:10,originY:DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?0:2,unclickable:"true"}))))}}}.call(e,i,e,t))||(t.exports=n)},7681:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{DropListSlideObject:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("div",null)}}}.call(e,i,e,t))||(t.exports=n)},7414:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ExpandingLabelSlideObject:function(){var t,n=i(281),r=i(6844),o=this.shouldShowContent(),s=this.props.winScale;return!DS.flagManager.dropInMisc&&DS.flagManager.dropInBase&&(n=n.wrapped),this.isDropIn&&(e=DS.DropIn,r=DS.flagManager.dropInMisc&&!DS.flagManager.dropInCore?DS.DropIn.wrapReactChild({SlideObject:r}):r),e.createElement("div",{className:"expanding-label-container",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},e.createElement("svg",{className:["expanding-label-path",o?"content-shown":""].join(" "),viewBox:[0,0,this.labelSize.width,this.labelSize.height].join(" "),focusable:"false",style:{left:this.labelTranslate.offX*s,top:this.labelTranslate.offY*s,width:this.labelSize.width*s,height:this.labelSize.height*s}},this.props.model.background()&&e.createElement("defs",null,e.createElement(n,{patternFillId:this.patternFillId(),layerModel:this.props.model,isInnard:!0})),e.createElement("g",{transform:["translate(",this.labelTranslate.x,", ",this.labelTranslate.y,")"].join("")},e.createElement("path",{d:this.state.labelPath,stroke:this.props.model.get("borderColor")?this.props.model.get("borderColor"):"none",fill:this.props.model.get("background")?["url(#",this.patternFillId(),")"].join(""):"white"}))),e.createElement("div",{className:"expanding-label",style:{width:this.props.playerProps.width*s}},e.createElement("div",{className:"expanding-label-content",style:this.getContentStyles()},this.svg(),e.createElement("div",{ref:"contents",className:o?"shown":"hidden"},this.props.model.objects().map(function(i,n){var o=this;return t={ref:"obj"+n,key:i.cid,model:i,playerProps:this.props.playerProps,parent:this,winScale:this.props.winScale,checkElso:this.props.checkElso,slideVisible:this.props.slideVisible,onElsoAction:this.props.onElsoAction,addAccEl:function(t){o.props.addAccEl(t,{elsoId:o.props.model.absoluteId})}},i.isKind("scrollarea")&&(t.topOffset=6),e.createElement(r,t)}.bind(this))))))}}}.call(e,i,e,t))||(t.exports=n)},8017:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{GroupingSlideObject:function(){var t=i(6844),n={parent:this,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,tabIndexDisabled:this.props.tabIndexDisabled,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,winScale:this.props.winScale,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,addAccEl:this.props.addAccEl},o={width:n.parent.props.model.width()*n.winScale,height:n.parent.props.model.height()*n.winScale},s=this.props.model.objects();return"table"===this.props.model.get("kind")&&(n.tabIndexDisabled=!0,s.models.sort((function(t,e){var i=t.data().row-e.data().row;return 0===i&&(i=t.data().col-e.data().col),i}))),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"group",style:o},s.map(function(i,o){return e.createElement(t,r({ref:"obj"+o,layerIdx:this.props.parent.props.layerIdx,key:i.cid,model:i},n))}.bind(this)))}}}.call(e,i,e,t))||(t.exports=n)},7731:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}void 0===(n=function(t){var e=i(2577);return{ImageSlideObject:function(){var t,n,r=i(107),s=DS.svgUtils,a=DS.utils,l=this.props.winScale,c=o({transformOrigin:"top left"},this.cssTransform,s.transformScale(l)),u={width:this.props.playerProps.width*l,height:this.props.playerProps.height*l},h={left:this.props.model.get("btnxpos")*l,top:this.props.model.get("btnypos")*l},d=this.props.model.getCurrentStateData(),p=r.getAssetUrl(d.imagedata.assetId);return null!=d.html5data?(t=d.html5data.xPos,n=d.html5data.yPos,c.width=d.html5data.width,c.height=d.html5data.height):(t=this.props.model.get("xOffset"),n=this.props.model.get("yOffset")),h[this.cssTransform]=["translate(-50%, -50%)",s.transformTranslate(a.pxify(-t*l),a.pxify(-n*l)),s.transformRotate(-this.props.playerProps.Rotation+"deg")].join(" "),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"image-container slideobject-maskable","data-accepts":"events",style:{transform:s.transformTranslate(a.pxify(t*l),a.pxify(n*l)),width:u.width,height:u.height}},this.props.model.isZoomable()?e.createElement("div",null,e.createElement("img",{src:p,onClick:this.onClick,style:c}),e.createElement("div",{ref:"zoom",className:"zoom eventable",style:u,onClick:this.onClick},e.createElement("img",{className:"zoom-image",style:h,src:this.props.model.get("zoomiconurl")}))):e.createElement("img",{src:p,style:c}))}}}.call(e,i,e,t))||(t.exports=n)},3304:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{LanguagePicker:function(){var t=this,i=DS.focusManager;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"start-language-picker"},e.createElement("select",{className:"language-select",name:"language-picker",ref:"select",tabIndex:"0",onFocus:function(t){return i.setFocusRectOn(t.target)},onChange:this.onSelectionChange},this.state.languages.map((function(i){var n=i.langCode,r=i.displayName;return e.createElement("option",{key:n,value:n,selected:n===t.state.currLangCode},r)}))),e.createElement("div",{className:"caret"},e.createElement("svg",{viewBox:"0 0 83 47",height:"10",width:"10","data-xmlns-xlink":"http://www.w3.org/1999/xlink"},e.createElement("path",{d:"M81,1.9 c-1.4,-1.4,-3.8,-1.4,-5.3,0 l-34.8,34.9 L6.4,1.9 c-1.4,-1.4,-3.8,-1.4,-5.3,0 c-1.4,1.5,-1.4,3.9,0,5.3 l37.5,37.5 c0.7,0.7,1.7,1.1,2.7,1.1 s2,-0.4,2.7,-1.1 l37.5,-37.5 C82.9,5.7,82.9,3.3,81.4,1.9 z"}))))}}}.call(e,i,e,t))||(t.exports=n)},3891:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{LinearBackgroundGradient:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("linearGradient",{id:this.props.patternFillId,gradientTransform:["rotate(",this.fill().rotation," 0.5 0.5)"].join("")},this.fill().colors.map(function(t,i){return e.createElement("stop",r({key:i,offset:this.stopPct(t)+"%"},this.stopProps(t)))}.bind(this)))}}}.call(e,i,e,t))||(t.exports=n)},967:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{MessageWindow:function(){var t=i(8132),n=DS.detection,r=DS.utils;return this.isDropIn&&(e=DS.DropIn),e.createElement("span",null,e.createElement("div",{className:["message-window ",this.windowType(),"cs-window"].join(" "),"data-window-id":this.props.model.id},e.createElement("h3",{className:"message-window-heading message-window-header",style:{fontSize:"".concat(this.state.scale,"em")}},r.stripTags(this.getPath("state.currentSlide.title")||""),e.createElement("hr",{className:"cs-diva",role:"presentation"}),e.createElement("hr",{className:"cs-divb",role:"presentation"})),e.createElement(t,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,getWinScale:this.props.getWinScale,windowId:"MessageWnd"}),n.deviceView.isClassicMobile&&e.createElement("div",{className:"message-window-mobile-text"},this.state.mobileText)))}}}.call(e,i,e,t))||(t.exports=n)},6485:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{MessageWindowUnified:function(){var t=i(8132),n=DS.utils,r=this.getPath("props.model.width"),o=.8*r,s=(o-r)/2;return this.isDropIn&&(e=DS.DropIn),e.createElement("span",null,e.createElement("div",{className:["message-window ",this.windowType()].join(" "),style:{width:o,height:this.getPath("props.model.height")},"data-window-id":this.props.model.id},e.createElement("header",{className:"message-window-header"},e.createElement("h1",{className:"message-window-heading",dangerouslySetInnerHTML:{__html:this.getPath("state.currentSlide.title")||""}}),e.createElement("hr",{className:"cs-diva"}),e.createElement("hr",{className:"cs-divb"})),e.createElement("div",{className:"message-slide-container-wrapper",style:{position:"absolute",left:n.pxify(s)}},e.createElement(t,{ref:"slideContainer",shouldScale:this.isScaleable,windowType:this.windowType,currentSlide:this.state.currentSlide,isMessageWindow:!0,getWinScale:this.props.getWinScale,windowId:"MessageWnd"})),e.createElement("div",{className:"message-window-text-wrapper"},e.createElement("div",{className:"message-window-text"},this.state.messageWindowText))))}}}.call(e,i,e,t))||(t.exports=n)},5238:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{MobileStartOverlay:function(){var t=this,n=i(5040),o=DS,s=o.stringTabler,a=o.focusManager,l=o.detection,c=l.theme,u=c.isClassic,h=c.isUnified,d=l.env.is360,p=o.flagManager,f=o.localizationManager,g=this.state,m=g.i18ntitleText,v=g.i18nresumeText,S=g.i18nrestartText,y=f.isMultiLanguageProject();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"mobile-start-overlay "+(this.state.visible?"shown":"hidden"),role:"dialog","aria-modal":"true","aria-labelledby":"mobile-start-title"},e.createElement("div",{className:"mobile-load-title-overlay",style:{opacity:0}},e.createElement("div",{className:"mobile-load-title",id:"mobile-start-title"},p.multiLangSupport?m:this.state.titleText)),u&&e.createElement("button",{id:"mobile-start-button",role:"button","aria-label":s.getString("mobile_start"),onMouseDown:this.previewMouseEvent(this.onStart),onFocus:function(e){return t.onFocus("playIcon")},onBlur:function(t){return a.takeFocusOff()},tabIndex:"0"},e.createElement("svg",{ref:"playIcon",viewBox:"-10 -10 80 80",tabIndex:"-1",focusable:"false"},d&&e.createElement("circle",{fill:"white",cx:"32",cy:"22",r:"11"}),e.createElement("path",{transform:"scale(0.5) translate(30, 15) ",d:"M30,0C13.431,0,0,13.431,0,30s13.431,30,30,30s30-13.431,30-30S46.569,0,30,0z M22,43V17l20,13L22,43z"}))),h&&!this.state.isResumePrompt&&this.state.thumbnailEnabled&&this.state.thumbnailUrl&&e.createElement("div",{className:["mobile-start-overlay-thumbnail"].concat(r(this.state.thumbnailFillFrame?["fill-window"]:[])).join(" ")},e.createElement("img",{src:this.state.thumbnailUrl})),h&&!this.state.isResumePrompt&&e.createElement("button",{id:"mobile-start-button",role:"button","aria-label":s.getString("mobile_start"),onFocus:function(e){return t.onFocus("playIcon")},onBlur:function(t){return a.takeFocusOff()},onClick:this.onStart,style:{zIndex:DS.flagManager.dropInCore?1:null},tabIndex:"0"},e.createElement("svg",{className:"play-icon",ref:"playIcon",focusable:"false",viewBox:"0 0 125 125",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{opacity:"0.8",cx:"62.5",cy:"62.5",r:"61.5",fill:"black",stroke:"white",strokeWidth:"2"}),e.createElement("path",{d:"M51.8745 83.6249C52.6245 83.9999 53.3745 84.1249 54.1245 84.1249C54.9995 84.1249 55.9995 83.8749 56.7495 83.2499L81.9995 65.9999C83.2495 65.1249 83.9995 63.6249 83.9995 62.1249C83.9995 60.6249 83.2495 59.1249 81.8745 58.2499L56.6245 41.4999C55.1245 40.4999 53.3745 40.4999 51.7495 41.2499C50.2495 42.1249 49.2495 43.6249 49.2495 45.3749V79.3749C49.3745 81.2499 50.2495 82.8749 51.8745 83.6249Z",fill:"white"}))),h&&this.state.isResumePrompt&&e.createElement("div",null,e.createElement("div",{className:"mobile-start-resume-text"},e.createElement("button",{ref:"resume",onClick:this.onStart,"aria-label":p.multiLangSupport?v:this.state.resumeText,onFocus:function(e){return t.onFocus("resume")},onBlur:function(t){return a.takeFocusOff()},tabIndex:"0",style:{fontSize:"".concat(100*this.state.fontScale,"%"),borderRadius:"".concat(30*this.state.fontScale,"px")}},p.multiLangSupport?v:this.state.resumeText)),e.createElement("button",{className:"restart",ref:"restart","aria-label":p.multiLangSupport?S:this.state.restartText,onFocus:function(e){return t.onFocus("restart")},onBlur:function(t){return a.takeFocusOff()},onClick:this.onReset,style:{minHeight:"24px",minWidth:"24px"},tabIndex:"0"},e.createElement("svg",{className:"cs-icon",preserveAspectRatio:"none",x:"0px",y:"0px",width:"13px",height:"15.75px",focusable:"false",tabIndex:"-1"},e.createElement("path",{fill:"#FFFFFF",transform:"scale(".concat(this.state.fontScale,", ").concat(this.state.fontScale,") translate(0, ").concat(-7*(this.state.fontScale-1),")"),stroke:"none",d:" M 10.95 8.75 Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75 L 6 6.9 Q 6.05 7.75 6.85 7.35 L 11.35 4.3 Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2 L 6.85 0.15 Q 6.05 -0.3 6 0.6 L 6 2.75 Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75 L 10.95 8.75 Z"})),e.createElement("div",{className:"restart-text",style:{color:"white",display:"inline-block",paddingLeft:"1em",transform:"translateY(-3px)",fontSize:"".concat(13*this.state.fontScale,"px")}},p.multiLangSupport?S:this.state.restartText))),h&&this.state.thumbnailEnabled&&!this.state.isResumePrompt&&y&&e.createElement(n,null),h&&!this.state.thumbnailEnabled&&e.createElement("div",{className:["mobile-start-course-title"].concat(r(y?["multi-lang"]:[])).join(" ")},e.createElement("h1",{style:{fontSize:"".concat(20.28*this.state.fontScale,"px")},dangerouslySetInnerHTML:{__html:p.multiLangSupport?m:this.state.titleText}}),!this.state.isResumePrompt&&y&&e.createElement(n,null)))}}}.call(e,i,e,t))||(t.exports=n)},6134:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ObjectSlideBackground:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("pattern",{patternUnits:"userSpaceOnUse",height:this.getSlideHeight(),width:this.getSlideWidth(),id:this.props.id,patternTransform:[this.props.patternTransform," translate(",this.getX(),", ",this.getY(),") rotate(",this.getRot(),", ",this.getXRot(),", ",this.getYRot(),")"].join("")},e.createElement("use",{xlinkHref:"#slide-bg-"+this.getSlideId()}))}}}.call(e,i,e,t))||(t.exports=n)},8155:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{PlaceHolderSlideObject:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width,height:this.props.model.height}},this.props.model.kind())}}}.call(e,i,e,t))||(t.exports=n)},4146:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{PresentationOverlay:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:["overlay",this.displayClass(),this.props.className||""].join(" "),onClick:this.props.onClick||null,onTouchStart:this.props.onClick||null})}}}.call(e,i,e,t))||(t.exports=n)},5895:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{RichVariableText:function(){var t=i(362),n=DS._,o=DS.svgUtils,s=DS.vendorOverrides,a=(DS.flagManager,this.state.textLines),l=!1,c=s.getDxAdjustment||n.constant(0),u=function(t){return n.assign(t,{direction:"ltr"})};return this.isDropIn&&(e=DS.DropIn),e.createElement("g",r({},this.getInnerProps(),{className:"eventable",onMouseDown:this.onMouseDown,onClick:this.onClick,onMouseUp:DS.flagManager.dropInAcc&&this.onMouseUp,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}),a.map(function(i,a){var h=this,d=i.x,p=i.y,f=u(i.domStyle),g=i.runs,m=i.isRtl,v=i.isBiDi,S=i.backgrounds,y=i.linkBackgrounds,b=i.underlines,w=i.strikethroughs,x=i.lineXOff,D=i.lineWidth,C=c(i);return e.createElement("g",{key:a},new t(S).map((function(t,i){var o=t.x1,s=t.x2||D,a=n.omit(t,["x1","x2"]);return e.createElement("rect",r({className:"text-background",key:["bg",i].join(""),x:o+x,width:s-o},a))})).toArray(),new t(y).filter((function(t){return null!=t.linkId&&h.shouldShowLinkHighlight(t.linkId)})).map((function(t,i){var o=t.x1,s=t.x2||D,a=h.getLinkStateHighlightColor(t.linkId),l=n.extend(n.omit(t,["x1","x2","linkId"]),{fill:a});return e.createElement("rect",r({className:"text-background",key:["linkbg",i].join(""),x:o+x,width:s-o},l))})).toArray(),e.createElement("text",{x:d-C,y:p,style:f},new t(g).filter((function(t){return t.spans.some((function(t){return t.content.length>0}))})).map(function(i,a){var c=i.spans,h=u(i.domStyle),d=i.isRtl;return e.createElement("tspan",{key:a,className:"text-run",style:h},new t(c).filter((function(t){return t.content.length>0})).map(function(t,i){this.saveInitialLinkColors(t);var a=t.content,u=t.dx,h=t.xs,f=t.widths,g=t.hasShadow,S=this.getTSpanStyle(t),y=t.y,b=t.linkId,w=-n.get(c,[i-1,"y"],p)+y,D=n.findLastIndex(u,(function(t){return 0!==t}))+1,C={dx:u.slice(0,D).join(" "),dy:w,style:S,className:null==b?"text-segment":"text-segment link"},E=a.join("");if(g&&s.tspanFilters&&(C.style.filter=o.buildUrl(this.shadowFilterId),l=!0),m||v){var P,T={direction:d?"rtl":"ltr"},I=n.reduce(u,(function(t,e,i){return(null==P||0!==e&&P.chars.length>0)&&(null!=P&&P.chars.length&&P.chars.push("​"),P={chars:[],x:h[i]+(d?f[i]:0),width:0},t.push(P)),P.chars.push(a[i]),P.width+=f[i],t}),[]);E=I.map((function(t,i){return e.createElement("tspan",{key:i,className:"rtl-pos-span",style:T,y:p,x:t.x+x+(d?-1:1)*t.width/2,"data-linkid":b},t.chars.join(""))})),delete C.dx,delete C.dy}return e.createElement("tspan",r({key:i},C,{"data-linkid":b}),E)}.bind(this)).toArray())}.bind(this)).toArray()),new t(b).concat(w).map(function(t,i){var o=t.x1,s=t.x2||D,a=t.y,l=this.getLinkStateUnderlineColor(t.linkId,t.linkRef,t.hiddenLinkUnderline)||t.stroke,c=n.omit(t,["x1","x2","y","stroke"]);return e.createElement("line",r({key:["dec",i].join(""),x1:o+x,x2:s+x,y1:a,y2:a,stroke:l},c))}.bind(this)).toArray())}.bind(this)),l&&e.createElement("defs",null,e.createElement("filter",{id:this.shadowFilterId,x:"0%",y:"0%",width:"113%",height:"113%"},e.createElement("feFlood",{floodColor:"#969696"}),e.createElement("feComposite",{in2:"SourceAlpha",operator:"in"}),e.createElement("feGaussianBlur",{stdDeviation:"1"}),e.createElement("feOffset",{dx:"1.5",dy:"1.5"}),e.createElement("feMerge",null,e.createElement("feMergeNode",null),e.createElement("feMergeNode",{in:"SourceGraphic"})))))}}}.call(e,i,e,t))||(t.exports=n)},6224:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{ScrollAreaSlideObject:function(){var t=i(6844),n=i(4977),o=i(5700),s=DS.detection,a=this.props.topOffset||0,l=this.props.winScale,c=this.width(),u=this.height(),h={parent:this,onScrollFocus:this.childScrollFocus,onBeforeScrollFocus:this.beforeChildScrollFocus,slideVisible:this.props.slideVisible,slideFrame:this.props.slideFrame,winScale:l,checkElso:this.props.checkElso,onElsoAction:this.props.onElsoAction,addAccEl:this.props.addAccEl,tabIndexDisabled:this.props.tabIndexDisabled};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"scrollarea",style:{width:(c-(s.deviceView.isMobile?10:0))*l,height:u*l,top:"".concat(a*l,"px")}},this.hasVectorBackground()&&e.createElement("div",{className:"scrollarea-background"+(this.state.tabFocused?"focused":"")},e.createElement(n,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps,winScale:l,className:"scrollarea-background-svg",isInnard:!0})),this.hasImageBackground()&&e.createElement("div",{className:"scrollarea-background"},e.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()})),e.createElement("div",{className:"scrollarea-area "+(this.state.shouldNotScroll?"prevent-scroll":"is-scrollable"),"data-accepts":"events",ref:"scrollArea",style:{width:c*l,height:(u-a)*l}},e.createElement("div",{ref:"contentArea",style:{height:this.state.contentHeight*l,width:c*l,position:"absolute"}},this.props.model.objects().map(function(i,n){return e.createElement(t,r({ref:"obj"+n,layerIdx:this.props.parent.props.layerIdx,key:i.cid,model:i},h))}.bind(this)))),!this.state.shouldNotScroll&&!s.browser.isIE&&e.createElement(o,{ref:"scrollBar",width:c,height:u-a,winScale:l,offY:a,parent:this}))}}}.call(e,i,e,t))||(t.exports=n)},6068:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{ScrollBar:function(){var t=!DS.detection.env.isPerpetual,i=this.props,n=i.winScale,o=i.offY,s=i.offX,a=i.width,l=i.height,c={},u={},h={},d={},p=["scrollarea-scrollbar"].concat(r(t?["high-contrast-scroll"]:[]));return t||(c={top:(o||0)*n,left:((s||0)+a)*n-10,height:l*n},u={width:"".concat(10*n,"px"),left:"".concat(20*n,"px"),borderRadius:"".concat(5*n,"px")},h={width:"".concat(10*n,"px"),borderRadius:"".concat(5*n,"px")},d={width:"".concat(8*n,"px"),left:"".concat(21*n,"px"),borderRadius:"".concat(5*n,"px")}),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:p.join(" "),ref:"scrollBar",style:c,onMouseDown:this.onAutoScroll,onTouchStart:this.onAutoScroll},e.createElement("div",{ref:"before",className:"scrollarea-scrollbar-before",style:u}),e.createElement("div",{ref:"scrollBtn",className:"scrollarea-btn",onMouseDown:this.onScrollBtnDown,onTouchStart:this.onScrollBtnDown,style:h}),e.createElement("div",{ref:"after",className:"scrollarea-btn-after",style:d}))}}}.call(e,i,e,t))||(t.exports=n)},99:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}void 0===(n=function(t){var e=i(2577);return{SequenceCtrlDrop:function(){var t,i=this.props.winScale,n=this.props.numWidth*i,r=16*i/2,s=this.props.height*i,a=this.props.width*i,l=5*i,c=n/2+(s-n)/2;return DS.flagManager.dropInInteractions&&(e=DS.DropIn),e.createElement("div",{className:"sequence-ctrl-drop",style:{top:this.props.yOff*i,width:a+n,height:s}},!DS.flagManager.updatedThemeColorsEnabled&&e.createElement("div",{className:"sequence-ctrl-num",style:{width:n,height:s,lineHeight:s+"px",color:this.state.reviewColor,fontSize:"".concat(16*this.props.winScale,"px")}},this.state.reviewIdx+1+"."),DS.flagManager.updatedThemeColorsEnabled&&e.createElement("div",{className:"sequence-ctrl-num",style:{width:n,height:s,fontSize:"".concat(14*i,"px")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{transform:"translate(".concat(n/2,", ").concat(c,")")},e.createElement("circle",{cx:"0",cy:"0",r:n/2-2,style:{fill:this.state.reviewColor,stroke:"white",strokeWidth:2*i}}),e.createElement("text",{textAnchor:"middle",x:i/2,y:l,fill:"white"},e.createElement("tspan",null,this.state.reviewIdx+1+"."))))),e.createElement("div",{className:"sequence-ctrl-hit",style:{width:a,height:s}}),e.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-top",style:{width:this.props.width,transform:"scale(".concat(i,", ").concat(i,")"),transformOrigin:"top left",left:n,top:-r,display:this.state.topBar?"block":"none"}}),e.createElement("div",{className:"sequence-ctrl-bar sequence-ctrl-bar-bottom",style:(t={top:s,width:this.props.width,transform:"scale(".concat(i,", ").concat(i,")"),transformOrigin:"top left",left:n},o(t,"top",s+r),o(t,"display",this.state.bottomBar?"block":"none"),t)}))}}}.call(e,i,e,t))||(t.exports=n)},4900:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SequenceCtrlSlideObject:function(){var t=i(9225),n=i(9721),r=i(5700),o=DS.detection,s=this.props.winScale,a=this.getPath("props.model.width"),l=this.getPath("props.model.height"),c=8*s,u={height:l*s,marginLeft:4*s,overflow:"hidden"},h=(a+4)*s,d=(6+_.sum(this.state.itemslist,(function(t){return t.textdata.height+16})))*s,p=0,f=11,g=this.props.model.get("colors");return DS.flagManager.dropInInteractions&&(e=DS.DropIn,DS.flagManager.dropInCore||(r=r.notWrapped)),e.createElement("div",{className:"sequence-ctrl",style:_.extend({width:h},u)},e.createElement("div",{className:"sequence-ctrl-scroll-area is-scrollable",ref:"scrollArea",style:_.extend({width:h-c},u)},e.createElement("div",{className:"sequence-ctrl-scroll-area-contents"},this.state.itemslist.map(function(i,n){var r=i.textdata.height;return f=(p=f)+r+16,e.createElement(t,{ref:"item"+n,parent:this,slideOwner:this.props.model.getSlide(),key:i.textdata.uniqueId,idx:n,width:i.textdata.width,height:i.textdata.height,numWidth:this.numWidth,yOff:p,winScale:s,pr:i.textdata.vectortext.pr})}.bind(this)),this.state.itemslist.map(function(t,i){var r=this,o=(t.textdata.height,{style:"wordbank",width:a-(this.numWidth+18+c+4),height:t.textdata.height,kind:"dragitem",xOff:t.textdata.xPos,yOff:t.textdata.yPos,itemdata:t.itemdata,idx:i,data:{textdata:t.textdata},parentModel:this.props.model,setTransformDirty:function(){return r.transformDirty=!0},getSlide:function(){return r.props.model.getSlide()},absoluteId:this.props.model.absoluteId});return e.createElement("div",{className:"sequence-ctrl-drag-container",key:i,ref:"sequenceItemContainer"+i,style:{position:"absolute"}},e.createElement(n,{ref:"sequenceItem"+i,key:t.textdata.uniqueId,idx:i,parent:this,colors:g,winScale:s,model:o}))}.bind(this)),e.createElement("div",{style:{width:1,height:1,top:d,position:"absolute",visibility:"hidden"}}))),this.state.shouldScroll&&!o.browser.isIE&&e.createElement(r,{ref:"scrollBar",width:a-4-c,height:l,offY:0,winScale:s,parent:this,initSelf:!0}))}}}.call(e,i,e,t))||(t.exports=n)},8597:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{Slide:function(){var t,n=i(3326),r=i(7155),o=i(8306),s=i(6174),a=DS.detection,l=this.props.winScale,c=this.props.model,u=this.props.model.get("width"),h=this.props.model.get("height"),d=this.getPath("props.model.background.type"),p=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),f={zIndex:this.state.transitionDepth,width:u*l,height:h*l},g=this.props.slideFrame;return null!=g&&(t=g.props.model,f.top=Math.max(0,(t.get("height")-c.get("height"))/2)*l,f.left=Math.max(0,(t.get("width")-c.get("width"))/2)*l),this.isDropIn&&(e=DS.DropIn),DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc&&(s=DS.DropIn.wrapReactChild({AccShadowDom:s})),e.createElement("div",{className:p,role:"presentation","data-rollout-highest-node":"true","data-id":this.props.model.id,style:f,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},e.createElement("div",{ref:"zoomPanTarget"},!!d&&"vector"===d&&e.createElement(o,{ref:"bg",model:this.props.model,winScale:l}),!!d&&"vector"!==d&&e.createElement(r,{ref:"bg",layerModel:this.props.model,winScale:l}),e.createElement("div",{className:"zoom-bg-container"}),this.props.slideContainer.props.currentSlide===this.props.model&&e.createElement(s,{ref:"accShadowDom",winScale:l,accSlide:this,width:this.props.model.get("width"),height:this.props.model.get("height")}),e.createElement("div",{className:"acc-blocker","aria-hidden":"true",onClick:function(){}}),this.getPath("props.model.slideLayers").map(function(t,i,r){return e.createElement(n,{ref:"layer"+i,key:t.cid,idx:r.length-i,model:t,slideFrame:this.props.slideFrame,winScale:l,width:u,height:h,addAccEl:this.addAccEl,retainShadowFocus:this.retainShadowFocus,getCurrentShadowFocus:this.getCurrentShadowFocus})}.bind(this)),e.createElement("div",{ref:"contentArea",className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}),!a.deviceView.isMobile&&e.createElement("div",{className:"slide-text-fix"}),e.createElement("div",{ref:"mouse-blocker",className:"mouse-blocker ".concat(this.state.trulyVisible?"truly-visible":"")})))}}}.call(e,i,e,t))||(t.exports=n)},1393:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SlideBackground:function(){var t=i(281),n=this.props,r=n.winScale,o=n.layerModel,s=o.get("width"),a=o.get("height");return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:s*r,height:a*r,viewBox:[0,0,s,a].join(" "),focusable:"false"},e.createElement("defs",null,"fill"===this.props.layerModel.background().type?e.createElement(t,{patternFillId:this.patternFillId(),layerModel:this.props.layerModel}):e.createElement("pattern",{id:this.patternFillId(),width:s,height:a,patternUnits:"userSpaceOnUse"},e.createElement("image",{width:s,height:a,xlinkHref:this.props.layerModel.backgroundImageUrl()}))),e.createElement("rect",{id:"slide-bg-"+this.props.layerModel.get("id"),width:s,height:a,fill:["url(#",this.patternFillId(),")"].join("")}))}}}.call(e,i,e,t))||(t.exports=n)},4036:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SlideContainer:function(){var t=i(2559),n=DS.svgUtils,r=DS.utils,o=DS.detection,s={overflow:this.state.overflowHide&&!o.deviceView.isUnifiedMobile?"hidden":"visible"},a=Object.assign({},this.state.loadContainerStyleAttr),l=null!=this.props.getWinScale?this.props.getWinScale():1,c=this.state.xOff||0,u=this.state.yOff||0;this.state.scale&&(l=this.state.scale);var h=l;return DS.flagManager.slideLevelScale&&!(o.theme.isClassic||o.browser.isSafariMac)?(s[this.cssTransform]=[n.transformScale(l),n.transformTranslate(r.pxify(Math.round(c)),r.pxify(Math.round(u)))].join(" "),s[this.cssTransformOrigin]=this.state.origin||"0 0",s.margin="0",l=1):s[this.cssTransform]=n.transformTranslate(r.pxify(Math.round(c)),r.pxify(Math.round(u))),null!=this.state.origin&&(s[this.cssTransformOrigin]=this.state.origin),this.props.currentSlide&&(s.width=this.props.currentSlide.get("width")*l,s.height=this.props.currentSlide.get("height")*l,a.width=s.width),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{style:s,className:"slide-container"},DS.flagManager.dropInAcc&&e.createElement("span",{"data-dv_keys":"true"},this.state.slides.map(function(i){return e.createElement(t,{ref:i.absoluteId,key:i.absoluteId,model:i,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,i),slideContainer:this,windowId:this.props.windowId,winScale:l,slideWinScale:h})}.bind(this))),!DS.flagManager.dropInAcc&&this.state.slides.map(function(i){return e.createElement("div",{key:i.absoluteId,className:"slide-transition-container",style:{width:"".concat(i.get("width")*l,"px"),height:"".concat(i.get("height")*l,"px"),overflow:"hidden"}},e.createElement(t,{ref:i.absoluteId,model:i,isMessageWindow:this.props.isMessageWindow,transitionComplete:this.transitionComplete,killSlide:this.killSlide.bind(this,i),slideContainer:this,windowId:this.props.windowId,winScale:l,slideWinScale:h}))}.bind(this)),o.deviceView.isMobile&&e.createElement("div",{className:"swipe-transition-container"}),!o.deviceView.isClassicDesktop&&this.props.currentSlide&&!this.props.isMessageWindow&&!this.firstLoad&&e.createElement("div",{className:"load-container",style:a},e.createElement("div",{className:"slide-loader"},e.createElement("div",{className:"mobile-loader-dot dot1"}),e.createElement("div",{className:"mobile-loader-dot dot2"}),e.createElement("div",{className:"mobile-loader-dot dot3"}))))}}}.call(e,i,e,t))||(t.exports=n)},5390:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{SlideControlButton:function(){var t=DS._,i=["btn","cs-button","inflexible",this.disabled()?"cs-disabled":"","slide-control-button-"+this.props.kind,"slide-lockable"],n=t.omit(this.props,["kind","onButtonDown","slide","windowId"]);return this.visible()||i.push("hidden"),this.state.focused&&i.push("focused"),e.createElement("button",r({ref:"btn",className:i.join(" "),"aria-disabled":this.disabled(),tabIndex:"-1"},n,this.getButtonEvents()),this.props.children)}}}.call(e,i,e,t))||(t.exports=n)},6208:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SlideDropInAcc:function(){var t,n=i(3326),r=i(7155),o=i(8306),s=i(6174),a=DS.detection,l=this.props.winScale,c=this.props.model,u=this.props.model.get("width"),h=this.props.model.get("height"),d=this.getPath("props.model.background.type"),p=["slide",["cs-",this.props.model.id.replace(/_/g,"-")].join("")].join(" "),f={zIndex:this.state.transitionDepth,width:u*l,height:h*l},g=this.props.slideFrame;return null!=g&&(t=g.props.model,f.top=Math.max(0,(t.get("height")-c.get("height"))/2)*l,f.left=Math.max(0,(t.get("width")-c.get("width"))/2)*l),this.isDropIn&&(e=DS.DropIn),DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc&&(s=DS.DropIn.wrapReactChild({AccShadowDom:s})),e.createElement("div",{className:"slide-transition-container",style:{width:"".concat(c.get("width")*this.props.winScale,"px"),height:"".concat(c.get("height")*this.props.winScale,"px"),zIndex:this.state.transitionDepth}},e.createElement("div",{className:p,role:"presentation","data-rollout-highest-node":"true","data-id":this.props.model.id,style:f,onMouseDownCapture:this.onStoreMouseLoc,onTouchStartCapture:this.onStoreTouchLoc,onContextMenu:this.onCtxMenu},e.createElement("div",{ref:"zoomPanTarget"},!!d&&"vector"===d&&e.createElement(o,{ref:"bg",model:this.props.model,winScale:l}),!!d&&"vector"!==d&&e.createElement(r,{ref:"bg",layerModel:this.props.model,winScale:l}),e.createElement("div",{className:"zoom-bg-container"}),this.props.slideContainer.props.currentSlide===this.props.model&&e.createElement(s,{ref:"accShadowDom",winScale:l,accSlide:this,width:this.props.model.get("width"),height:this.props.model.get("height")}),e.createElement("div",{className:"acc-blocker","aria-hidden":"true",onClick:function(){}}),this.getPath("props.model.slideLayers").map(function(t,i,r){return e.createElement(n,{ref:"layer"+i,key:t.cid,idx:r.length-i,model:t,slideFrame:this.props.slideFrame,winScale:l,width:u,height:h,addAccEl:this.addAccEl,retainShadowFocus:this.retainShadowFocus,getCurrentShadowFocus:this.getCurrentShadowFocus})}.bind(this)),e.createElement("div",{ref:"contentArea",className:["slide-top-container",!this.props.slideFrame&&"slide-top-container-main"].join(" ")}),!a.deviceView.isMobile&&e.createElement("div",{className:"slide-text-fix"}),e.createElement("div",{ref:"mouse-blocker",className:"mouse-blocker ".concat(this.state.trulyVisible?"truly-visible":"")}))))}}}.call(e,i,e,t))||(t.exports=n)},6954:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SlideFrameSlideObject:function(){var t=i(2559),n=i(4977),r=DS._;return e.createElement("div",{className:"slideframe",style:{width:this.props.playerProps.width,height:this.props.playerProps.height}},this.hasVectorBackground()&&e.createElement(n,{ref:"bg",model:this.props.model,playerProps:this.props.playerProps}),this.hasImageBackground()&&e.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.state.slideModel&&e.createElement(t,{model:this.state.slideModel,slideFrame:this,transitionComplete:r.noop,onSlideStarted:this.onSlideStarted}))}}}.call(e,i,e,t))||(t.exports=n)},4898:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SlideLayer:function(){var t=i(6844),n=i(1309),r=i(7155),o=this.props.model,s=this.state.renderChildren||this.isVisible()||o.willLayerResume(),a=this.props.winScale,l=this.props.model.objects();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{ref:"contentArea",className:["slide-layer",this.props.model.isBaseLayer()?"base-layer":"",this.displayClass()].join(" "),style:{pointerEvents:this.props.model.isPenetrable()?"none":"auto",zIndex:this.state.depth,width:this.props.width*a,height:this.props.height*a}},s&&this.props.model.get("modal")&&e.createElement("div",{className:"layer-modal-bg"}),DS.flagManager.dropInCore&&e.createElement("span",null,s&&l.map(function(i,n){return e.createElement(t,{ref:"obj"+n,layerIdx:this.props.idx,key:i.cid,model:i,winScale:a,tabIndexDisabled:this.state.tabIndexDisabled,slideVisible:"shown"===this.displayClass(),addAccEl:this.props.addAccEl,slideFrame:this.props.slideFrame})}.bind(this))),!DS.flagManager.dropInCore&&s&&l.map(function(i,n){return e.createElement(t,{ref:"obj"+n,layerIdx:this.props.idx,key:i.cid,model:i,winScale:a,tabIndexDisabled:this.state.tabIndexDisabled,slideVisible:"shown"===this.displayClass(),addAccEl:this.props.addAccEl,slideFrame:this.props.slideFrame})}.bind(this)),s&&this.props.model.hasBackground()&&e.createElement(r,{ref:"bg",layerModel:this.props.model,winScale:this.props.winScale}),this.state.audio&&e.createElement("div",{ref:"allAudio",className:"hidden"},this.props.model.audiolib().map(function(t,i){return e.createElement(n,{ref:"audio"+i,key:i,model:t,slideVisible:"shown"===this.displayClass(),objectVisible:!0,timeline:this.props.model.timeline()})}.bind(this))))}}}.call(e,i,e,t))||(t.exports=n)},9788:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{SlideObject:function(){var t=this.getStyles(),i=this.props,n=i.winScale,o=i.model;this.isDropIn&&(e=DS.DropIn);var s=["slide-object","slide-object-"+o.kind(),this.displayClass(),this.cursorClass(),this.state.tabFocused?"focused":"",o.isToolTip()?"tooltip":"",o.isDraggable()?"draggable":"",o.isRotatable()?"rotatable":"",o.getTweenableClass(),o.getIsSlideableParent&&o.getIsSlideableParent()?"slideable-parent":""].join(" "),a=this.props.model.isEventable&&["onrelease","onpress","onkeypress"].some((function(t){return o.hasEvent(t)}))?this.onMouseUp:null,l={tabIndex:"-1","aria-hidden":!o.isWebObject()&&!this.state.fullScreen,onMouseUp:a};return e.createElement("div",r({className:s,style:t,"data-model-id":o.id,"data-acc-text":this.getAccessibleText()},l),function(){var t=o.get("markerType");if(null!=t){var i=o.get("height"),r="swirl"===t?{left:-3*n,top:i/2*n,width:(i/2+3)*n,height:(i/2+3)*n,borderBottomLeftRadius:(i+6)*n,"--marker-size":"".concat(i,"px"),"--animation-margin":"".concat(i/5,"px")}:{transform:"translate(-".concat(i/5*n,"px, -").concat(i/5*n,"px) scale(").concat(n,")"),transformOrigin:"0 0","--marker-size":"".concat(i,"px"),"--animation-margin":"".concat(i/5,"px")};return e.createElement("div",{ref:"markerAnimation",className:"marker-animation marker-animation-".concat(t),style:r})}}(),o.isHotSpotMarker()&&e.createElement("div",{style:{transform:"scale(".concat(n,", ").concat(n,")")}},e.createElement("div",{className:"hotspot-marker"},e.createElement("span",null))),e.createElement(this.slideObjectInnard,this.getInnardConfigs()))}}}.call(e,i,e,t))||(t.exports=n)},2905:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SlideWindow:function(){var t=i(8132),n=i(231),r=this.getBackground();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{id:"slide-window"},e.createElement("div",{className:"slide-window-slide-container cs-slide-container"},null!=r&&e.createElement(n,{bg:r}),e.createElement(t,{ref:"slideContainer",currentSlide:this.state.currentSlide,windowId:this.props.id,lightboxed:this.props.lightboxed,hasControls:this.props.hasControls,getWinScale:this.props.getWinScale,onPinchZoom:this.props.onPinchZoom||function(){},getPinchZoomBounds:this.props.getPinchZoomBounds||function(){}})))}}}.call(e,i,e,t))||(t.exports=n)},8888:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{StateGroupSlideObject:function(){var t=i(6844),n={winScale:this.props.winScale,onScrollFocus:this.props.onScrollFocus,checkElso:this.checkElso,onElsoAction:this.onElsoAction,slideVisible:this.props.slideVisible,playerProps:this.props.playerProps,parent:this,slideFrame:this.props.slideFrame,tabIndexDisabled:this.props.tabIndexDisabled,addAccEl:this.props.addAccEl},o={width:n.parent.props.model.width()*n.winScale,height:n.parent.props.model.height()*n.winScale};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"group "+(this.props.model.prop("OnStage")?"":"hidden"),style:o},this.props.model.objects().map(function(i,o){return e.createElement(t,r({ref:"obj"+o,layerIdx:this.props.parent.props.layerIdx,key:o,model:i},n))}.bind(this)),e.createElement("div",{className:"state-group-top-level"}))}}}.call(e,i,e,t))||(t.exports=n)},5607:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{SvgImageSlideObject:function(){var t=i(107),n=this.props.model.getCurrentStateData(),r=n.imagedata,o=r.width,s=r.height,a=t.getAsset(n.imagedata.assetId),l=this.props.winScale;return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:"svgImage",preserveAspectRatio:"none","data-accepts":"events",width:o*l,height:s*l,viewBox:"0 0 ".concat(a.width()," ").concat(a.height())},e.createElement("use",{href:"#".concat(a.get("dataId")),"data-pointer-events":"true"}))}}}.call(e,i,e,t))||(t.exports=n)},2115:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{TextInputSlideObject:function(){var t=i(4977),n=(DS.utils,this.props.winScale),o=this.getPath("props.model.maxchars"),s=this.getInputStyle(),a={width:this.getPath("props.model.width")*n,height:this.getPath("props.model.height")*n},l={role:"presentation","aria-hidden":"true",readOnly:"true",tabIndex:"-1"};return DS.detection.deviceView.isDesktop&&DS.detection.theme.isUnified&&(a.position="absolute",a.top=0),this.hasVectorBackground()||this.hasImageBackground()||(a.border="1px solid rgb(160,160,160)",a.backgroundColor="#fff"),this.isDropIn&&(DS.flagManager.dropInCore||(t=DS.flagManager.dropInVectors?t.notWrapped:DS.DropIn.wrapReactChild({VectorSlideObject:t})),e=DS.DropIn),e.createElement("div",{className:this.state.placeholderClass,style:{height:DS.flagManager.dropInCore&&"100%"}},this.hasVectorBackground()&&e.createElement(t,{ref:"bg",model:this.props.model,winScale:n,playerProps:this.props.playerProps,isInnard:!0}),this.hasImageBackground()&&e.createElement("img",{ref:"bg",src:this.getImageBgUrl(),style:this.getImageBgStyle()}),this.isTextArea()?e.createElement("div",{style:a},e.createElement("textarea",r({ref:"input"},l,{className:DS.detection.deviceView.isMobile?"mobile-textarea":"",onFocus:this.onInputFocus,style:s,maxLength:o>0?o:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),placeholder:this.getPath("props.model.placeHolderText"),value:this.state.inputValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart}))):e.createElement("input",r({ref:"input"},l,{onFocus:this.onInputFocus,type:"text",style:_.extend({},a,s),maxLength:o>0?o:"","data-accepts":"events",disabled:!this.getPath("props.playerProps.Enabled"),value:this.state.inputValue,placeholder:this.getPath("props.model.placeHolderText"),onChange:this.onInputChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onTouchStart:this.onTouchStart})))}}}.call(e,i,e,t))||(t.exports=n)},1238:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ThreeSixtyImageSlideObject:function(){i(4922);var t={position:"absolute",left:0,top:0,width:Math.ceil(this.props.model.width()*this.props.winScale),height:Math.ceil(this.props.model.height()*this.props.winScale)};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"three-sixty-image",style:t},e.createElement("div",{className:"three-gl",ref:"glEl",style:t}),e.createElement("div",{className:"three-css",ref:"cssEl",style:t}),e.createElement("div",{className:"three-overlays",ref:"overlaysEl",style:t},e.createElement("svg",{className:"three-overlay-svg",ref:"overlaySvgEl",style:t,width:t.width,height:t.height}),e.createElement("div",{className:"three-misc-overlays",ref:"miscOverlaysEl",style:t})))}}}.call(e,i,e,t))||(t.exports=n)},9705:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VariableText:function(){var t={height:this.props.model.height(),width:this.props.model.width()};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"textlib"+(this.state.isVisible?"":" invisible")+(this.props.hasShadow?" object-text-shadow":""),style:t},e.createElement("div",{className:"textlib-inner "+this.state.valignClass,onClick:this.possibleHit,style:this.getInnerProps()},e.createElement("div",{ref:"textLibContentWrap",className:"textlib-content-wrap",dangerouslySetInnerHTML:{__html:this.state.embeddedTemplate}})))}}}.call(e,i,e,t))||(t.exports=n)},3806:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VectorSlideBackground:function(){var t=i(447);return this.isDropIn&&(e=DS.DropIn),e.createElement(t,{vectorData:this.props.model.background().vectorData,model:this.props.model,playerProps:this.props.playerProps,winScale:this.props.winScale})}}}.call(e,i,e,t))||(t.exports=n)},3712:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VectorText:function(){var t=i(7635),n=i(1806),r=DS._;return this.isDropIn&&(e=DS.DropIn),e.createElement("g",{className:"vector-text-item"},e.createElement("g",{transform:this.getTransform()},this.props.hasShadow&&e.createElement(t,{ref:"itemShadow",isShadow:!0,pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId}),e.createElement(t,{ref:"item",pathLib:this.state.curPathLib,commandsetId:this.state.curCommandsetId})),this.props.textLibItem&&this.props.textLibItem.linkdata().map(function(t,i){return e.createElement(n,{key:"hitArea"+i,ref:"hitItem"+i,color:r.get(t.get("fill"),"colors[0]"),hotAreas:t.get("hotareas"),linkId:t.get("id"),link:t,renderLinkCallback:this.renderLinkCallback,onOverCallback:this.onOverCallback,onOutCallback:this.onOutCallback,onClickCallback:this.onClickCallback})}.bind(this)))}}}.call(e,i,e,t))||(t.exports=n)},4018:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VectorTextHitArea:function(){var t=DS.utils,i=function(t){return"hotarea_"+t};return this.isDropIn&&(e=DS.DropIn),e.createElement("g",null,this.props.hotAreas.map(function(n,r){return e.createElement("g",{ref:i(r),key:i(r)},e.createElement("rect",{className:"link-hit-area","data-hotarea":i(r),x:n.xPos,y:n.yPos,width:n.width,height:n.height,onMouseOver:this.renderAs,onMouseOut:this.renderAs,onMouseDown:this.renderAs,onMouseUp:this.renderAs}),e.createElement("rect",{className:"link-highlight-area","data-linkarea":i(r),x:n.xPos,y:n.yPos,width:n.width,height:n.height,fill:null==this.props.color?"none":t.hexify(this.props.color.rgb),style:{opacity:0},"data-link-id":this.props.linkId}))}.bind(this)))}}}.call(e,i,e,t))||(t.exports=n)},1057:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VideoControls:function(){var t=i(7656),n=DS,r=n.detection,o=n.utils,s=this.props.isPlaying?"pauseLegacy":"playLegacy",a=this.props.winScale,l=1/a,c=o.decToPct(l,!0),u=r.theme.isClassic&&r.deviceView.isDesktop,h={transform:"scale(".concat(a,")"),transformOrigin:"top left",fontSize:u?"".concat(1/a,"em"):null,width:c,maxWidth:c},d={};return r.env.videoControlsFont&&(d.fontFamily=r.env.videoControlsFont),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"video-controls inflexible",style:h},e.createElement("div",{className:"video-controls-play-pause inflexible",ref:"playPause",onClick:!r.device.isMobile&&this.props.toggleVideoControls,onTouchStart:r.device.isMobile&&this.props.toggleVideoControls},e.createElement("button",{ariaHidden:"true",tabIndex:"-1"},e.createElement(t,{key:s,type:s}))),e.createElement("div",{className:"progress-bar",ref:"progressBar"},e.createElement("div",{className:"progress-bar-inner",ref:"progressBarInner"},e.createElement("div",{className:"progress-bar-seek"},e.createElement("div",{className:"progress-bar-fill",style:{width:this.props.currentTime/this.props.duration*100+"%"}}))),e.createElement("div",{className:"progress-bar-elapsed-time",style:d},e.createElement("span",null,this.currentTimeFormatted()),e.createElement("span",{className:"progress-bar-total-duration"}," / ",this.durationFormatted()))))}}}.call(e,i,e,t))||(t.exports=n)},7920:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VideoPlayer:function(){var t=DS.utils,i=(DS.automation,this.state.hasEverPlayed),n=this.props.posterFrameUrl,r=this.props.playerProps.width*this.props.winScale,o=this.props.playerProps.height*this.props.winScale,s={height:t.pxify(o),width:t.pxify(r)},a=!DS.detection.theme.isClassic&&!DS.detection.env.isPerpetual;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"video-player-limited-container",style:s,"data-accepts":"events"},e.createElement("div",{ref:"container",className:a?"modern-video":null}),!i&&null!=n&&e.createElement("img",{className:"video-player-poster",width:r,height:o,src:n,alt:""}))}}}.call(e,i,e,t))||(t.exports=n)},7833:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VideoSlideObject:function(){var t=i(819),n=i(2408),r=i(2350),o=i(3190),s=this.isHlsVideo(),a=this.props.winScale,l=this.isValidVideo(),c=this.state.posterImage||this.posterFrameUrl(),u=l&&this.props.model.get("showcontrols"),h=u&&!DS.detection.theme.isClassic&&!DS.detection.env.isPerpetual,d=["video-slide-object"];return this.state.fullScreen&&d.push("full-screen-mode"),this.state.isPlaying||d.push("paused"),s&&DS.detection.env.isFileProtocol&&(l=!1,u=!1,h=!1),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:d.join(" ")},l&&e.createElement(n,{currentVolume:this.state.currentVolume,duration:this.state.duration,isPlaying:this.state.isPlaying,isTimelineControlled:this.state.isTimelineControlled,onDurationChange:this.durationLoaded,onLoadedData:this.loadedData,onPlaybackEnded:this.playbackEnded,onTimeUpdate:this.playing,onVideoPaused:this.videoPaused,playerProps:this.props.playerProps,slideVisible:this.props.slideVisible,objectVisible:this.isVisible(),slideObjectModel:this.props.model,assetId:this.getAssetId(),winScale:a,posterFrameUrl:c,ref:"videoPlayer",timeline:this.layerTimeline,src:this.getVideoUrl(),pausedByPlayButton:this.pausedByPlayButton,timelinePaused:this.timelinePaused,pause:this.pauseVideo}),u&&!h&&e.createElement(t,{ref:"controls",winScale:a,currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,toggleVideoControls:this.toggleVideoControls,slideObjectView:this.props.parent,controlSeek:this.controlSeek}),h&&e.createElement(r,{ref:"controls",width:this.props.model.width()*a,currentTime:this.state.currentTime,duration:this.state.duration,isPlaying:this.state.isPlaying,controlConfig:this.getEnabledControls(),colors:this.getControlColors(),videoInterface:this.videoInterface,slideObjectView:this.props.parent,model:this.props.model,fullScreen:this.state.fullScreen}),h&&this.state.fullScreen&&e.createElement("div",{className:"focus-container"}),h&&this.state.fullScreen&&e.createElement("div",{className:"caption-container-host"}),!l&&!s&&e.createElement("div",{className:"placeholder-object",style:{width:this.props.model.width()*a,height:this.props.model.height()*a}},"swf"),!l&&s&&e.createElement(o,{ref:"localWarning",model:this.props.model,width:this.props.model.width()*a,height:this.props.model.height()*a}))}}}.call(e,i,e,t))||(t.exports=n)},5128:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VolumeControls:function(){i(7656);var t=DS.vendorOverrides.crispScale;return e.createElement("div",{className:"controls-group control-bar inflexible"},e.createElement("div",{ref:"btn",className:"btn cs-button volume "+(!this.state.isOpen&&this.state.tabFocused?"focused":""),onClick:this.onClick},e.createElement("button",{className:"btn-unstyled text-align-middle",style:t()},e.createElement("span",{className:"accessibility"},this.state.i18nvolume)),e.createElement("div",{className:["btn cs-volume cs-button slider-bar",this.state.isOpen?"":"hidden",this.state.isOpen&&this.state.tabFocused?"focused":""].join(" "),style:t(),id:"control-volume-slider"},e.createElement("input",{ref:"volumeRange",className:"cs-volume",type:"range",min:"0",max:"1.0",value:this.state.volumeStrength,onChange:this.onInputChange,step:"0.1","aria-orientation":"vertical"}))))}}}.call(e,i,e,t))||(t.exports=n)},6923:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{WebObjectSlideObject:function(){var t=this.props.playerProps,i=t.width,n=t.height,o=this.props.winScale,s=this.shouldScale();this.isDropIn&&(e=DS.DropIn);var a=this.isDropIn?{allowFullscreen:!0}:{allowFullScreen:!0};return e.createElement("div",{className:"webobject is-scrollable",style:{width:i*(s?1:o),height:n*(s?1:o),transformOrigin:s?"0 0":void 0,transform:s?"scale(".concat(o,")"):void 0,background:"transparent"}},!this.state.isError&&e.createElement("iframe",r({ref:"iframe",src:this.state.url},a,{className:[this.showThumb()?"hidden":"shown",this.checkIsEngage()?"webobject-engage":""].join(" "),onLoad:this.onIframeLoad,tabIndex:"0","aria-hidden":"false"})),this.showThumb()&&e.createElement("img",{onClick:this.showContent,onTouchStart:this.showContent,style:{width:"100%",height:"100%"},className:"thumbnail",tabIndex:"0","aria-hidden":"false",src:this.imageUrl}))}}}.call(e,i,e,t))||(t.exports=n)},4986:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ZoomImage:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"zoom-image "+this.displayClass()},e.createElement("img",{ref:"img",src:this.props.imageUrl,style:{width:this.props.width,height:this.props.height}}))}}}.call(e,i,e,t))||(t.exports=n)},9260:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccButton:function(){var t=i(3423).renderSemanticText;this.isDropIn&&(e=DS.DropIn);var n=this.state.altTextOverridesText||!this.hasVarText();return e.createElement("button",r({className:"acc-shadow-el acc-button"},this.getBaseAccAttribs(),{style:this.getBaseAccStyle(),type:"button",onClick:this.onClick,"aria-label":n?this.state.label:null}),n?this.state.label:t(this.parseText().children,this))}}}.call(e,i,e,t))||(t.exports=n)},7547:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccCheckbox:function(){var t=i(3423).renderSemanticText,n=this.getBaseAccStyle(),o=null,s=this.state.label,a=this.id+"_label";return this.hasVarText()&&(o=Object.assign({display:"none"},this.getLabelStyle()),s=this.state.altTextOverridesText?this.state.label:t(this.parseText().children,this)),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el",style:n},e.createElement("input",r({className:"acc-shadow-el acc-checkbox",style:_.pick(n,["width","height"]),"aria-labelledby":a,ref:"input"},this.getBaseAccAttribs(),{type:"checkbox",onClick:this.onClick,checked:this.state.checked})),e.createElement("label",{style:o,id:a},s))}}}.call(e,i,e,t))||(t.exports=n)},1968:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccDialog:function(){var t=this;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{id:this.id(),className:"acc-shadow-el",role:"dialog","aria-modal":"true","aria-hidden":!this.state.isVisible||null,"aria-labelledby":this.labeledBy(),"aria-describedby":this.describedBy(),tabIndex:"-1"},!!this.props.dialog.children.length&&this.props.dialog.children.sort((function(t,e){return t.prop("tabIndex")-e.prop("tabIndex")})).map((function(i,n){var r=t.props.childMap[t.props.shadowDom.getAccType(i)];if(null!=r)return e.createElement(r,{ref:"acc-obj-".concat(i.accIdx),key:i.accKey,idx:n,slideObject:i,relatedObject:i.relatedObject,shadowDom:t.props.shadowDom,winScale:t.props.winScale})})))}}}.call(e,i,e,t))||(t.exports=n)},5983:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccDropList:function(){var t=this,n=i(3423).renderSemanticText,o=DS,s=o.utils.getPath,a=o.detection.os.isIOS,l=this.props.slideObject.id,c="acc-".concat(l,"-choices"),u=this.state,h=u.expanded,d=u.selectedData,p=(u.label,DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?this.objView.refs.innard.dropInView.getSelectedTextData():this.objView.refs.innard.getSelectedTextData()),f=function(t){return!t.altTextOverridesText&&null!=s(t,"vartext.blocks")};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el"},!a&&e.createElement("button",r({className:"acc-shadow-el acc-droplist"},this.getBaseAccAttribs(),{style:this.getBaseAccStyle(),ref:"input",role:"combobox","aria-autocomplete":"list","aria-owns":c,onClick:this.onClickInput,"aria-expanded":h,"aria-controls":h?c:null,"aria-activedescendant":h&&-1!==d?"acc-".concat(l,"-").concat(d):null}),f(p)?n(this.parseText(p).children,this):p.altText),!a&&e.createElement("ul",{className:"acc-shadow-el acc-droplist",id:c,tabIndex:"-1",role:"listbox",style:Object.assign(this.getBaseAccStyle(),{visibility:h?"visible":"hidden"})},this.getChoices().map((function(i,r){var o=i.value,s=i.textdata;return e.createElement("li",{onClick:t.onClickOption,key:r,"data-index":r,role:"option",id:"acc-".concat(l,"-").concat(o),"aria-selected":o===d||null},f(s)?n(t.parseText(s).children,t):s.altText)}))),a&&e.createElement("select",r({className:"acc-shadow-el acc-droplist",size:"1",ref:"input"},this.getBaseAccAttribs(),{style:this.getBaseAccStyle(),onChange:this.onChangeMobile}),e.createElement("option",null,"-- Select --"),this.getChoices().map((function(t,i){var n=t.value,r=t.textdata;return e.createElement("option",{key:i,value:"acc-".concat(l,"-").concat(n),"aria-selected":n===d||null},r.altText)}))))}}}.call(e,i,e,t))||(t.exports=n)},1957:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccElso:function(){var t=this,n=(DS.detection.deviceView.isMobile,this.getBaseAccAttribs()),o=i(3423).renderSemanticText,s=this.state.altTextOverridesText||!this.hasVarText();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",r({className:"acc-shadow-el acc-elso"},Object.assign(n,{"aria-hidden":n["aria-hidden"]||!this.state.expanded||null}),{style:this.getBaseAccStyle(),onClick:this.onClick}),function(){if(t.state.label)return e.createElement("div",null,s?e.createElement("p",null,t.state.label):o(t.parseText().children,t))}())}}}.call(e,i,e,t))||(t.exports=n)},5153:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccImage:function(){DS.detection.deviceView.isMobile;var t=this.hasZoom()||this.hasRelease();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",null,t&&e.createElement("button",r({className:"acc-shadow-el acc-image",ref:"focusTarget",role:"img","aria-label":this.state.label,onClick:this.onClick},Object.assign(this.getBaseAccAttribs(),{tabIndex:this.getTabIndex()}),{style:this.getBaseAccStyle()})),!t&&e.createElement("img",r({className:"acc-shadow-el acc-image",ref:"focusTarget","aria-label":this.state.label},Object.assign(this.getBaseAccAttribs(),{tabIndex:this.getTabIndex()}),{style:this.getBaseAccStyle()})))}}}.call(e,i,e,t))||(t.exports=n)},4442:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccMarker:function(){DS.detection.deviceView.isMobile;return this.isDropIn&&(e=DS.DropIn),e.createElement("button",r({className:"acc-shadow-el acc-button"},Object.assign(this.getBaseAccAttribs(),{ariaControls:"acc-".concat(this.props.relatedObject.id)}),{style:this.getBaseAccStyle(),"aria-label":this.state.label,"aria-expanded":this.state.expanded,type:"button",onClick:this.onClick}))}}}.call(e,i,e,t))||(t.exports=n)},9576:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{AccModernVideo:function(){var t=this,n=i(1430),o=i(1697),s=DS,a=s.utils.pxify,l=s.detection.deviceView.isPhone,c=this.props.slideObject,u=c.id,h=this.state.tabbable,d=c.isEventable&&["onrelease","onpress"].some((function(t){return c.hasEvent(t)})),p=function(t){var e=r(t,4),i=e[0],n=e[1],o=e[2],s=e[3];return{left:a(i),top:a(n),width:a(o-i),height:a(s-n)}};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el",style:this.getBaseAccStyle(),id:"acc-".concat(u),tabIndex:"-1",onFocus:this.onShadowFocus,onBlur:this.onShadowBlur,"data-represents":this.objModel.absoluteId,role:"group","aria-label":this.state.label,"aria-hidden":!h||null},d&&e.createElement("button",{ref:"videoButton",className:"acc-shadow-el acc-button",style:_.assign(this.getBaseAccStyle(),{left:0,top:0}),id:"acc-".concat(u,"-button"),tabIndex:"0",type:"button",onClick:this.onButtonClicked,"aria-labelledby":"acc-".concat(u)}),function(){if(null==t.state.seekRect)return null;var i=t.state,n=i.seekRect,r=i.duration,o=i.elapsed,s=Math.round(o/r*100);return e.createElement("input",{className:"acc-shadow-el acc-slider",tabIndex:"0",id:"acc-".concat(u,"-seekbar"),ref:"seek",type:"range",step:"1",min:"0",max:Math.ceil(r),"aria-valuetext":"".concat(s,"%"),style:p(n)})}(),function(){if(null==t.state.playPauseRect)return null;var i=t.state,n=i.playPauseRect,r=i.playPauseLabel;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-playpause"),ref:"playPause",type:"button",onClick:isMobile?t.onPlayPauseClicked:null,onTouchEnd:isMobile?t.onPlayPauseClicked:null,"aria-label":r,style:p(n)})}(),function(){if(null==t.state.muteRect)return null;var i=t.state,n=i.muteRect,r=i.muteLabel,o=i.volumeStrength;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-mute"),ref:"mute",type:"button",onClick:isMobile?t.onMuteClicked:null,onTouchEnd:isMobile?t.onMuteClicked:null,"aria-pressed":0===o,"aria-label":r,"data-volume-related":"true",style:p(n)})}(),function(){if(null==t.state.volumeRect)return null;var i=t.state,n=i.volumeRect,r=i.volumeLabel,o=i.volumeStrength;return e.createElement("input",{className:"acc-shadow-el acc-slider",tabIndex:"0",id:"acc-".concat(u,"-volume"),ref:"volumeSlider",type:"range",min:"0",max:"10",value:10*o,step:"1","aria-label":r,onChange:t.onVolumeChange,"aria-orientation":"vertical",style:p(n)})}(),function(){if(null==t.state.captionsRect)return null;var i=t.state,n=i.captionsRect,r=i.captionsLabel,o=i.captionsEnabled;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-captions"),ref:"captions",type:"button",onClick:isMobile?t.onCaptionsClicked:null,onTouchEnd:isMobile?t.onCaptionsClicked:null,"aria-pressed":o,"aria-label":r,style:p(n)})}(),function(){if(null==t.state.transcriptRect)return null;var i=t.state,n=i.transcriptRect,r=i.transcriptLabel,o=i.transcriptOpen;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-transcript"),ref:"transcript",type:"button",onClick:isMobile?t.onTranscriptClicked:null,onTouchEnd:isMobile?t.onTranscriptClicked:null,"aria-pressed":o,"aria-label":r,style:p(n)})}(),null==t.state.transcriptRect||l?null:e.createElement(o,{ref:"transcriptWindow",controlView:t.state.transcriptWindow}),function(){if(null==t.state.playbackSpeedRect)return null;var i=t.state,r=i.playbackSpeedControl,o=i.playbackSpeedRect;return e.createElement(n,{controlId:u,ref:"playbackSpeed",controlView:r,rect:o})}(),function(){if(null==t.state.pipRect)return null;var i=t.state,n=i.pipRect,r=i.pipLabel;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-pip"),ref:"pip",type:"button",onClick:isMobile?t.onPipClicked:null,onTouchEnd:isMobile?t.onPipClicked:null,"aria-label":r,"aria-pressed":t.state.isPipMode,style:p(n)})}(),function(){if(null==t.state.fullscreenRect)return null;var i=t.state,n=i.fullscreenRect,r=i.fullscreenLabel;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-fullscreen"),ref:"fullScreen",type:"button",onClick:isMobile?t.onFullscreenClicked:null,onTouchEnd:isMobile?t.onFullscreenClicked:null,"aria-label":r,"aria-pressed":"false",style:p(n)})}(),function(){if(null==t.state.settingsRect)return null;var i=t.state,n=i.settingsRect,r=i.settingsLabel;return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(u,"-settings"),ref:"settings",type:"button",onClick:isMobile?t.onSettingsClicked:null,onTouchEnd:isMobile?t.onSettingsClicked:null,"aria-label":r,style:p(n)})}(),function(){if(null==t.state.titleRect)return null;var i=t.state,n=i.titleRect,r=i.titleLabel;return e.createElement("h2",{className:"acc-shadow-el acc-text",tabIndex:"-1",style:p(n)},r)}(),function(){if(null==t.state.republishRect)return null;var i=t.state,n=i.republishRect,r=i.republishLabel;return e.createElement("p",{className:"acc-shadow-el acc-text",tabIndex:"-1",style:p(n)},r)}(),function(){if(null==t.state.learnMoreRect)return null;var i=t.state,n=i.learnMoreRect,r=i.learnMoreLabel;return e.createElement("button",{className:"acc-shadow-el acc-text",tabIndex:"0",style:p(n),onClick:isMobile?t.onLearnMoreClicked:null,onTouchEnd:isMobile?t.onLearnMoreClicked:null,"aria-label":r,role:"link"})}())}}}.call(e,i,e,t))||(t.exports=n)},7935:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccRadio:function(){var t=i(3423).renderSemanticText,n=this.getBaseAccStyle(),o=null,s=this.state.label,a=this.id+"_label";return this.hasVarText()&&(o=Object.assign({display:"none"},this.getLabelStyle()),s=this.state.altTextOverridesText?this.state.label:t(this.parseText().children,this)),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el",style:n},e.createElement("input",r({className:"acc-shadow-el acc-radio",style:_.pick(n,["width","height"]),"aria-labelledby":a,ref:"input"},this.getBaseAccAttribs(),{type:"radio",name:this.objModel.get("radioGroup"),onClick:this.onClick,checked:this.state.checked})),e.createElement("label",{style:o,id:a},s))}}}.call(e,i,e,t))||(t.exports=n)},3122:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccRadioGroup:function(){var t=this,n=i(2797);return this.isDropIn&&(e=DS.DropIn),e.createElement("form",null,this.props.slideObject.radios.sort((function(t,e){return t.prop("tabIndex")-e.prop("tabIndex")})).map((function(i,r){return e.createElement(n,{ref:"radio-".concat(r),key:i.accKey,idx:r,slideObject:i,shadowDom:t.props.shadowDom})})))}}}.call(e,i,e,t))||(t.exports=n)},7888:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccScrollarea:function(){var t=Object.assign({display:this.state.canScroll?"block":"none"},this.getBaseAccStyle());return this.isDropIn&&(e=DS.DropIn),e.createElement("div",r({className:"acc-shadow-el accessible-scrollbar"},this.getBaseAccAttribs(),{style:t,role:"slider",onKeyDown:this.onKeyDown,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":this.getScrollPercentage(),"aria-controls":"scroll-".concat(this.objModel.id),"aria-label":this.getAriaLabel()}))}}}.call(e,i,e,t))||(t.exports=n)},47:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccSection:function(){var t=this,n=i(556),r=i(3361),o=i(7357),s=i(3267),a=i(55),l=i(5459),c=i(7873),u=i(2113),h=i(5413),d=i(5760),p=i(9862),f=i(5951),g=i(9738),m={droplist:o,text:a,slider:u,dial:u,button:n,checkbox:r,textinput:l,video:h,modernvideo:d,radiogroup:c,image:s,marker:p,expandinglabel:f,section:g,scrollarea:i(4664)};this.isDropIn&&(e=DS.DropIn);var v="";return v=DS.flagManager.dropInCore?DS.utils.getPath(this.props,"slideObject.elso.relatedObject.currView.getAccessibleText"):this.props.slideObject.elso.relatedObject.currView.getAccessibleText(),e.createElement("section",{"aria-label":v,"aria-hidden":!this.state.expanded||null},this.props.slideObject.slideObjects.sort((function(t,e){return t.prop("tabIndex")-e.prop("tabIndex")})).map((function(i,n){var r=m[t.props.shadowDom.getAccType(i)];if(null!=r)return e.createElement(r,{ref:"acc-obj-".concat(n),key:i.accKey,idx:n,slideObject:i,relatedObject:i.relatedObject,shadowDom:t.props.shadowDom,winScale:t.props.winScale})})))}}}.call(e,i,e,t))||(t.exports=n)},642:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccShadowDom:function(){var t=this,n=i(556),r=i(3361),o=i(7357),s=i(3267),a=i(55),l=i(5459),c=i(7873),u=i(2113),h=i(5413),d=i(5760),p=i(9862),f=i(5951),g=i(9738),m=i(4664),v=i(1714),S=i(6792),y=i(9218),b=this.props,w=b.width,x=b.height,D=b.winScale;this.isDropIn&&(e=DS.DropIn);var C={droplist:o,text:a,slider:u,dial:u,button:n,checkbox:r,textinput:l,video:h,modernvideo:d,radiogroup:c,image:s,marker:p,expandinglabel:f,section:g,scrollarea:m,threesixtyimage:v,dialog:S,table:y};return e.createElement("div",{className:"acc-shadow-dom",onScroll:this.onScroll,style:{width:w,height:x,transform:"scale(".concat(D,")"),transformOrigin:"0 0"}},!!this.state.children.length&&this.state.children.sort((function(t,e){return t.prop("tabIndex")-e.prop("tabIndex")})).map((function(i,n){var r=C[t.getAccType(i)];if(null!=r)return"dialog"===i.kind?e.createElement(S,{ref:"acc-obj-".concat(i.accIdx),key:i.accKey,idx:n,dialog:i,shadowDom:t,childMap:C,winScale:t.props.winScale}):e.createElement(r,{ref:"acc-obj-".concat(i.accIdx),key:i.accKey,idx:n,slideObject:i,relatedObject:i.relatedObject,shadowDom:t,winScale:t.props.winScale})})),e.createElement("button",{className:"acc-shadow-el acc-button",style:{display:this.state.showHelperButton?"block":"none"}}))}}}.call(e,i,e,t))||(t.exports=n)},1403:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccSlider:function(){var t=this.getBaseAccStyle();return this.state.inverted&&Object.assign(t,{direction:"rtl"}),this.isDropIn&&(e=DS.DropIn),e.createElement("input",r({className:"acc-shadow-el acc-slider"},this.getBaseAccAttribs(),{style:t,"aria-label":this.state.label,type:"range",min:this.state.min,max:this.state.max,step:this.state.step,defaultValue:this.state.currValue,onInput:this.onChange}))}}}.call(e,i,e,t))||(t.exports=n)},2846:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccTable:function(){i(9218);var t=i(6751),n=i(8370),o=this.getRows(),s=o.rows,a=o.img,l=this.props.slideObject.get("headerRows"),c={visibility:this.hasTabChildren?"visible":"hidden"};return this.isDropIn&&(e=DS.DropIn),e.createElement("table",r({className:"acc-shadow-el acc-table"},Object.assign(this.getBaseAccAttribs(),{"aria-hidden":null}),{style:Object.assign(this.getBaseAccStyle(),c),type:"table","aria-label":a.vectorData.altText}),l&&e.createElement("thead",null,[s.shift()].map((function(i,n){return e.createElement("tr",{key:"header-row-".concat(n)},i.map((function(i,n){return i.get("tabEnabled")?e.createElement(t,{key:"header-cell-".concat(n),slideObject:i,isTableChild:!0}):null})))}))),e.createElement("tbody",null,s.map((function(t,i){return e.createElement("tr",{key:"body-row-".concat(i)},t.map((function(t,i){return t.get("tabEnabled")?e.createElement(n,{key:"table-cell-".concat(i),slideObject:t,isTableChild:!0}):null})))}))))}}}.call(e,i,e,t))||(t.exports=n)},2718:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccTableCell:function(){var t=i(3423).renderSemanticText;this.isDropIn&&(e=DS.DropIn);var n,r=this.state.altTextOverridesText||!this.hasVarText(),o=this.props.slideObject.data().rowSpan,s=this.props.slideObject.data().colSpan;return e.createElement("td",{style:(n=this.props.slideObject,null!=n?{width:n.width(),height:n.height(),top:n.yPos(),left:n.xPos()}:{}),rowSpan:o,colSpan:s},r?this.state.label:t(this.parseText().children,this))}}}.call(e,i,e,t))||(t.exports=n)},4421:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccTableHeaderCell:function(){var t=i(3423).renderSemanticText;this.isDropIn&&(e=DS.DropIn);var n,r=this.state.altTextOverridesText||!this.hasVarText(),o=this.props.slideObject.data().rowSpan,s=this.props.slideObject.data().colSpan;return e.createElement("th",{scope:"col",style:(n=this.props.slideObject,null!=n?{width:n.width(),height:n.height()}:{}),rowSpan:o,colSpan:s},r?this.state.label:t(this.parseText().children,this))}}}.call(e,i,e,t))||(t.exports=n)},8989:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccText:function(){var t,n,o=this,s=i(3423).renderSemanticText,a=this.hasVarText(),l=this.state.altTextOverridesText;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",null,!a&&e.createElement("p",r({ref:"focusTarget",className:"acc-shadow-el acc-text"},this.getBaseAccAttribs()),this.state.label),a&&e.createElement("div",r({ref:"focusTarget",className:"acc-shadow-el acc-text"},this.getBaseAccAttribs(),{style:Object.assign(this.getBaseAccStyle(),{display:"flex"})}),e.createElement("div",{style:this.getInnerProps()},l?(t=o.state.label,null!=(n=o.getDefaultLink())?e.createElement("a",{href:"#",onClick:function(){return o.onLinkClicked(n.get("id"))}},t):t):s(this.parseText().children,this)),e.createElement("div",r({ref:"scrollbar"},this.getScrollbarAttribs(),{style:this.getScrollbarStyle()}))))}}}.call(e,i,e,t))||(t.exports=n)},2641:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccTextInput:function(){var t=this,i=Object.assign(this.getBaseAccStyle(),this.getInputStyle()),n=this.getMaxChars(),o=function(){if(t.state.altTextOverridesText)return t.state.label};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{"data-model-id":this.objModel.id},this.isTextArea()?e.createElement("textarea",r({className:"acc-shadow-el acc-textinput"},this.getBaseAccAttribs(),{style:i,ref:"input","aria-label":o(),onChange:this.onInputChange,onKeyUp:this.onKeyUp,onScroll:this.onScroll,onMouseDown:this.onBeginTextSelect,onMouseUp:this.onTextMouseUp,onDoubleClick:this.onDoubleClick,type:"text",placeholder:this.state.placeholder,value:this.state.inputValue,spellCheck:this.state.spellcheck,maxLength:n>0?n:""})):e.createElement("input",r({className:"acc-shadow-el acc-textinput"},this.getBaseAccAttribs(),{style:i,ref:"input","aria-label":o(),onChange:this.onInputChange,onKeyUp:this.onKeyUp,onScroll:this.onScroll,onMouseDown:this.onBeginTextSelect,onMouseUp:this.onTextMouseUp,onDoubleClick:this.onDoubleClick,type:"text",placeholder:this.state.placeholder,value:this.state.inputValue,spellCheck:this.state.spellcheck,maxLength:n>0?n:""})))}}}.call(e,i,e,t))||(t.exports=n)},3086:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccThreeSixtyImage:function(){var t=DS,i=t.stringTabler,n=t.detection,o=this.objModel.data().threesixtyimagedata.navigation.type,s=i.getString("three_image_interaction_".concat(o))||"",a="".concat(this.getLabel()," : ").concat(i.getString("three_image_interaction")),l=this.getBaseAccStyle();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",r({className:"acc-shadow-el acc-three-sixty-image"},this.getBaseAccAttribs(),{style:{left:l.left,top:l.top,width:this.objModel.width(),height:this.objModel.height(),visibility:this.state.tabbable?"visible":"hidden",zIndex:0},role:"application","aria-label":a}),e.createElement("div",{className:"acc-shadow-el acc-three-sixty-image-status",ref:"status","aria-live":"polite","aria-atomic":"true"}),n.os.isIOS&&e.createElement("button",{className:"acc-shadow-el",style:{display:"block",width:"100%",height:"30%",position:"absolute"},tabIndex:"0",onClick:this.onMobileClick},"".concat(i.getString("three_image_interaction")," ").concat(s)),e.createElement("div",{className:"acc-three-sixty-image-content",ref:"accChildren",dangerouslySetInnerHTML:{__html:this.state.innerHtml}}))}}}.call(e,i,e,t))||(t.exports=n)},8455:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{AccVideo:function(){var t=this,i=DS,n=i.detection.deviceView.isMobile,o=i.utils.pxify,s=this.props.slideObject,a=s.id,l=this.state.tabbable;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el",style:this.getBaseAccStyle(),id:"acc-".concat(a),tabIndex:"-1",onFocus:this.onShadowFocus,onBlur:this.onShadowBlur,"data-represents":this.objModel.absoluteId,role:"group","aria-label":this.state.label,"aria-hidden":!l||null},s.isEventable&&["onrelease","onpress"].some((function(t){return s.hasEvent(t)}))?e.createElement("button",{className:"acc-shadow-el acc-button",style:_.assign(t.getBaseAccStyle(),{left:0,top:0}),id:"acc-".concat(a,"-button"),tabIndex:"0",type:"button",onClick:t.onButtonClick,"aria-labelledby":"acc-".concat(a),"aria-hidden":!l||null}):null,function(){if(!s.get("showcontrols"))return null;var i=r(t.state.playRect,4),c=i[0],u=i[1],h=i[2],d=i[3];return e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",id:"acc-".concat(a,"-play"),ref:"playPause",type:"button",onClick:n?null:t.onPlayPauseClick,onTouchEnd:n?t.onPlayPauseClick:null,"aria-label":t.state.playLabel,"aria-hidden":!l||null,style:{left:o(c),top:o(u),width:o(h-c),height:o(d-u),display:"block"}})}(),function(){if(!s.get("showcontrols"))return null;var i=r(t.state.seekRect,4),n=i[0],c=i[1],u=i[2],h=i[3];return e.createElement("input",{className:"acc-shadow-el acc-slider",tabIndex:"0",id:"acc-".concat(a,"-seekbar"),ref:"progressBar",type:"range",min:"0",max:t.state.duration,value:t.state.elapsed,step:"1",onInput:t.onSeekbarChange,"aria-hidden":!l||null,style:{left:o(n),top:o(c),width:o(u-n),height:o(h-c),display:"block",padding:0}})}())}}}.call(e,i,e,t))||(t.exports=n)},6074:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{AccVideoButtonMenuPopup:function(){var t=this,n=i(8916).buildStyleFromRect,o=this.state,s=o.buttonRect,a=o.buttonLabel,l=o.isOpen,c=o.menuLabel,u=o.options,h="acc-speedcontrol-menu-".concat(this.props.controlId),d={},p=this.getSelectedItemIndex();return l||(d["aria-hidden"]=!0,d.style={display:"none"}),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-button-menu",style:n(this.props.rect)},e.createElement("button",{ref:"button",className:"acc-shadow-el acc-button",style:n(s),onClick:this.onButtonClicked,"aria-haspopup":"true","aria-controls":h},a),e.createElement("div",r({ref:"menu"},d),e.createElement("ul",{className:"acc-shadow-el acc-menu-list",id:h,role:"menu","aria-label":c},u.map((function(i,r){return e.createElement("li",{key:r,tabIndex:"-1"},e.createElement("button",{ref:"option-".concat(r),className:"acc-shadow-el acc-button","data-top-level":!0,tabIndex:r===t.state.currentIndex&&t.state.isOpen?0:-1,onClick:function(){return t.handleOptionSelected(i.value)},style:n(i.rect),role:"menuitemcheckbox","aria-checked":p===r},i.label))})))))}}}.call(e,i,e,t))||(t.exports=n)},8548:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccListbox:function(){var t=this,n=(DS.utils.pxify,i(8916).buildStyleFromRect);return this.isDropIn&&(e=DS.DropIn),e.createElement("div",null,e.createElement("ul",{className:"acc-shadow-el acc-listbox",style:n(this.state.rect),ref:"listbox",tabIndex:"0",role:"listbox","aria-label":this.state.label,"aria-activedescendant":this.getOptionRef(this.state.focusedIndex),"data-top-level":!0},(this.state.options||[]).map((function(i,r){return e.createElement("li",{className:"acc-shadow-el",key:r,id:t.getOptionRef(r),ref:t.getOptionRef(r),role:"option",style:n(i.rect),"aria-selected":i.selected||null,"data-top-level":!0},e.createElement("div",null,t.state.timeCodeEnabled?"".concat(i.time," : ").concat(i.label):i.label))}))))}}}.call(e,i,e,t))||(t.exports=n)},7144:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccSelectControl:function(){var t=this,n=this.state,r=n.options,o=void 0===r?[]:r,s=n.open,a=n.selectedIndex,l=i(8916).buildStyleFromRect,c=(o[a]||{}).label,u=function(e){return"option-".concat(e,"-").concat(t.id)};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el",style:l(this.state.rect)},e.createElement("button",{ref:"button",className:"acc-shadow-el","aria-controls":this.selectId,"aria-expanded":s,"aria-activedescendant":s?u(a):null,"aria-haspopup":"listbox",role:"combobox",tabIndex:"0","aria-labelledby":this.props.labelId,style:l(this.state.inputRect),"data-top-level":!0,onClick:this.handleClicked},c),e.createElement("div",{ref:"menu",role:"listbox",id:this.selectId,tabIndex:"-1",style:{visibility:s?"visible":"hidden"}},o.map((function(i,n){return e.createElement("button",{id:u(n),tabIndex:"-1",ref:t.getOptionRef(n),key:n,className:"acc-shadow-el",style:l(i.rect),role:"option","aria-selected":!!i.selected||null,"data-top-level":!0},i.label)}))))}}}.call(e,i,e,t))||(t.exports=n)},5903:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccTranscriptPanel:function(){var t=i(5744),n=i(7076),r=i(8916).buildStyleFromRect;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{style:r(this.state.rect),className:"acc-shadow-el acc-transcript-panel"},this.state.showTrackSelect?e.createElement("label",{className:"acc-shadow-el",style:r(this.state.labelRect),id:this.labelId},this.state.labelText):null,this.state.showTrackSelect?e.createElement(t,{ref:"trackSelect",panelId:this.panelId,labelId:this.labelId,controlView:this.props.controlView.getSelectView()}):null,e.createElement(n,{ref:"transcriptList",panelId:this.panelId,controlView:this.props.controlView.getListView()}),this.state.showResumeScroll&&e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",ref:"resumeScroll",type:"button",onClick:this.onResumeScrollClicked,"aria-label":this.state.resumeScrollLabel,style:r(this.state.resumeScrollRect),"data-top-level":!0}))}}}.call(e,i,e,t))||(t.exports=n)},3451:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{AccUtilityWindow:function(){var t=this,n=i(9197),r=i(8916).buildStyleFromRect,o={transcript:n}[this.props.controlView.getPanelType()],s=this.viewProps,a=s.windowId,l=s.titleLabel,c=s.resizeLabel,u=s.moveLabel,h=s.closeLabel,d=s.kebabMenuLabel,p=this.state,f=p.windowRect,g=p.titleRect,m=p.resizeRect,v=p.moveRect,S=p.kebabRect,y=p.closeRect,b=p.isOpen,w=p.kebabOptions,x=void 0===w?[]:w,D="acc-title-".concat(a);return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"acc-shadow-el acc-utility-window",style:Object.assign(r(f),{display:b?"block":"none"})},e.createElement("h2",{id:D,className:"acc-shadow-el acc-text",ref:"title",style:r(g),"data-top-level":!0},l),e.createElement(o,{controlView:this.props.controlView.getPanelView(),windowId:a}),null!=v&&e.createElement("button",{role:"application","aria-roledescription":"button","aria-pressed":"false",className:"acc-shadow-el acc-button",tabIndex:"0",ref:"move",type:"button",onClick:this.onMoveClicked,onBlur:this.stopKeyListening,"aria-label":u,style:r(v),"data-top-level":!0}),null!=m&&e.createElement("button",{role:"application","aria-roledescription":"button","aria-pressed":"false",className:"acc-shadow-el acc-button",tabIndex:"0",ref:"resize",type:"button",onClick:this.onResizeClicked,onBlur:this.stopKeyListening,"aria-label":c,style:r(m),"data-top-level":!0}),e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",ref:"kebabButton",type:"button",onClick:this.onKebabClicked,onBlur:this.onKebabBlur,"aria-label":d,"aria-expanded":!!this.state.kebabOpen,style:r(S),"data-top-level":!0,"data-kebab-part":"true"}),e.createElement("div",null,x.map((function(i,n){var o=i.id,s=i.checked,a=i.label,l=i.rect;return e.createElement("button",{key:n,className:"acc-shadow-el",role:"checkbox","aria-checked":s,tabIndex:"0",style:Object.assign(r(l),{display:t.state.kebabOpen?"block":"none",pointerEvents:"all"}),onClick:function(){return t.handleOptionClicked(o,!s)},onBlur:t.onKebabBlur,"data-top-level":!0,"data-kebab-part":"true"},a)}))),e.createElement("button",{className:"acc-shadow-el acc-button",tabIndex:"0",ref:"close",type:"button",onClick:this.onCloseClicked,"aria-label":h,style:r(y),"data-top-level":!0}))}}}.call(e,i,e,t))||(t.exports=n)},4233:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{PauseLegacyIcon:function(){var t=['<use xlink:href="#icon-pause" class="cs-icon-shadow" transform="translate(0, 1)" />','<g id="icon-pause">','<rect x="0" width="4" height="14"/>','<rect x="8" width="4" height="14"/>',"</g>"].join("");return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:"cs-icon pause-icon",width:"12",height:"14",viewBox:"0 0 12 14",key:t,dangerouslySetInnerHTML:{__html:t}})}}}.call(e,i,e,t))||(t.exports=n)},5913:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{PlayLegacyIcon:function(){var t='<use xlink:href="#icon-vid-play" class="cs-icon-shadow" transform="translate(0, 1)" /><path id="icon-vid-play" d="M1.3,0.1l8.3,5.2c0.5,0.3,0.5,1,0,1.3l-8.3,5.2c-0.5,0.3-1.3,0-1.3-0.7L0,0.8C0,0.3,0.7-0.2,1.3,0.1z"/>';return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:"cs-icon play-icon",width:"11",height:"14",viewBox:"0 0 11 14",key:t,dangerouslySetInnerHTML:{__html:t}})}}}.call(e,i,e,t))||(t.exports=n)},3397:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{ButtonPopupMenu:function(){var t=this,n=i(7656),s=DS.detection.device.isMobile,a=this.props.colors,l=a.accentColor,c=a.panelBg,u=a.panelBorder,h=a.panelText,d=this.props,p=d.position,f=d.parentWidth,g=d.isFullScreen,m=Math.min(Math.max(f-p,30),140),v=["button-menu"].concat(o(this.props.classNames));this.state.panelOpen&&v.push("open");var S=this.getMenuId(),y=this.getMenuLabel(),b=this.getOptions(),w=g?{tabIndex:0,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur,"aria-haspopup":!0,"aria-controls":S}:{tabIndex:-1,"aria-hidden":!0};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:v.join(" "),style:JSON.parse(this.props.styleJson),onMouseUp:!s&&this.onMouseUp,onTouchEnd:s&&this.onMouseUp},e.createElement("button",r({ref:"button"},w,{onClick:!s&&this.toggleOpen,onTouchEnd:s&&this.toggleOpen}),e.createElement(n,{type:this.getIconType()})),e.createElement("div",{ref:"popup",className:"button-menu-popup"},e.createElement("div",{className:"arrow-border",style:{background:u}}),e.createElement("div",{className:"content",style:{borderColor:u,background:c,left:"".concat(m,"px")}},e.createElement("div",{className:"title",style:{color:h}},y),e.createElement("ul",{"aria-hidden":!g||null,"aria-label":this.getMenuLabel(),role:"menu",id:S},b.map((function(i,r){var o=i.label,a=i.value;return e.createElement("li",{key:r,tabIndex:"-1"},e.createElement("button",{ref:"option".concat(r),className:"menu-choice ".concat(a===t.state.currentChoice?"selected":""),onClick:!s&&function(e){return t.onItemClicked(e,a)},onTouchEnd:s&&function(e){return t.onItemClicked(e,a)},onFocus:g?t.handleFullScreenItemFocus:null,onBlur:g?t.handleFullScreenItemBlur:null,tabIndex:g&&r===t.state.currentIndex?0:-1,role:"menuitemcheckbox","aria-checked":a===t.state.currentChoice,"aria-label":o},e.createElement("div",{className:"selected-icon",style:{fill:l}},e.createElement(n,{type:"modernMenuCheck"})),e.createElement("div",{className:"label",style:{color:h}},o)))})))),e.createElement("div",{className:"arrow-background",style:{background:c}})))}}}.call(e,i,e,t))||(t.exports=n)},6826:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{LocalHlsWarning:function(){var t=i(7656),n=this.props,o=n.width,s=n.height,a=Math.min(o/620,s/275,1),l=a<.4;return l&&(a=Math.min(o/192,s/125,1)),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"local-hls-msg",style:{width:"".concat(this.props.width,"px"),height:"".concat(this.props.height,"px")}},e.createElement("div",{className:["local-hls-content"].concat(r(l?["small-content"]:[])).join(" "),style:{transform:"scale(".concat(100*a,"%) translate(-50%, -50%)")}},e.createElement(t,{type:"localHLSVideo",scale:l?.5:1}),e.createElement("h2",{ref:"title"},this.getTitleText()),!l&&e.createElement("p",{ref:"republish"},this.getRepublishText()),e.createElement("a",{ref:"learnMoreLink",tabIndex:"-1",href:"https://ipc.articulate.com/slw/360/en/streamingvideolocalplayback",className:"learn-more"},e.createElement("span",{ref:"learnMore",className:"learn-more-link"},e.createElement(t,{type:"learnMore",scale:l?.5:1}),e.createElement("span",null,this.getLearnMoreText())))))}}}.call(e,i,e,t))||(t.exports=n)},6402:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{MobileVideoSettings:function(){var t=DS.stringTabler,i=this.props.colors,n=i.backgroundColor,r=i.iconColor,o=i.selectBg,s={backgroundColor:n,color:r},a={fill:r},l={borderColor:i.selectBorder,backgroundColor:o,color:r},c=t.getString("modern_video_settings_close"),u=t.getString("modern_video_playback_settings"),h=t.getString("modern_video_captions_label"),d=t.getString("video_transcript_mobile_label"),p=t.getString("modern_video_captions_on"),f=t.getString("modern_video_captions_off"),g=t.getString("modern_video_playback_speed_title"),m=t.getString("modern_video_normal_speed"),v=[],S=(this.props.videoInterface.getTranscriptData()||{transcripts:[]}).transcripts;return S.length>=2?(v.push({value:-1,label:f}),S.forEach((function(t,e){v.push({value:e,label:t.name})}))):v.push.apply(v,[{value:-1,label:f},{value:0,label:p}]),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{"aria-live":"off",className:"mobile-video-settings",role:"dialog","aria-labelledby":"video-settings-title",style:s},e.createElement("h2",{id:"video-settings-title"},u),this.props.showCaptions&&e.createElement("div",{className:"mobile-video-option"},e.createElement("label",null,h,e.createElement("br",null),e.createElement("select",{ref:"captions",className:"settings-captions",style:l,value:this.state.captionsEnabled?"on":"off",onChange:this.handleCaptionsChange},e.createElement("option",{value:"on"},p),e.createElement("option",{value:"off"},f)))),this.props.showTranscript&&e.createElement("div",{className:"mobile-video-option"},e.createElement("label",null,d,e.createElement("br",null),e.createElement("select",{ref:"transcript",className:"settings-transcript",style:l,value:this.state.transcriptTrack,onChange:this.handleTranscriptChange},v.map((function(t,i){return e.createElement("option",{key:i,value:t.value},t.label)}))))),this.props.showPlaybackSpeed&&e.createElement("div",{className:"mobile-video-option"},e.createElement("label",null,g,e.createElement("br",null),e.createElement("select",{ref:"playbackSpeed",className:"settings-playback-speed",style:l,value:this.state.playbackSpeed,onChange:this.handleSpeedChange},e.createElement("option",{value:"2"},"2"),e.createElement("option",{value:"1.75"},"1.75"),e.createElement("option",{value:"1.5"},"1.5"),e.createElement("option",{value:"1.25"},"1.25"),e.createElement("option",{value:"1"},m),e.createElement("option",{value:"0.75"},"0.75"),e.createElement("option",{value:"0.5"},"0.5"),e.createElement("option",{value:"0.25"},"0.25")))),e.createElement("button",{"aria-label":c,className:"close-button",style:a,onClick:this.handleClose,tabIndex:"0"},e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",stroke:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M15.5,1.5 L14.5,0.6 L8,7 L1.5,0.6 L0.5,1.5 L7,8 L0.5,14.5 L1.5,15.4 L8,9 L14.5,15.4 L15.5,14.5 L9,8 L15.5,1.5 Z"}))))}}}.call(e,i,e,t))||(t.exports=n)},4338:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{ModernVideoControls:function(){var t=this,n=i(8346),o=i(9631),s=i(6654),a=i(4613),l=i(9755),c=i(3986),u=i(7656),h=DS,d=h.detection,p=d.env.videoControlsFont,f=d.device.isMobile,g=d.deviceView.isPhone,m=h.stringTabler,v=h.utils,S=_.isEmpty(p)?{}:{fontFamilty:p},y=this.props.colors,b=y.backgroundColor,w=y.accentColor,x=y.iconColor,D=!0,C="",E=0,P=this.props.videoInterface.hasTranscript(),T=function(){var e=DS.utils.fix(t.props.currentTime||0,1),i=v.formatSecondsAsTime(e),n=v.formatSecondsAsTime(t.props.duration||0),r=c.getMainWindowEl(),o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",r.appendChild(o),o.innerText=n;var s=o.getBoundingClientRect().width;o.innerText="".concat(n," / ").concat(n);var a=o.getBoundingClientRect().width;return r.removeChild(o),{shortTime:i,fullTime:"".concat(i," / ").concat(n),shortWidth:s,fullWidth:a}}(),I=function(){var e=0,i=0;_.forEach(t.props.controlConfig,(function(t,n){t&&"elapsedTime"!==n&&"seek"!==n&&(e++,i+=28)}));var n=t.props.width-i-10;t.props.controlConfig.elapsedTime&&(n>=T.fullWidth?(e++,n-=T.fullWidth,C=T.fullTime):n>=T.shortWidth?(e++,n-=T.shortWidth,C=T.shortTime):D=!1);var r=Math.min(n/e,20),o=5+r/2,s=o,a={};return["playPause","elapsedTime"].forEach((function(e){t.props.controlConfig[e]&&(a[e]={left:"".concat(o,"px")},o+=28+r)})),["settings","fullScreen","pip","playbackSpeed","transcript","captions","volume"].forEach((function(e){t.props.controlConfig[e]&&("playbackSpeed"===e&&(E=t.props.width-s),a[e]={right:"".concat(s,"px")},s+=28+r)})),a}(),A=this.props.fullScreen,L=A?{tabIndex:0,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur}:{tabIndex:-1,"aria-hidden":!0};return this.isDropIn&&(e=DS.DropIn,DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore&&(l=DS.DropIn.wrapReactChild({UtilityWindowController:l}))),e.createElement("div",{onMouseUp:!f&&this.onMouseUp,onTouchEnd:f&&this.onMouseUp,className:"modern-video-controls"},e.createElement("div",{className:"video-animation-container ".concat(this.state.controlsHidden?"controls-hidden":"")},e.createElement("div",{className:"control-background",style:{background:b}}),e.createElement(n,{ref:"seek",videoInterface:this.props.videoInterface,isPlaying:this.props.isPlaying,colors:this.props.colors,elapsedTime:this.props.currentTime,totalTime:this.props.duration,loadedTime:this.props.loadedTime,isFullScreen:A,showVideoControls:this.showControls}),e.createElement("div",{className:"video-controlbar ".concat(_.reduce(t.props.controlConfig,(function(t,e,i){return e&&("elapsedTime"!==i||D)&&t.push("".concat(_.kebabCase(i),"-enabled")),t}),[]).join(" ")),style:{fill:x,stroke:x,color:x}},e.createElement("button",r({ref:"playPause",style:I.playPause,className:"modern-video-control video-play-pause",onClick:(!f||A)&&this.togglePlayback,onTouchEnd:f&&this.togglePlayback},L,{"aria-label":this.getPlayPauseLabel()}),e.createElement(u,{type:"modernPause",classNames:["video-pause-icon"]}),e.createElement(u,{type:"modernPlay",classNames:["video-play-icon"]})),e.createElement("div",{style:Object.assign(I.elapsedTime,S),className:"modern-video-control video-elapsed-time","aria-hidden":"true",ref:"elapsedTime"},C),e.createElement(a,{ref:"volume",className:"modern-video-control",styleJson:JSON.stringify(I.volume||{}),colors:this.props.colors,isFullScreen:A,showVideoControls:this.showControls,sliderLabel:this.labels.volume,buttonLabel:this.labels.mute}),e.createElement("button",r({ref:"captions",style:I.captions,className:"modern-video-control video-captions ".concat(this.state.captionsEnabled?"enabled":""),onClick:(!f||A)&&this.toggleCaptions,onTouchEnd:f&&this.toggleCaptions},L,{"aria-label":this.labels.captions,"aria-pressed":this.state.captionsEnabled}),e.createElement(u,{type:"modernCaptions"}),e.createElement("div",{className:"captions-underline",style:{background:w}})),P&&!g&&e.createElement("button",r({ref:"transcript",style:I.transcript,className:"modern-video-control video-transcript ".concat(this.state.transcriptOpened?"enabled":""),onClick:(!f||A)&&this.toggleTranscript,onTouchEnd:f&&this.toggleTranscript},L,{"aria-label":this.labels.transcript,"aria-pressed":this.state.transcriptOpened}),e.createElement(u,{type:"modernTranscript"}),e.createElement("div",{className:"transcript-underline",style:{background:w}})),P&&e.createElement(l,{ref:"transcriptWindowController",id:this.transcriptWindowId,isFullScreen:A,title:m.getString("video_transcript_title"),panelType:"transcript",videoInterface:this.props.videoInterface,dockLocations:this.dockLocations,model:this.props.model}),e.createElement(o,{ref:"playbackSpeed",menuConfig:s,styleJson:JSON.stringify(I.playbackSpeed||{}),classNames:["modern-video-control","video-playback-speed"],colors:this.props.colors,parentWidth:this.props.width,position:E,videoInterface:this.props.videoInterface,model:this.props.model,isFullScreen:A,showVideoControls:this.showControls}),e.createElement("button",r({ref:"pip",style:I.pip,className:"modern-video-control video-pip ".concat(this.state.isPipMode?"pip-mode":""),onClick:!f&&this.togglePip,onTouchEnd:f&&this.togglePip},L,{"aria-label":this.labels.pip,"aria-pressed":this.state.isPipMode}),e.createElement(u,{type:"modernEnterPip",classNames:["enter-pip-icon"]}),e.createElement(u,{type:"modernExitPip",classNames:["exit-pip-icon"]})),e.createElement("button",r({ref:"fullScreen",style:I.fullScreen,className:"modern-video-control video-full-screen",onClick:(!f||A)&&this.toggleFullScreen,onTouchEnd:f&&this.toggleFullScreen},L,{"aria-label":this.labels.fullscreen,"aria-pressed":"true"}),e.createElement(u,{type:"modernEnterFullScreen",classNames:["enter-fullscreen-icon"]}),e.createElement(u,{type:"modernExitFullScreen",classNames:["exit-fullscreen-icon"]})),e.createElement("button",r({ref:"settings",style:I.settings,className:"modern-video-control video-settings",onClick:(!f||A)&&this.openSettings,onTouchEnd:f&&this.openSettings},L,{"aria-label":this.labels.settings}),e.createElement(u,{type:"modernSettings"})))))}}}.call(e,i,e,t))||(t.exports=n)},8973:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{PopupMenu:function(){var t=this,n=i(7656),r=DS.detection.device.isMobile,o=this.props.colors,s=o.accentColor,a=o.panelBg,l=o.panelBorder,c=o.panelText,u=this.props,h=u.position,d=u.parentWidth,p=Math.min(Math.max(d-h,30),140),f=[];this.state.panelOpen&&f.push("open");var g=this.props.getMenuId(),m=this.props.getMenuLabel(),v=this.props.getOptions();return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:f.join(" ")},e.createElement("div",{ref:"popup",className:"button-menu-popup"},e.createElement("div",{className:"arrow-border",style:{background:l}}),e.createElement("div",{className:"content",style:{borderColor:l,background:a,left:"".concat(p,"px")}},e.createElement("div",{className:"title",style:{color:c}},m),e.createElement("ul",{"aria-hidden":"true","aria-label":m,role:"menu",id:g},v.map((function(i,o){var a=i.label,l=i.value;return e.createElement("li",{key:o,tabIndex:"-1"},e.createElement("button",{ref:"option".concat(o),className:"menu-choice ".concat(l===t.state.currentChoice?"selected":""),onClick:!r&&function(e){t.props.onItemClicked(e,l)},onTouchEnd:r&&function(e){t.props.onItemClicked(e,l)},tabIndex:"-1",role:"menuitemcheckbox","aria-checked":l===t.state.currentChoice,"aria-label":a,"data-top-level":!0},e.createElement("div",{className:"selected-icon",style:{fill:s}},e.createElement(n,{type:"modernMenuCheck"})),e.createElement("div",{className:"label",style:{color:c}},a)))})))),e.createElement("div",{className:"arrow-background",style:{background:a}})))}}}.call(e,i,e,t))||(t.exports=n)},4198:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{SeekbarControl:function(){var t=this.props.colors,i=t.accentColor,n=t.volumeThumb,o=t.seekBgColor,s=t.panelBg,a=t.panelBorder,l=(t.panelText,t.iconColor),c=DS,u=c.detection,h=c.utils,d={fill:i,color:"unset",strokeOpacity:0},p={fill:n,color:"unset",strokeOpacity:0},f=this.props,g=f.isFullScreen,m=f.elapsedTime,v=f.totalTime,S=Math.round(m/v*100),y=[].concat(r(this.state.hovering?["hovering"]:[]),r(this.state.dragging?["dragging"]:[])),b=h.formatSecondsAsTime(this.state.hoverTime||0);return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"video-seekbar draggable ".concat(y.join(" ")),style:{background:o},onMouseDown:!u.device.isMobile&&this.onSeekStart,onTouchStart:u.device.isMobile&&this.onSeekStart,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseOut,role:"slider",tabIndex:g?0:-1,"aria-hidden":!g||null,"aria-valuetext":"".concat(S,"%"),onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur},e.createElement("svg",{version:"1.1",viewBox:"0 0 1 1",preserveAspectRatio:"none"},e.createElement("rect",{width:"1",height:"1",style:{fill:o}})),e.createElement("div",{className:"video-seekbar-hitarea"}),e.createElement("div",{className:"video-seekbar-popup",ref:"popup"},e.createElement("div",{className:"arrow-border",style:{background:a}}),e.createElement("div",{className:"content",style:{borderColor:a,background:s,color:l}},e.createElement("span",{className:"seek-time-code"},b)),e.createElement("div",{className:"arrow-background",style:{background:s}})),e.createElement("div",{className:"video-seekbar-elapsed",ref:"elapsedBar",style:d},e.createElement("svg",{version:"1.1",viewBox:"0 0 1 1",preserveAspectRatio:"none"},e.createElement("rect",{width:"1",height:"1",style:d}))),e.createElement("div",{className:"video-seekbar-seek-position",ref:"seekPreview"}),e.createElement("div",{className:"video-seekbar-seek-thumb",ref:"seekThumb",style:{overflow:"hidden "}},e.createElement("svg",{version:"1.1",viewBox:"0 0 1 1",preserveAspectRatio:"none"},e.createElement("rect",{width:"1",height:"1",style:p}))))}}}.call(e,i,e,t))||(t.exports=n)},1895:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{VolumeControl:function(){var t=i(7656),n=this.props.colors,o=n.accentColor,s=n.panelBg,a=n.panelBorder,l=n.volumeThumb,c=n.iconColor,u=this.state.volume,h={height:"".concat(100*u,"%"),overflow:"hidden"},d={overflow:"hidden",top:"".concat(100*(1-u),"%")},p={color:"unset",strokeOpacity:0},f=this.props.isFullScreen,g=f?{tabIndex:0,onFocus:this.handleFullScreenSliderFocus,onBlur:this.handleFullScreenSliderBlur}:{tabIndex:-1,"aria-hidden":!0},m=f?{tabIndex:0,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur}:{tabIndex:-1,"aria-hidden":!0},v=["video-volume",this.props.className];return this.state.sliderOpen&&v.push("open"),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:v.join(" "),style:JSON.parse(this.props.styleJson),onMouseLeave:this.onMouseOut},e.createElement("button",r({ref:"mute",onClick:this.toggleMute,onMouseOver:this.onMouseOver,"data-volume-related":"true"},m,{"aria-label":this.props.buttonLabel,"aria-pressed":0===u}),e.createElement(t,{type:"modernVolume",volume:u})),e.createElement("div",{className:"video-volume-slider",style:{fill:s,stroke:a}},e.createElement("svg",{version:"1.1",width:"46px",height:"108px",viewBox:"0 0 46 108"},e.createElement("defs",null,e.createElement("path",{id:"video-volume-path",d:"M11,8 L35,8 C36,8 38,9 38,11 L38,84 C38,85 37,86 37,86 L25,98 C23,100 22,100 20,98 L8,86 C8,86 8,85 8,84 L8,11 C8,9 9,8 11,8 Z"}),e.createElement("filter",{id:"video-volume-filter",x:"-41.7%",y:"-13.4%",width:"183.3%",height:"125.5%",filterUnits:"objectBoundingBox"},e.createElement("feMorphology",{radius:"0.5",operator:"dilate",in:"SourceAlpha",result:"vol-bg-a"}),e.createElement("feGaussianBlur",{stdDeviation:"4",in:"vol-bg-a",result:"vol-bg-b"}),e.createElement("feComposite",{in:"vol-bg-b",in2:"SourceAlpha",operator:"out",result:"vol-bg-c"}),e.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0",type:"matrix",in:"vol-bg-c"}))),e.createElement("g",null,e.createElement("use",{stroke:"none",filter:"url(#video-volume-filter)",href:"#video-volume-path"}),e.createElement("use",{strokeWidth:"1",href:"#video-volume-path"}))),e.createElement("div",r({ref:"volumeSlider",className:"video-volume-track-container","data-volume-related":"true",role:"slider","aria-label":this.props.sliderLabel,"aria-valuetext":10*u,"aria-orientation":"vertical"},g),e.createElement("div",{className:"video-volume-hitarea",onMouseDown:this.onDragStart}),e.createElement("div",{className:"video-volume-track",ref:"track",style:{overflow:"hidden"}},e.createElement("svg",{version:"1.1",viewBox:"0 0 1 1",preserveAspectRatio:"none"},e.createElement("rect",{width:"1",height:"1",fill:c,style:p}))),e.createElement("div",{className:"video-volume-progress",ref:"progress",style:h},e.createElement("svg",{version:"1.1",viewBox:"0 0 1 1",preserveAspectRatio:"none"},e.createElement("rect",{width:"1",height:"1",fill:o,style:p}))),e.createElement("div",{className:"video-volume-dot",ref:"thumb",style:d},e.createElement("svg",{version:"1.1",viewBox:"0 0 1 1",preserveAspectRatio:"none"},e.createElement("rect",{width:"1",height:"1",fill:l,style:p}))))))}}}.call(e,i,e,t))||(t.exports=n)},4691:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{LearnMoreIcon:function(){var t=this.props.scale,i=void 0===t?1:t;return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:20*i,height:20*i,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e.createElement("rect",{stroke:"none",x:"9",y:"5",width:"2",height:"2"}),e.createElement("mask",{id:"path-2-inside-1_955_382"},e.createElement("path",{stroke:"none",d:"M8 8H9H11V9V14H12V15H11H9H8V14H9V9H8V8Z"})),e.createElement("path",{stroke:"none",d:"M8 8H9H11V9V14H12V15H11H9H8V14H9V9H8V8Z"}),e.createElement("path",{stroke:"none",d:"M8 8V7H7V8H8ZM11 8H12V7H11V8ZM11 14H10V15H11V14ZM12 14H13V13H12V14ZM12 15V16H13V15H12ZM8 15H7V16H8V15ZM8 14V13H7V14H8ZM9 14V15H10V14H9ZM9 9H10V8H9V9ZM8 9H7V10H8V9ZM9 7H8V9H9V7ZM9 9H11V7H9V9ZM10 8V9H12V8H10ZM10 9V14H12V9H10ZM12 13H11V15H12V13ZM13 15V14H11V15H13ZM11 16H12V14H11V16ZM11 14H9V16H11V14ZM8 16H9V14H8V16ZM7 14V15H9V14H7ZM9 13H8V15H9V13ZM10 14V9H8V14H10ZM8 10H9V8H8V10ZM7 8V9H9V8H7Z",mask:"url(#path-2-inside-1_955_382)"}),e.createElement("circle",{fill:"none",cx:"10",cy:"10",r:"9",strokeWidth:"2"}))}}}.call(e,i,e,t))||(t.exports=n)},6955:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{LocalHLSVideoIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:73*this.props.scale,height:51*this.props.scale,viewBox:"0 0 73 51",stroke:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M72.1,2.5 C71.6,1.7,70.8,1,70,0.6 C69.1,0.2,68.2,0,67.2,0 H61.1 H6 C3.9,0,2.1,0.7,0.9,2.5 H0.9 C0.6,3.2,0.2,4,0,4.7 V46.3 C0.2,47.1,0.6,47.8,0.9,48.5 C1.4,49.3,2.1,50,3,50.4 C3.8,50.8,4.8,51,5.7,51 H6.5 H67 C69.1,51,70.9,50.3,72.1,48.5 C72.4,47.8,72.8,47,73,46.3 V4.7 C72.8,3.9,72.5,3.2,72.1,2.5 L72.1,2.5 Z M33,3.9 H40.6 C40.7,4,40.9,4.1,41,4.2 V9.1 H32.5 V6.9 V4.4 C32.5,4.3,32.5,4.2,32.6,4.1 C32.7,4,32.8,3.9,33,3.9 V3.9 Z M12.2,47.1 C12,47.1,11.8,47.2,11.7,47.2 H4.4 C3.9,47.2,3.7,47.1,3.7,46.6 V42 H12.2 L12.2,47.1 Z M12.5,8.7 H12.5 C12.5,8.9,12.3,9.1,12.1,9.2 H4.3 H4.3 C4.2,9.1,4.1,9.1,4,9.1 V4.3 C4.1,4.1,4.2,4,4.4,4 H12.1 C12.2,3.9,12.3,4,12.4,4.1 C12.5,4.2,12.5,4.3,12.5,4.4 C12.5,5.8,12.5,7.3,12.5,8.7 L12.5,8.7 Z M26.5,47.1 C26.3,47.1,26.1,47.2,26,47.2 H18.6 H18.6 C18.5,47.2,18.3,47.2,18.1,47 C18,46.9,18,46.7,18,46.6 V42 L26.5,42 V47.1 L26.5,47.1 Z M26.8,8.6 C26.8,8.8,26.8,8.9,26.7,9 C26.5,9.2,26.4,9.2,26.2,9.2 H18.7 C18.5,9.1,18.3,9,18.2,8.8 V4 C18.5,4,18.7,4,18.8,4 H26.1 V4 C26.3,3.9,26.5,4,26.6,4.1 C26.8,4.2,26.8,4.4,26.8,4.6 C26.8,5.9,26.8,7.3,26.8,8.6 L26.8,8.6 Z M40.7,47.1 C40.5,47.1,40.3,47.2,40.2,47.2 H32.9 C32.4,47.2,32.2,47.1,32.3,46.6 V42.5 C32.3,42.3,32.3,42.2,32.3,42 L40.7,42 L40.7,47.1 Z M41.6,27.4 L33.2,32.6 C31.5,33.7,30.1,32.9,30.1,30.9 V20.1 C30.1,18.1,31.5,17.4,33.2,18.4 L41.6,23.6 C43.3,24.6,43.3,26.4,41.6,27.4 Z M55,46.8 C54.9,47,54.8,47.1,54.6,47.1 H46.9 C46.7,47.1,46.6,47,46.5,46.8 V42 H55 C55,43.7,55,45.3,55,46.8 H55 Z M55.3,8.7 C55.3,8.9,55.3,9.2,54.9,9.2 H46.8 V4 H50.7 H54.8 H54.8 C54.9,3.9,55.1,4,55.2,4.1 C55.3,4.2,55.3,4.3,55.3,4.5 C55.3,5.8,55.3,7.2,55.3,8.7 L55.3,8.7 Z M69.2,47.1 H60.8 V42 H69.2 V47.1 Z M69.5,8.7 C69.5,9,69.5,9.2,69.1,9.2 H61.3 H61.3 C61.2,9.2,61.1,9.1,61,9.1 V4 H61.6 H68.9 C69.1,3.9,69.3,4,69.4,4.1 C69.6,4.2,69.6,4.4,69.5,4.6 C69.5,6,69.5,7.3,69.5,8.7 L69.5,8.7 Z"}))}}}.call(e,i,e,t))||(t.exports=n)},3154:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernCaptionsIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"18",height:"15",viewBox:"0 0 18 15",focusable:"false",transform:"translate(0, 1)"},e.createElement("path",{d:"M15.2 0.4C15.6 0.4 15.9 0.6 16.2 0.8C16.4 1.1 16.6 1.4 16.6 1.8V10.6C16.6 10.9 16.4 11.3 16.2 11.5C15.9 11.7 15.6 11.9 15.2 11.9H10.2L8.6 13.4L7.1 11.9H2.1C1.7 11.9 1.4 11.7 1.1 11.5C0.9 11.3 0.7 10.9 0.7 10.6V1.8C0.7 1.4 0.9 1.1 1.1 0.8C1.4 0.6 1.7 0.4 2.1 0.4H15.2Z",strokeWidth:"0.8",fill:"none"}),e.createElement("path",{d:"M8.0 4.4C7.9 4.5 7.9 4.5 7.8 4.6C7.8 4.6 7.7 4.6 7.7 4.6C7.6 4.6 7.5 4.6 7.4 4.6C7.4 4.5 7.3 4.5 7.2 4.4C7.1 4.3 7.0 4.3 6.8 4.3C6.7 4.2 6.5 4.2 6.3 4.2C6.1 4.2 5.9 4.2 5.7 4.3C5.5 4.4 5.3 4.5 5.2 4.7C5.1 4.9 5.0 5.1 4.9 5.3C4.9 5.6 4.8 5.8 4.8 6.2C4.8 6.5 4.9 6.8 4.9 7.0C5.0 7.3 5.1 7.5 5.2 7.6C5.4 7.8 5.5 7.9 5.7 8.0C5.9 8.1 6.1 8.1 6.3 8.1C6.5 8.1 6.7 8.1 6.9 8.1C7.0 8.0 7.1 7.9 7.2 7.9C7.3 7.8 7.4 7.7 7.5 7.7C7.5 7.6 7.6 7.6 7.7 7.6C7.8 7.6 7.9 7.7 8.0 7.7L8.4 8.3C8.2 8.5 8.1 8.6 7.9 8.7C7.7 8.9 7.5 9.0 7.3 9.0C7.1 9.1 6.9 9.2 6.7 9.2C6.5 9.2 6.3 9.2 6.0 9.2C5.7 9.2 5.3 9.2 5.0 9.0C4.7 8.9 4.4 8.7 4.2 8.4C3.9 8.2 3.7 7.8 3.6 7.5C3.4 7.1 3.4 6.6 3.4 6.2C3.4 5.7 3.4 5.3 3.6 4.9C3.7 4.6 3.9 4.2 4.1 4.0C4.4 3.7 4.7 3.5 5.0 3.3C5.4 3.2 5.8 3.1 6.3 3.1C6.7 3.1 7.1 3.2 7.4 3.3C7.8 3.4 8.1 3.7 8.3 3.9L8.0 4.4Z",stroke:"none"}),e.createElement("path",{d:"M13.5 4.4C13.4 4.5 13.4 4.5 13.4 4.6C13.3 4.6 13.3 4.6 13.2 4.6C13.1 4.6 13.0 4.6 13.0 4.6C12.9 4.5 12.8 4.5 12.7 4.4C12.6 4.3 12.5 4.3 12.4 4.3C12.2 4.2 12.1 4.2 11.9 4.2C11.6 4.2 11.4 4.2 11.2 4.3C11.0 4.4 10.9 4.5 10.7 4.7C10.6 4.9 10.5 5.1 10.5 5.3C10.4 5.6 10.4 5.8 10.4 6.2C10.4 6.5 10.4 6.8 10.5 7.0C10.5 7.3 10.6 7.5 10.8 7.6C10.9 7.8 11.0 7.9 11.2 8.0C11.4 8.1 11.6 8.1 11.8 8.1C12.1 8.1 12.3 8.1 12.4 8.1C12.5 8.0 12.7 7.9 12.8 7.9C12.9 7.8 12.9 7.7 13.0 7.7C13.1 7.6 13.2 7.6 13.3 7.6C13.4 7.6 13.5 7.7 13.5 7.7L13.9 8.3C13.8 8.5 13.6 8.6 13.4 8.7C13.2 8.9 13.0 9.0 12.8 9.0C12.6 9.1 12.4 9.2 12.2 9.2C12.0 9.2 11.8 9.2 11.6 9.2C11.2 9.2 10.9 9.2 10.5 9.0C10.2 8.9 9.9 8.7 9.7 8.4C9.4 8.2 9.3 7.8 9.1 7.5C9.0 7.1 8.9 6.6 8.9 6.2C8.9 5.7 9.0 5.3 9.1 4.9C9.2 4.6 9.4 4.2 9.6 4.0C9.9 3.7 10.2 3.5 10.6 3.3C10.9 3.2 11.3 3.1 11.8 3.1C12.2 3.1 12.6 3.2 13.0 3.3C13.3 3.4 13.6 3.7 13.9 3.9L13.5 4.4Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},3908:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernEnterFullScreenIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"14",height:"14",viewBox:"0 0 14 14",focusable:"false"},e.createElement("path",{d:"M1.99055 2.3H5.1V0.4H0.1V5.2H1.9L1.9 2.3Z",stroke:"none"}),e.createElement("path",{d:"M5.1 11.8H1.9V8.9H0.1V13.6H5.1L5.1 11.8Z",stroke:"none"}),e.createElement("path",{d:"M11.5 11.8H8.4V13.6H13.3V8.9H11.5L11.5 11.8Z",stroke:"none"}),e.createElement("path",{d:"M8.4 2.3H11.5V5.2H13.3V0.4H8.4L8.4 2.3Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},670:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernEnterPipIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"18",height:"15",viewBox:"0 0 18 15",focusable:"false"},e.createElement("path",{d:"M14.4,6.4 L8,6.4 L8,11.2 L14.4,11.2 L14.4,6.4 L14.4,6.4 Z M17.6,12.8 L17.6,1.6 C17.6,0.7,16.9,0,16,0 L1.6,0 C0.7,0,0,0.7,0,1.6 L0,12.8 C0,13.7,0.7,14.4,1.6,14.4 L16,14.4 C16.9,14.4,17.6,13.7,17.6,12.8 L17.6,12.8 Z M16,12.8 L1.6,12.8 L1.6,1.6 L16,1.6 L16,12.8 L16,12.8 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},3544:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernExitFullScreenIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"15",height:"14",viewBox:"0 0 15 14",focusable:"false"},e.createElement("path",{d:"M4.2 4.1H0.1V6.0H6.2V0H4.2V4.1Z",stroke:"none"}),e.createElement("path",{d:"M0.1 9.8H4.2V13.9H6.2V7.9H0.1V9.8Z",stroke:"none"}),e.createElement("path",{d:"M10.0 9.8H14.1V7.9H8.1V13.9H10.0V9.8Z",stroke:"none"}),e.createElement("path",{d:"M8.1 0V6.0H14.1V4.1H10.0V0H8.1Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},6002:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernExitPipIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"18",height:"15",viewBox:"0 0 18 15",focusable:"false"},e.createElement("path",{d:"M14.4,3.4 L3,3.4 L3,11.2 L14.4,11.2 L14.4,6.4 L14.4,6.4 Z ",stroke:"none"}),e.createElement("path",{d:"M17.6,12.8 L17.6,1.6 C17.6,0.7,16.9,0,16,0 L1.6,0 C0.7,0,0,0.7,0,1.6 L0,12.8 C0,13.7,0.7,14.4,1.6,14.4 L16,14.4 C16.9,14.4,17.6,13.7,17.6,12.8 L17.6,12.8 Z M16,12.8 L1.6,12.8 L1.6,1.6 L16,1.6 L16,12.8 L16,12.8 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},2462:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernMenuCheckIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"12",height:"9",viewBox:"0 0 12 9"},e.createElement("path",{d:"M10 0.3 L11.5 1.7 L4.3 8.9 L0 4.7 L1.4 3.2 L4.3 6.1 L10 0.3 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},2251:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernPauseIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"9",height:"14",viewBox:"0 0 9 14",focusable:"false"},e.createElement("rect",{x:"0",width:"3",height:"14",stroke:"none"}),e.createElement("rect",{x:"6",width:"3",height:"14",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},6501:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernPlayIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"14",height:"16",viewBox:"0 0 14 16",focusable:"false"},e.createElement("path",{d:"M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},2756:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernSettingsIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},e.createElement("path",{d:"M14,3.2 L14.9,4.7 C15.3,5.5,15.1,6.4,14.4,6.8 L13.7,7.4 C13.7,7.6,13.7,7.7,13.7,7.9 C13.7,8.1,13.7,8.3,13.7,8.5 L14.4,9 C15.1,9.5,15.3,10.4,14.9,11.1 L14,12.7 C13.6,13.4,12.7,13.7,11.9,13.3 L11.1,13 C10.8,13.2,10.5,13.4,10.1,13.5 L10,14.4 C9.9,15.3,9.2,15.9,8.4,15.9 H6.6 C5.8,15.9,5.1,15.3,5.1,14.4 L5,13.5 C4.6,13.4,4.3,13.2,4,13 L3.1,13.3 C2.4,13.7,1.5,13.4,1.1,12.7 L0.2,11.1 C-0.2,10.4,0,9.5,0.7,9 L1.4,8.5 C1.4,8.3,1.4,8.1,1.4,7.9 C1.4,7.7,1.4,7.6,1.4,7.4 L0.7,6.8 C0,6.4,-0.2,5.5,0.2,4.7 L1.1,3.2 C1.5,2.5,2.4,2.2,3.1,2.5 L4,2.9 C4.3,2.7,4.6,2.5,5,2.3 L5.1,1.4 C5.1,0.6,5.8,0,6.6,0 H8.4 C9.2,0,9.9,0.6,10,1.4 L10.1,2.3 C10.5,2.5,10.8,2.7,11.1,2.9 L11.9,2.5 C12.7,2.2,13.6,2.5,14,3.2 Z M7.5,11.5 C9.4,11.5,11,9.9,11,8 C11,6.1,9.4,4.5,7.5,4.5 C5.6,4.5,4,6.1,4,8 C4,9.9,5.6,11.5,7.5,11.5 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},5540:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernSpeedIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",focusable:"false"},e.createElement("path",{d:"M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},7745:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernTranscriptIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",focusable:"false"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14,7.5 C14,11,11.2,13.9,7.6,13.9 C4.1,13.9,1.2,11,1.2,7.5 C1.2,4,4.1,1.1,7.6,1.1 C11.2,1.1,14,4,14,7.5 Z M15.1,7.5 C15.1,11.6,11.8,15,7.6,15 C3.5,15,0.1,11.6,0.1,7.5 C0.1,3.4,3.5,0,7.6,0 C11.8,0,15.1,3.4,15.1,7.5 Z M4,4.3 C4,4,4.3,3.7,4.6,3.7 H10.6 C11,3.7,11.2,4,11.2,4.3 C11.2,4.6,11,4.9,10.6,4.9 H4.6 C4.3,4.9,4,4.6,4,4.3 Z M4,6.5 C4,6.2,4.3,5.9,4.6,5.9 H7.6 C8,5.9,8.2,6.2,8.2,6.5 C8.2,6.8,8,7.1,7.6,7.1 H4.6 C4.3,7.1,4,6.8,4,6.5 Z M4.6,8.2 C4.3,8.2,4,8.5,4,8.8 C4,9.1,4.3,9.4,4.6,9.4 H10.6 C11,9.4,11.2,9.1,11.2,8.8 C11.2,8.5,11,8.2,10.6,8.2 H4.6 Z M4,11 C4,10.7,4.3,10.4,4.6,10.4 H9.6 C10,10.4,10.2,10.7,10.2,11 C10.2,11.3,10,11.6,9.6,11.6 H4.6 C4.3,11.6,4,11.3,4,11 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},4665:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ModernVolumeIcon:function(){var t=this.props.volume,i=void 0===t?1:t,n=Math.min(1,i/.5),r=Math.min(1,Math.max(0,i/.5-.5));return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"17",height:"13",viewBox:"0 0 17 13",focusable:"false"},e.createElement("rect",{x:"0.7",y:"4.0",width:"2.6",height:"5.2",stroke:"none"}),e.createElement("path",{d:"M4.2 4.0L8.6 0.4V12.8L4.2 9.2V4.0Z",stroke:"none"}),e.createElement("mask",{id:"mask0_180_1082",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"9",y:"0",width:"8",height:"13"},e.createElement("rect",{x:"10",y:"0.4",width:"7.0",height:"12.3",fill:"white"})),e.createElement("g",{mask:"url(#mask0_180_1082)"},e.createElement("circle",{cx:"8.6",cy:"6.6",r:"5.7",strokeWidth:"1",fill:"none",opacity:r}),e.createElement("circle",{cx:"8.6",cy:"6.6",r:"3.0",strokeWidth:"1",fill:"none",opacity:n})))}}}.call(e,i,e,t))||(t.exports=n)},8779:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{KebabMenu:function(){var t=this,n=DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore?i(7656).wrapped:i(7656),o=["kebab-popup"],s=this.props.isFullScreen,a=s||DS.detection.deviceView.isPhone?{tabIndex:0,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur}:{tabIndex:-1,"aria-hidden":!0};return this.state.open&&o.push("open"),this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"kebab-menu"},e.createElement("button",r({ref:"kebabButton",className:"title-button kebab-button",onClick:this.handleKebabClicked},a,{"aria-label":DS.stringTabler.getString("acc_window_options"),"aria-expanded":this.state.open}),e.createElement(n,{type:"verticalEllipse"})),e.createElement("div",{className:o.join(" ")},e.createElement("div",{className:"kebab-arrow-border"}),e.createElement("div",{className:"content"},this.props.options.map((function(i){var o=i.id,l=i.value,c=i.label,u=["checkbox"];l&&u.push("checked");var h=Object.assign(a,s?{role:"checkbox","aria-checked":l,"aria-label":c}:{});return e.createElement("button",r({key:o,ref:t.getOptionRef(o),className:u.join(" "),onClick:function(){return t.handleOptionClicked(o,l)}},h,{"data-kebab-part":"true"}),e.createElement("div",{className:"icon-wrap"},e.createElement(n,{type:"checked",classNames:["checked-icon"]}),e.createElement(n,{type:"unchecked",classNames:["unchecked-icon"]})),e.createElement("div",{className:"checkbox-label"},c))}))),e.createElement("div",{className:"kebab-arrow-background"})))}}}.call(e,i,e,t))||(t.exports=n)},8154:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{SelectControl:function(){var t=this,n=i(7656),s=this.props.isFullScreen?{role:"combobox","aria-labelledby":this.props.selectLabelId,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur}:{};return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"select-control"},e.createElement("button",r({ref:"input",className:["select-button"].concat(o(this.state.open?["open"]:[])).join(" "),onClick:this.handleClicked},s),e.createElement("span",{className:"selected-text",ref:"selectedValue"},this.getSelectedText()),e.createElement("div",{className:"down-arrow"})),e.createElement("div",{ref:"list",className:["select-droplist"].concat(o(this.state.open?["open"]:[])).join(" ")},this.props.options.map((function(i,r){var s=t.state.selectedIndex===r;return e.createElement("div",{key:r,ref:t.getRefName(r),role:"option",className:["select-option"].concat(o(s?["selected"]:[])).join(" "),onClick:function(e){return t.handleOptionClicked(e,r)},"data-index":r},e.createElement("div",{className:"selected-icon"},e.createElement(n,{type:"modernMenuCheck"})),e.createElement("div",{className:"label"},i.display))}))))}}}.call(e,i,e,t))||(t.exports=n)},6531:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{TranscriptList:function(){var t=this,i=this.props,n=i.transcript,o=(n=void 0===n?{}:n).cues,s=void 0===o?[]:o,a=i.isFullScreen,l=DS,c=l.stringTabler,u=l.detection.deviceView.isPhone,h=-1===this.state.focusedIndex?null:this.state.focusedIndex;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"transcript-list",onClick:this.handleListClicked},e.createElement("div",{className:"content",ref:"content"},e.createElement("ul",{ref:"listbox",tabIndex:a||u?0:-1,role:"listbox","aria-label":c.getString("acc_video_transcript_list"),"aria-activedescendant":this.formatItemRef(h)},s.map((function(i,n){var r=t.state.selectedIndex===n;return e.createElement("li",{key:n,id:t.formatItemRef(n),ref:t.formatItemRef(n),className:r?"selected":null,role:"option","aria-selected":r,"data-index":n},t.getTimeCodesEnabled()&&e.createElement("div",{className:"time-code"},t.formatTime(i.start)),e.createElement("div",{className:"cue-text"},i.text))})))),e.createElement("div",{className:["scrollbar"].concat(r(this.state.scrollable?["scrollable"]:[])).join(" "),ref:"scrollbar"},e.createElement("div",{className:"scroll-thumb",ref:"scrollThumb"})))}}}.call(e,i,e,t))||(t.exports=n)},5221:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}void 0===(n=function(t){var e=i(2577);return{TranscriptPanel:function(){var t=i(6790),n=i(601),o=DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore?i(7656).wrapped:i(7656),s=DS.detection.deviceView.isPhone,a=this.props.isFullScreen||s?{tabIndex:0,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur}:{tabIndex:-1,"aria-hidden":!0},l=this.props.options.find((function(t){return"autoScroll"===t.id})),c=l&&this.state.autoScrollPaused,u="panel-".concat(this.props.id),h="select-".concat(u),d=!s&&this.state.trackOptions.length>1&&!DS.flagManager.multiLangSupport;return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"transcript-panel ".concat(d?"":"single-track")},d?e.createElement("label",{id:h},e.createElement("span",{ref:"label"},this.selectLabel),e.createElement(t,{ref:"trackSelect",options:this.state.trackOptions,changeCallback:this.handleTrackChanged,toPanelCoords:this.toPanelCoords,isFullScreen:this.props.isFullScreen,labelId:h})):null,e.createElement(n,{ref:"transcriptList",toPanelCoords:this.toPanelCoords,transcript:this.state.transcript,autoScroll:l,autoScrollPaused:this.state.autoScrollPaused,videoInterface:this.props.videoInterface,isVisible:this.props.isVisible,options:this.props.options,isFullScreen:this.props.isFullScreen,notifyScrolled:this.handleTranscriptScrolled}),e.createElement("button",r({ref:"resumeAutoScroll",className:"resume-auto-scroll",onClick:this.handleResumeScrollClicked},a,{style:{display:c?"flex":"none"},"aria-label":this.resumeAutoScrollText}),e.createElement(o,{type:"upArrow"}),this.resumeAutoScrollText))}}}.call(e,i,e,t))||(t.exports=n)},6273:function(t,e,i){var n;function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r.apply(this,arguments)}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){var e=i(2577);return{UtilityWindow:function(){var t=DS,n=t.detection,s=n.deviceView,a=s.isPhone,l=s.isMobile,c=n.orientation,u=t.presentation,h=DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore?i(7656).wrapped:i(7656),d=i(9153),p=a&&c.isPortrait,f=this.getPanelClass(),g=this.state.isFullScreen,m="".concat(this.props.id,"-title"),v="rtl"===u.get("textDirection"),S=g||a?{tabIndex:0,onFocus:this.handleFullScreenFocus,onBlur:this.handleFullScreenBlur}:{tabIndex:-1,"aria-hidden":!0},y=["utility-window"].concat(o(this.state.isOpen?["open"]:[]),o(this.state.moving?["moving"]:[]),o(g?["fullscreen"]:[]),o(this.state.keyMoving?["key-moving"]:[]),o(this.state.keyFocusActive?["keyfocus"]:[]),o(v?["rtl"]:[])).join(" ");return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:y,style:this.getDockedPosition(),onMouseUp:this.onMouseUp,"aria-hidden":!g},e.createElement("div",{className:"titlebar"},p?e.createElement("div",{className:"utility-window-thumb"}):null,e.createElement("div",{className:"move-handle",ref:"moveHandle"}),e.createElement("h2",{id:m,ref:"title",className:"title"},DS.flagManager.multiLangSupport?this.state.title:this.props.title)),e.createElement("div",{className:"panel-container"},e.createElement(f,r({ref:"panelView"},this.props,{isVisible:this.state.isOpen,options:this.state.kebabOptions,optionCallback:this.optionUpdated,toWindowCoords:this.toWindowCoords,isFullScreen:g}))),!l&&e.createElement("div",{className:"bottom-controls"},e.createElement("button",r({ref:"move",role:"application",className:["utility-move"].concat(o(this.state.keyMoving?["active"]:[])).join(" "),onClick:this.handleMoveButton},S,{"aria-label":DS.stringTabler.getString("acc_window_move")}),e.createElement(h,{type:"move"})),e.createElement("button",r({ref:"resize",role:"application",className:["utility-resize"].concat(o(this.state.keyResizing?["active"]:[])).join(" "),onClick:this.handleResizeButton},S,{"aria-label":DS.stringTabler.getString("acc_window_resize")}),e.createElement(h,{type:"resize"}))),e.createElement("div",{className:"title-buttons"},e.createElement(d,{ref:"kebabMenu",options:this.state.kebabOptions,optionCallback:this.optionUpdated,toWindowCoords:this.toWindowCoords,isFullScreen:g}),e.createElement("button",r({ref:"close",className:"title-button utility-close",onClick:this.handleCloseClicked},S,{"aria-label":DS.stringTabler.getString("acc_window_close")}),e.createElement(h,{type:"close"}))),!a&&e.createElement("div",{className:"resize-handles"},e.createElement("div",{className:"handle resize-tl",ref:"topLeftSizer","data-resize-pos":"topleft"}),e.createElement("div",{className:"handle resize-t",ref:"topSizer","data-resize-pos":"top"}),e.createElement("div",{className:"handle resize-tr",ref:"topRightSizer","data-resize-pos":"topright"}),e.createElement("div",{className:"handle resize-r",ref:"rightSizer","data-resize-pos":"right"}),e.createElement("div",{className:"handle resize-l",ref:"leftSizer","data-resize-pos":"left"}),e.createElement("div",{className:"handle resize-bl",ref:"bottomLeftSizer","data-resize-pos":"bottomleft"}),e.createElement("div",{className:"handle resize-b",ref:"bottomSizer","data-resize-pos":"bottom"}),e.createElement("div",{className:"handle resize-br",ref:"bottomRightSizer","data-resize-pos":"bottomright"})),e.createElement("div",{ref:"buttonMoveHandle",className:"button-move-handle"}))}}}.call(e,i,e,t))||(t.exports=n)},8889:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{UtilityWindowController:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("div",{className:"utility-window-control"})}}}.call(e,i,e,t))||(t.exports=n)},2026:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{CheckedIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"14",height:"14",viewBox:"0 0 14 14"},e.createElement("mask",{id:"check-mask"},e.createElement("rect",{y:"0",width:"14",height:"14",rx:"3",fill:"white",stroke:"none"}),e.createElement("path",{d:"M10.8,3 L12,4.4 L5.7,11 L2,7.1 L3.2,5.8 L5.7,8.4 L10.8,3 Z",fill:"black",stroke:"none"})),e.createElement("rect",{y:"0",width:"14",height:"14",rx:"3",stroke:"none",mask:"url(#check-mask)"}))}}}.call(e,i,e,t))||(t.exports=n)},4529:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{CloseIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",focusable:"false"},e.createElement("path",{d:"M15.5,1.5 L14.5,0.6 L8,7 L1.5,0.6 L0.5,1.5 L7,8 L0.5,14.5 L1.5,15.4 L8,9 L14.5,15.4 L15.5,14.5 L9,8 L15.5,1.5 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},8924:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{MoveIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",focusable:"false"},e.createElement("path",{d:"M10.7,7 V4.9 V1.4 V0.7 C10.7,0.3,10.4,0,10,0 C9.6,0,9.3,0.3,9.3,0.7 V2.8 V6.2 V7 C9.3,7.4,9.6,7.7,10,7.7 C10.4,7.7,10.7,7.4,10.7,7 Z",stroke:"none"}),e.createElement("path",{d:"M10.7,19.3 V17.2 V13.8 V13 C10.7,12.6,10.4,12.3,10,12.3 C9.6,12.4,9.3,12.6,9.3,13 V15.1 V18.6 V19.3 C9.3,19.7,9.6,20,10,20 C10.4,20,10.7,19.7,10.7,19.3 Z",stroke:"none"}),e.createElement("path",{d:"M7,9.3 H4.9 H1.4 H0.7 C0.3,9.3,0,9.6,0,10 C0,10.4,0.3,10.7,0.7,10.7 H2.8 H6.2 H7 C7.4,10.7,7.7,10.4,7.7,10 C7.7,9.6,7.4,9.3,7,9.3 Z",stroke:"none"}),e.createElement("path",{d:"M19.3,9.3 H17.2 H13.8 H13 C12.6,9.3,12.3,9.6,12.3,10 C12.4,10.4,12.6,10.7,13,10.7 H15.1 H18.6 H19.3 C19.7,10.7,20,10.4,20,10 C20,9.6,19.7,9.3,19.3,9.3 Z",stroke:"none"}),e.createElement("path",{d:"M7.7,3.9 C8,3.6,8.3,3.3,8.6,3 C9.1,2.5,9.6,2,10.1,1.5 C10.2,1.3,10.3,1.2,10.5,1.1 H9.5 C9.9,1.4,10.2,1.7,10.5,2.1 C11,2.6,11.5,3.1,12,3.6 C12.1,3.7,12.2,3.8,12.3,3.9 C12.6,4.1,13,4.2,13.2,3.9 C13.5,3.6,13.5,3.2,13.2,3 C12.9,2.7,12.6,2.4,12.3,2 C11.8,1.5,11.3,1,10.8,0.5 C10.7,0.4,10.6,0.3,10.5,0.2 C10.2,-0.1,9.8,-0.1,9.5,0.2 C9.2,0.5,8.9,0.8,8.6,1.1 C8.1,1.6,7.6,2.1,7.1,2.6 C7,2.8,6.9,2.9,6.8,3 C6.5,3.2,6.5,3.7,6.8,3.9 C7,4.1,7.4,4.2,7.7,3.9 Z",stroke:"none"}),e.createElement("path",{d:"M6.8,17 C7.1,17.3,7.4,17.7,7.7,18 C8.2,18.5,8.7,19,9.2,19.5 C9.3,19.6,9.4,19.7,9.5,19.8 C9.8,20.1,10.2,20.1,10.5,19.8 C10.8,19.5,11.1,19.2,11.4,18.9 C11.9,18.4,12.4,17.9,12.9,17.4 C13,17.3,13.1,17.1,13.2,17 C13.5,16.8,13.5,16.3,13.2,16.1 C13,15.9,12.6,15.8,12.3,16.1 C12,16.4,11.7,16.7,11.4,17 C10.9,17.5,10.4,18,9.9,18.5 C9.8,18.7,9.7,18.8,9.5,18.9 H10.5 C10.1,18.6,9.8,18.3,9.5,17.9 C9,17.4,8.5,16.9,8,16.4 C7.9,16.3,7.8,16.2,7.7,16.1 C7.4,15.9,7,15.8,6.8,16.1 C6.5,16.4,6.5,16.8,6.8,17 Z",stroke:"none"}),e.createElement("path",{d:"M3.9,12.3 L1.1,9.5 V10.5 C1.4,10.1,1.7,9.8,2.1,9.5 C2.6,9,3.1,8.5,3.6,8 C3.7,7.9,3.8,7.8,3.9,7.7 C4.1,7.4,4.2,7,3.9,6.8 C3.6,6.5,3.2,6.5,3,6.8 C2.7,7.1,2.4,7.4,2,7.7 C1.5,8.2,1,8.7,0.5,9.2 C0.4,9.3,0.3,9.4,0.2,9.5 C-0.1,9.8,-0.1,10.2,0.2,10.5 C0.5,10.8,0.8,11.1,1.1,11.4 C1.6,11.9,2.1,12.4,2.6,12.9 C2.8,13,2.9,13.1,3,13.3 C3.2,13.5,3.7,13.5,3.9,13.3 C4.1,13,4.2,12.6,3.9,12.3 L3.9,12.3 Z",stroke:"none"}),e.createElement("path",{d:"M17,13.3 C17.3,12.9,17.6,12.6,18,12.3 C18.5,11.8,19,11.3,19.5,10.8 C19.6,10.7,19.7,10.6,19.8,10.5 C20.1,10.2,20.1,9.8,19.8,9.5 C19.5,9.2,19.2,8.9,18.9,8.6 C18.4,8.1,17.9,7.6,17.4,7.1 C17.3,7,17.1,6.9,17,6.8 C16.8,6.5,16.3,6.5,16.1,6.8 C15.9,7,15.8,7.4,16.1,7.7 C16.4,8,16.7,8.3,17,8.6 C17.5,9.1,18,9.6,18.5,10.1 C18.7,10.2,18.8,10.3,18.9,10.5 V9.5 C18.6,9.9,18.3,10.2,17.9,10.5 C17.4,11,16.9,11.5,16.4,12 C16.3,12.1,16.2,12.2,16.1,12.3 C15.9,12.6,15.8,13,16.1,13.3 C16.4,13.5,16.8,13.5,17,13.3 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},3335:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{ResizeIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 18",focusable:"false"},e.createElement("path",{d:"M0.5,0 H17.5 C17.6,0,17.8,0.1,17.9,0.1 C17.9,0.2,18,0.4,18,0.5 V17.5 C18,17.6,17.9,17.8,17.9,17.9 C17.8,17.9,17.6,18,17.5,18 H0.5 C0.4,18,0.2,17.9,0.1,17.9 C0.1,17.8,0,17.6,0,17.5 V0.5 C0,0.2,0.2,0,0.5,0 Z M1,17 H17 V1 H1 V17 Z M14,10.5 V13.5 C14,13.6,13.9,13.8,13.9,13.9 C13.8,13.9,13.6,14,13.5,14 H10.5 C10.2,14,10,13.8,10,13.5 C10,13.2,10.2,13,10.5,13 H12.3 L5,5.7 V7.5 C5,7.8,4.8,8,4.5,8 C4.2,8,4,7.8,4,7.5 V4.5 C4,4.4,4.1,4.2,4.1,4.1 C4.2,4.1,4.4,4,4.5,4 H7.5 C7.8,4,8,4.2,8,4.5 C8,4.8,7.8,5,7.5,5 H5.7 L13,12.3 V10.5 C13,10.2,13.2,10,13.5,10 C13.8,10,14,10.2,14,10.5 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},3349:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{UncheckedIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{className:this.props.classNames.join(" "),width:"14",height:"14",viewBox:"0 0 14 14"},e.createElement("rect",{x:"0.5",y:"0.5",width:"13",height:"13",rx:"2.5",fill:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},7111:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{UpArrowIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"10",height:"11",viewBox:"0 0 10 11"},e.createElement("path",{d:"M5.8,7 V10.1 C5.8,10.6,5.4,11,4.9,11 C4.4,11,4,10.6,4,10.1 V8.9 V4 V3.2 L2.9,4.2 L1.6,5.6 C1.2,6,0.6,5.9,0.3,5.6 C-0.1,5.2,-0.1,4.6,0.3,4.3 L0.8,3.8 L2.9,1.6 L4.3,0.3 C4.4,0.2,4.5,0.1,4.7,0 C4.7,0,4.8,0,4.9,0 C5.2,0,5.4,0.1,5.5,0.2 C5.6,0.3,5.6,0.3,5.6,0.3 L6.1,0.8 L8.2,2.9 L9.6,4.3 C9.9,4.6,9.9,5.2,9.6,5.6 C9.2,6,8.6,5.9,8.3,5.6 L7.8,5.1 L5.8,3.2 V7 Z",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},9249:function(t,e,i){var n;void 0===(n=function(t){var e=i(2577);return{VerticalEllipseIcon:function(){return this.isDropIn&&(e=DS.DropIn),e.createElement("svg",{width:"4",height:"13",viewBox:"0 0 4 13",focusable:"false"},e.createElement("circle",{cx:"2",cy:"1.5",r:"1.5",stroke:"none"}),e.createElement("circle",{cx:"2",cy:"6.5",r:"1.5",stroke:"none"}),e.createElement("circle",{cx:"2",cy:"11.5",r:"1.5",stroke:"none"}))}}}.call(e,i,e,t))||(t.exports=n)},9789:function(t,e,i){var n;n=function(t){"use strict";var e=DS.Backbone,i=DS._,n=DS.BaseModel,r=DS.subscribable,o=DS.resolveable,s=DS.ancestral,a=DS.shortEventable,l=DS.mixer,c=e.Collection.extend({mixins:[r,o,s,a],model:n,isCollection:!0,constructor:function(t,n){var r=this.initialize;this.initialize=i.noop,e.Collection.apply(this,arguments),this.createParentReference(n),l.initMixinsOf(this),this.initialize=r,this.initialize.apply(this,arguments),l.postInitMixinsOf(this)}});return c}.call(e,i,e,t),void 0===n||(t.exports=n)},4964:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(1270);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},874:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(8432),r=DS._;return e.extend({model:n,hasType:function(t){return this.some((function(e){return e.type()===t}))},getVideoCount:function(){return r.countBy(this.models,(function(t){return t.type()})).video||0},getAudioCount:function(){return r.countBy(this.models,(function(t){return t.type()})).audio||0}})}.call(e,i,e,t))||(t.exports=n)},8634:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(7930),r=(DS._,DS.Chunk);return e.extend({model:n,getResumeData:function(t){return this.invoke("getResumeData",t).map(r.create).join("")},setResumeData:function(t,e){var i=new r({fullString:t});this.forEach((function(t){t.setResumeData(i.encodedString(),e),i=i.reChunk()}))},resetBeforeView:function(){this.invoke("resetBeforeView")}})}.call(e,i,e,t))||(t.exports=n)},8646:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(9620),r=i(9789),o=DS._,s=DS.events,a=DS.resolver,l=DS.utils,c=DS.vow.Deferred().resolve().promise(),u=o.memoize((function(t){return a.resolvePath(l.prefixWithPlayer(t),null,{optional:!0})}));return r.extend({model:n,subscriptions:(e={},e[s.slide.STARTED]="onSlideStarted",e),initialize:function(){this.onTimelinePlayingDelegate=this.onTimelinePlaying.bind(this),this.onTimelinePausedDelegate=this.onTimelinePaused.bind(this),this.onTimelineSeekStartDelegate=this.onTimelineSeekStart.bind(this),this.onTimelineSeekEndDelegate=this.onTimelineSeekEnd.bind(this)},findPlaylist:function(t){return this.find((function(e){return e.get("slideids").indexOf(t)>=0}))},load:function(t){var e=this.findPlaylist(t);return null==e||e.isPlaying()?(null!=this.timeline&&(this.timeline.off(s.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.off(s.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.off(s.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.off(s.timeline.SEEK_END,this.onTimelineSeekEndDelegate),this.timeline=null),c):e.load()},onSlideStarted:function(t){var e=this.currentlyPlaying,i=this.findPlaylist(t);e!==i&&(null!=e&&e.stop(),null!=i&&i.play()),null!=i&&(this.timeline=u(t).getBaseLayer().timeline(),this.timeline.on(s.timeline.PLAYING,this.onTimelinePlayingDelegate),this.timeline.on(s.timeline.PAUSED,this.onTimelinePausedDelegate),this.timeline.on(s.timeline.SEEK_START,this.onTimelineSeekStartDelegate),this.timeline.on(s.timeline.SEEK_END,this.onTimelineSeekEndDelegate)),this.currentlyPlaying=i},onTimelinePlaying:function(){this.seeking||this.currentlyPlaying.resume()},onTimelinePaused:function(){this.seeking||this.currentlyPlaying.pause()},onTimelineSeekStart:function(){this.seeking=!0},onTimelineSeekEnd:function(){this.seeking=!1}})}.call(e,i,e,t))||(t.exports=n)},3306:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(9472);return e.extend({model:n,getNonMessageScenes:function(){return this.reject((function(t){return t.isMessageScene()}))}})}.call(e,i,e,t))||(t.exports=n)},2981:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}void 0===(n=function(t){"use strict";var e,n,r=i(9789),s=DS._,a=DS.events,l=DS.pubSub,c=DS.constants,u=i(5809);return r.extend({subscriptions:o({},a.quiz.INTERACTION_ANSWERED,"onQuizInteractionAnswered"),model:u,getStatus:function(){if(null!=e)return e;var t=s.first(this.filter((function(t){return t.isCourseComplete()})));return null!=t?t.getStatus():c.statuses.INCOMPLETE},guessCurrentScoring:function(){return s.find(this.models,(function(t){return!(e=t).isView()&&!e.isAction()&&e.quiz.attempted()&&(t.quiz===n||s.some(t.quiz.quizzes,(function(t){return t===n})));var e}))},manuallySetActionStatus:function(t){var i=s.find(this.models,(function(t){return t.isType("action")}));null!=i&&(e=i.get(t?"passStatus":"failStatus"),i.prop("Status",e),l.trigger(a.course.MANUALLY_COMPLETED,t,i))},incrementViewed:function(t){this.filter((function(t){return t.isView()})).forEach((function(e){return e.incrementViewed(t)}))},onQuizInteractionAnswered:function(t){n=t},hasQuiz:function(t){return s.some(this.models,(function(e){return e.quiz&&s.some(e.quiz.quizzes,{id:t.id})}))}})}.call(e,i,e,t))||(t.exports=n)},543:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(4343);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},1060:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(9789),r=i(3424),o=DS,s=o._,a=o.detection,l=o.events,c=o.pubSub,u=o.Chunk,h=function(t){return!t.isBaseLayer()&&!t.isShowable},d=function(t){return t.timeline().progress()>=1},p=n.extend({model:r,shortEvents:{self:(e={},e[l.layer.HIDDEN]="onLayerHidden",e[l.layer.HIDE_OTHER_LAYERS]="onHideOtherLayers",e[l.layer.ACTIVATED]="onLayerActivated",e)},initialize:function(){this.activeLayers=[]},getBaseLayer:function(){return this.findWhere({isBaseLayer:!0})},getNonBaseLayers:function(){return this.without(this.getBaseLayer())},onHideOtherLayers:function(t){var e=s.indexOf(this.activeLayers,t);return-1===e&&(e=this.activeLayers.length),s.invokeMap(s.take(this.activeLayers,e),"hide"),this},pauseBaseLayer:function(t){return this.getBaseLayer().pauseTimelineFromLayer(t),this},pauseAll:function(t){this.invoke("pauseTimeline",t),this.invoke("cancelTransition")},playBaseLayer:function(t){return this.getBaseLayer().resumeTimelineFromLayer(t),this},getSlide:function(){return this.getClosestAncestorWithAssoc(p)},hideAllHideableLayers:function(){s.invokeMap(this.filter(h),"hide")},onTimelineComplete:function(){this.activeLayers.slice().concat([this.getBaseLayer()]).every(d)&&this.trigger(l.slide.ALL_TIMELINES_COMPLETE)},onLayerActivated:function(t){var e=this.getTopMostLayer(),i=e===t;e&&"dialog"===e.get("presentAs")&&c.trigger(l.layer.DIALOG_HIDDEN),this.setPrevLayers(this.activeLayers.slice()),i||null==e||e.setAsTopMostLayer(!1),t.pauseParent()&&!s(this.activeLayers).includes(t)&&this.pauseBaseLayer(t),this.bringToFront(t),t.setAsTopMostLayer(!0),"dialog"===t.get("presentAs")&&(DS.flagManager.dropInAcc?(document.activeElement.blur(),requestAnimationFrame((function(){c.trigger(l.layer.DIALOG_SHOWN,t)}))):c.trigger(l.layer.DIALOG_SHOWN,t))},getTopMostLayer:function(){return s(this.activeLayers).last()},onLayerHidden:function(t){var e=this.getTopMostLayer(),i=t===e;this.setPrevLayers(this.activeLayers.slice()),s(this.activeLayers).includes(t)&&(i&&(t.setAsTopMostLayer(!1),"dialog"===t.get("presentAs")&&c.trigger(l.layer.DIALOG_HIDDEN)),this.removeLayerFromActive(t),e=this.getTopMostLayer(),i&&(null!=e&&e.setAsTopMostLayer(!0),window.requestAnimationFrame((function(){null!=t.lastModalFocus&&t.lastModalFocus.accShadowView.takeFocus()}))),this.getSlide().currentTimeline()===t.timeline()&&this.trigger(l.timeline.CHANGED,this.getBaseLayer().timeline()),t.pauseParent()&&this.playBaseLayer(t))},bringToFront:function(t){return this.activeLayers=s(this.activeLayers).without(t).push(t).value(),this.remapLayerDepths(),this},removeLayerFromActive:function(t){return this.activeLayers=s.without(this.activeLayers,t),this.remapLayerDepths(),this},tabIndexModalCalc:function(t){this.hasModalLayerAbove(t)?t.trigger("adjustTabIndexForModal",{disable:!0}):t.trigger("adjustTabIndexForModal",{disable:!1})},remapLayerDepths:function(){var t=this,e=this.getBaseLayer(),i=e.depthOffset;this.activeLayers.forEach((function(e,n){e.depth(n+1),e.startDepth=i,i+=e.depthOffset,t.tabIndexModalCalc(e)})),this.tabIndexModalCalc(e),c.trigger(l.layer.STACKING_CHANGED)},resetActiveLayers:function(){return s.forEach(this.activeLayers,(function(t){t.isOpen=!1})),this.activeLayers=[],this},restoreActiveLayers:function(t){for(var e=new u({fullString:t});e.encodedString().length>0;)this.at(e.getUnsignedValue()+1).show().setAsShowable(),e=e.reChunk();this.getBaseLayer().shouldPlayOnCloseLayer=!0},getActiveLayersResumeData:function(){return this.activeLayers.reduce((function(t,e){return t+u.create(u.toSignedString64(e.index()-1))}),"")},setPrevLayers:function(t){a.device.isMobile&&(this.prevLayers=t)},hasModalLayerAbove:function(t){var e=s.findLastIndex(this.activeLayers,(function(t){return!!t.modal()}));return e>s.findIndex(this.activeLayers,t)},hasLayerAbove:function(t){return t.isBaseLayer()&&this.activeLayers.length>0||s.findIndex(this.activeLayers,t)<this.activeLayers.length-1},killEverything:function(){this.activeLayers=[],this.stopListening(),this.invoke("killEverything"),this.reset([],{silent:!0})}});return p}.call(e,i,e,t))||(t.exports=n)},2136:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(4214),r=i(3697),o=i(7498),s=i(7644),a=i(435),l=i(8529),c=i(252),u=i(8913),h=i(2390),d=i(4585),p=i(4858),f=i(2748),g=i(6724),m=DS._,v=DS.utils,S=function(t){return t.abilities.groupObjects},y={objgroup:r,table:r,stategroup:o,shufflegroup:s,textinput:a,scrollarea:l,expandinglabel:c,droplist:u,droparea:h,dragitem:d,sequencectrl:p,slideframe:f,threesixtyimage:g},b=e.extend({model:function(t,e){var i=y[t.kind]||n;return v.buildDataStructure(i,e,t)},findNestedObject:function(t){var e;return m.find(this.filter(S),(function(i){return!!(e=i.objects().get(t))})),e}});return[r,s,o,l,c].forEach((function(t){t.addAssociation("objects",b)})),b}.call(e,i,e,t))||(t.exports=n)},3200:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(5892);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},5653:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(6185);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},8377:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(5953);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},3764:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(4251);DS._;return e.extend({model:n,getAttrConfig:function(t){return 0===this.length?null:this.at(0).getAttrConfig(t)}})}.call(e,i,e,t))||(t.exports=n)},3531:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(6491);return e.extend({model:n,buildTweens:function(){return this.invoke("build")}})}.call(e,i,e,t))||(t.exports=n)},4282:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(9789),r=i(2470),o=i(2991),s=DS._,a=DS.Chunk,l=DS.events;return n.extend({model:r,subscriptions:(e={},e[l.player.RESET]="resetValues",e),initialize:function(){this.getResumeDataOrReturn=s.partial(o.meetConditionOrReturn,this,this.shouldGetResumeData)},addVariable:function(t,e){return this.push(s.extend({},{resume:!0},t),{parent:e})},resetValues:function(){this.invoke("resetValue")},shouldGetResumeData:function(){return this.filter(o.isResumable).some((function(t){return!t.hasInitValue()}))},getResumeData:function(){this.booleans=[];var t=this.filter(o.isResumable).reduce(this.encodeVariable.bind(this),"");return a.create(this.encodeBooleans())+t},encodeVariable:function(t,e){return e.isBoolean()?this.booleans.push(e.value()):t+=e.getEncodedValue(),t},encodeBooleans:function(t){for(var e,i,n="";this.booleans.length;)e=1,i=this.booleans.splice(0,6).reduce((function(t,i){return t+=i*e,e*=2,t}),0),n+=a.toUnsignedString64(i);return n},setResumeData:function(t){var e="";if(t.length>0){var i=new a({fullString:t}),n=this.convertBoolStringToArray(i.encodedString()),r=this.filter(o.isResumable);e=i.remainder(),r.forEach((function(t){t.isBoolean()?t.value(n.shift(),{silent:!0}):(i=i.reChunk(),t.setEncodedValue(i.encodedString()),e=i.remainder())}))}return e},convertBoolStringToArray:function(t){return t.split("").reduce((function(t,e){for(var i=a.fromUnsignedString64(e),n=1;n<=32;)t.push(!!(i&n)),n*=2;return t}),[])}})}.call(e,i,e,t))||(t.exports=n)},2070:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(9710);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},4680:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(2512);return e.extend({model:n})}.call(e,i,e,t))||(t.exports=n)},4004:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=DS.Chunk;return e.extend({getResumeData:function(){return this.invoke("getResumeData").map(n.create).join("")||""},setResumeData:function(t){return this.forEach((function(e){e.setResumeData(t.encodedString()),t=t.reChunk()})),t}})}.call(e,i,e,t))||(t.exports=n)},3783:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=i(8205),r=DS.Chunk;return e.extend({model:n,getResumeData:function(){return this.invoke("getResumeData").map(r.create).join("")||r.create("")},setResumeData:function(t){return this.forEach((function(e){e.setResumeData(t.encodedString()),t=t.reChunk()})),t}})}.call(e,i,e,t))||(t.exports=n)},347:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(5114),n=i(4525),r=function(t){this.init(t)};return DS._.assign(r.prototype,n.prototype,{isMediaElement:!0,createElement:function(){return this},load:function(){return this.hasStartedLoading||(this.hasStartedLoading=!0,this.audioClip=e.loadUrl(this.url,this.id),this.audioClip.dfd.promise().then(this.dfd.resolve).catch(this.dfd.reject)),this.promise},teardown:function(){null!=this.audioClip&&this.audioClip.destroy(!0),this.audioClip=null}}),r}.call(e,i,e,t))||(t.exports=n)},362:function(t,e,i){var n;n=function(t){"use strict";var e=DS._,i=function t(i){return this instanceof t?i instanceof t?i:void(e.isArray(i)?(this.iterator=(n=i,function(){var t=n.length,e=0;return{next:function(){return e===t?{done:!0}:{value:n[e++],done:!1}}}}),this.arr=i):null!=i[Symbol.iterator]?this.iterator=i[Symbol.iterator].bind(i):this.iterator=i):new t(i);var n};return i.empty=new i([]),i.isIterable=function(t){return e.isArray(t)||e.isFunction(t)||null!=t[Symbol.iterator]&&"string"!=typeof t},e.extend(i.prototype,{toArray:function(){if(null!=this.arr)return this.arr;var t=[];return this.forEach((function(e){t.push(e)})),this.arr=t,t},forEach:function(t){for(var e,n,r=this.iterator(),o=0,s=[];!(e=r.next()).done&&!1!==n;)n=t(e.value,o++,this),s.push(e.value);return new i(s)},map:function(t){return new i(function(){var e=this.iterator(),i=0;return{next:function(){var n=e.next();return n.done?{done:!0}:{value:t(n.value,i++,this),done:!1}}.bind(this)}}.bind(this))},filter:function(t){return new i(function(){var e=this.iterator(),i=0;return{next:function n(){var r=e.next();return r.done?{done:!0}:t(r.value,i++,this)?{value:r.value,done:!1}:n.call(this)}.bind(this)}}.bind(this))},some:function(t){var e=!1;return this.forEach(function(i,n){return!(e=!!t(i,n,this))}.bind(this)),e},flatten:function(){return new i(function(){var t=this.iterator(),e=[];return{next:function n(){var r=t.next(),o=r.value;return r.done?null==(t=e.pop())?{done:!0}:n.call(this):(i.isIterable(o)&&(o=new i(o)),o instanceof i?(e.push(t),t=o.iterator(),n.call(this)):r)}.bind(this)}}.bind(this))},concat:function(){var t=[this].concat(e.map(arguments,i));return new i((function(){var e;return{next:function i(){if(null==e){if(0===t.length)return{done:!0};e=t.shift().iterator()}var n=e.next();return n.done?(e=null,i()):n}}}))},first:function(){return this.iterator().next().value},flatMap:function(t){return new i(function(){var e=this.iterator(),n=[],r=0;return{next:function o(){if(n.length>0){var s=n[n.length-1].next();return s.done?(n.pop(),o()):s}var a,l=e.next();return l.done?{done:!0}:(a=t(l.value,r++,this),i.isIterable(a)?(n.push(new i(a).iterator()),o()):{value:a,done:!1})}.bind(this)}}.bind(this))},reduce:function(t,e){var i,n=0,r=this.iterator();if(void 0===e&&(n++,(i=r.next()).done))throw new TypeError("Reduce of empty iterable with no initial value");for(;(i=r.next())&&!i.done;)e=t(e,i.value,n++,this);return e}}),i.prototype.compact=e.partial(i.prototype.filter,Boolean),i}.call(e,i,e,t),void 0===n||(t.exports=n)},7512:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4525),n=DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?null:i(1554);DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation||(window.globalLoadJsAsset=function(t,e){var i=JSON.parse(e);if(DS.detection.env.isFileProtocol&&null!=DS.courseAudio.localAudioLookup[t])DS.courseAudio.localAudioLookup[t]=i.dataUri;else{var r=DS.utils.resolveAssetUrl(t);n.addJsAsset(r,i)}});var r=function(t){this.init(t)};return Object.assign(r.prototype,e.prototype,DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?{load:function(){var t=this;DS.jsonLoader.load(this.url,{load:function(){DS.connection.assetLoaded(t.url),t.dfd.resolve()},error:this.onError.bind(this)})}}:{load:function(){var t=this;DS.loadScript(this.url,(function(){DS.connection.assetLoaded(t.url),t.dfd.resolve()})).onerror=this.onError.bind(this)},teardown:_.noop}),r}.call(e,i,e,t))||(t.exports=n)},9901:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4525),n=i(503),r=DS,o=r._.noop,s=r.errorManager,a=[];window.globalProvideSvgData=function(t,e){a.includes(t)?(_.remove(a,(function(e){return e===t})),n.addAsset(t,e)):s.throwErrorSoft("dataId mismatch",t,a)};var l=function(t){this.init(t)};return Object.assign(l.prototype,e.prototype,{load:function(){var t=this;a.push(this.dataId),(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?DS.loadScript(this.url,{load:function(){DS.connection.assetLoaded(t.url),t.dfd.resolve()}}):DS.loadScript(this.url,(function(){DS.connection.assetLoaded(t.url),t.dfd.resolve()}))).onerror=this.onError.bind(this)},teardown:o}),l}.call(e,i,e,t))||(t.exports=n)},4525:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(3986),n=DS._,r=DS.vow,o=DS.detection,s=!o.browser.isIE&&!o.os.isIOS&&!o.browser.isSafariMac,a=r.Deferred().resolve().promise(),l=function(t){this.init(t)};n.extend(l.prototype,{retries:1,retryTimeout:250,hasStartedLoading:!1,isMediaElement:!1,init:function(t){n.bindAll(this,"onLoad","onCanPlay","onError","setElement"),this.retries=null!=t.retries?t.retries:this.retries,this.retryTimeout=null!=t.retryTimeout?t.retryTimeout:this.retryTimeout,this.failuresCount=0,this.url=t.url,this.id=t.id,this.type=t.type,this.loadForView=!!t.loadForView,this.dataId=t.dataId,this.createDeferred().createElement(),("video"!=this.type&&"audio"!=this.type&&this.loadForView||"jssvg"===this.type)&&DS.connection.requiredAsset(this.url,null,null,this.type),this[this.loadForView?"batchLoad":"queueLoad"]()},createDeferred:function(){var t=r.Deferred();return Object.defineProperties(this,{dfd:{value:t},promise:{value:t.promise()}}),this},createElement:function(){if(s&&"img"===this.type){var t=document.createElementNS("http://www.w3.org/2000/svg","image");e.getMediaLoaderSvg().appendChild(t),this.setElement(t)}else"js"!=this.type&&"jssvg"!=this.type&&this.setElement(document.createElement(this.type));return this},setElement:function(t){this.teardown(),this.el=t,this.addEventListeners()},queueLoad:function(){return a.always(this.load.bind(this)),a=this.promise,this.promise},batchLoad:function(){this[o.os.isIOS&&this.isMediaElement?"queueLoad":"load"]()},load:function(){if(null!=this.el)return this.hasStartedLoading||(this.hasStartedLoading=!0,s&&"img"===this.type?this.el.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.url):this.el.src=this.url,this.isMediaElement&&this.loadMediaElement()),this.promise},loadMediaElement:function(){null!=this.el&&this.el.load()},retry:function(){return this.failuresCount++,DS.connection.assetFailed(this.url),setTimeout(function(){return this.hasStartedLoading=!1,this.createElement().load()}.bind(this),DS.connection.useConnectionMessages?DS.connection.retryDelay:this.retryTimeout),this},shouldRetry:function(){return this.failuresCount<this.retries||DS.connection.useConnectionMessages},onLoad:function(t){this.isMediaElement||(this.dfd.resolve(),this.removeEventListeners(),DS.connection.assetLoaded(this.url))},onCanPlay:function(){this.removeEventListeners(),this.dfd.resolve()},onError:function(t){if(DS.connection.useConnectionMessages&&!this.loadForView)return this.dfd.resolve(),void this.removeEventListeners();this.shouldRetry()?this.retry():(this.dfd.reject("Could not load media "+this.url),this.removeEventListeners())},teardown:function(){null!=this.el&&(s&&"video"!==this.type||(this.el.src=""),this.detachElement())},detachElement:function(){this.removeEventListeners(),this.el=null},bindListeners:function(t){var e=t?"addEventListener":"removeEventListener";null!=this.el&&(this.el[e]("load",this.onLoad),this.el[e]("canplay",this.onCanPlay),this.el[e]("error",this.onError))}});var c=l.prototype;return n.extend(c,{addEventListeners:n.partial(c.bindListeners,!0),removeEventListeners:n.partial(c.bindListeners,!1)}),l}.call(e,i,e,t))||(t.exports=n)},2577:function(t,e,i){var n,r;n=[i(8696)],void 0===(r=function(t){"use strict";var e=DS._;null==t.createClass&&(t={createClass:function(){return{}}});var i=function(e){var i=t.createClass(e);return i.__spec=e,i};return e.extend({},t,{createClass:i,extend:function(t,n){return i(e.extend({},t.__spec,n))}})}.apply(e,n))||(t.exports=r)},1467:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,s=void 0,s=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(s)?s:String(s)),n)}var o,s}void 0===(n=function(t){"use strict";return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.objectMap=new WeakMap,this.timelineAnimations=[],this.triggerAnimations=[],this.slideObjectLookup=new WeakMap,this.slide=e,this.timelineScripts={}}var e,i,n;return e=t,(i=[{key:"resetTriggerAnimations",value:function(){for(var t=this.triggerAnimations,e=0;e<t.length;e++)t[e].animation.cancel()}},{key:"addForTriggers",value:function(t,e){var i=this.slideObjectLookup.get(e.object);return e.finish=function(e){null!=t&&null!=i&&i.props.model.executeFilteredPlayerEvent((function(e){return e.id===t}),"onanimationcomplete")},e.animation.onfinish=e.finish,e.animation}}])&&o(e.prototype,i),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()}.call(e,i,e,t))||(t.exports=n)},8335:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,s=void 0,s=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(s)?s:String(s)),n)}var o,s}n=function(){var t=DS.utils,e=function(){function e(t,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),null==t||isNaN(t)||t<=0)throw"Timers duration needs to be greater than 0!";this.duration=t,this.paused=!0,this.elapsed=0,this.running=!1,this.events=i,_.bindAll(this,"step")}var i,n,r;return i=e,n=[{key:"play",value:function(){var t=this;if(this.running||this.elapsed>=this.duration)return-1;this.paused=!1,this.running=!0,window.requestAnimationFrame((function(){return t.step(performance.now())}))}},{key:"pause",value:function(){this.paused=!0}},{key:"progress",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return t.clamp(0,this.duration,this.elapsed);this.seek(e,i)}},{key:"seek",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e&&!isNaN(e)){var n=!this.paused;this.pause(),this.elapsed=t.clamp(0,this.duration,e),i||this.update(),this.elapsed<=this.duration&&n&&(this.paused=!1,this.play())}}},{key:"elapsedPercentage",value:function(){return t.clamp(0,1,this.elapsed/this.duration)}},{key:"reset",value:function(){this.pause(),this.seek(0)}},{key:"step",value:function(t){var e=this;if(this.paused)this.running=!1;else{var i=performance.now();this.elapsed+=i-t,this.update(),this.running&&window.requestAnimationFrame((function(){return e.step(i)}))}}},{key:"update",value:function(){t.getPath(this.events,"onUpdate"),this.elapsed>=this.duration&&(this.running=!1,t.getPath(this.events,"onComplete"))}}],n&&o(i.prototype,n),r&&o(i,r),Object.defineProperty(i,"prototype",{writable:!1}),e}();return e}.call(e,i,e,t),void 0===n||(t.exports=n)},8674:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4525),n=i(1862),r=DS._,o=function(t){this.init(t)};return r.assign(o.prototype,e.prototype,{displayName:"VideoLoader",isMediaElement:!0,createElement:function(){var t=this;return this.elementOwner=this,this.isElementOwner=!0,n.requestVideoEl(this).then((function(e){t.setElement(e),t.load()})),this},getVideoUrl:function(){return this.url},load:function(){if(null!=this.el)return this.hasStartedLoading||(this.hasStartedLoading=!0,this.el.loadVideo(this.url)&&this.dfd.resolve()),this.promise},assignNewOwner:function(t){return this.elementOwner=t,this.isElementOwner=!1,this.el},loadMediaElement:r.noop,teardown:function(){null!=this.el&&(this.elementOwner!==this?n.updateElementOwner(this,this.elementOwner,this.el):n.putVideoInPen(this.el,this))}}),o}.call(e,i,e,t))||(t.exports=n)},8359:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(7945),r=i(586),o=i(1408),s=i(8289),a=i(362),l=i(7859),c=i(254),u=DS._,h=DS.Backbone,d=DS.automation,p=DS.utils,f=DS.debug,g=DS.errorManager,m=DS.pubSub,v=DS.events,S=DS.resolver,y=DS.mixer,b=DS.shortEventable,w=DS.constants,x=g.throwError("actionManager"),D=g.warn("actionManager"),C=g.backtick,E=function(t){var e="action:",i=t.shortEvents,n=i&&i.self;return u.keys(n).filter((function(t){return 0===t.indexOf(e)})).map((function(t){return t.replace(e,"")}))},P={global:null,meta:null},T=function(t,e){var i=P[t];return u.includes(i,e.kind)},I=u.partial(T,"global"),A=u.partial(T,"meta"),L=function(t){return u.includes(["gotoplay","history_prev","playnextdrawslide","nextunansweredslide","nextunsubmittedslide","nextviewedslide","history_prev_scene","history_prev_group"],t.kind)},M=(e=["param","objRef","varRef","quizRef","variable","id","drawid","interactionId","value","startslideid","scrollref"],function(t,i){var n;return u.find(e,(function(e){return n=function(t,e,i){var n=t[e];return u.isPlainObject(n)?S.getRef(n,i.context,i):n}(t,e,i),n})),n}),k=function(t,e){var i=S.splitPath(t.id),n=u.last(i),r=S.joinPath(u.initial(i)),o=r?S.resolvePath(r,e.context):e.context,s=function(t,e,i){var n,r=t;return null!=e.scopeRef&&(r=u.isArray(t)?t.map((function(t){var n=S.getRef(e.scopeRef,t,i);return 0===e.id.indexOf(w.CHILDREN)&&n===w.CHILDREN?t:S.resolvePath(n,t)})):"_owner"===(n=S.getRef(e.scopeRef,i.context,i))?t:S.resolvePath(n,i.context)),r}(o,t,e),l=u.isArray(o)?o:[o],c=l.map((function(t){return S.resolvePath(n,t,{optional:"_children"===u.first(i)})})),h=u.isArray(s)?s:[s];return 1===c.length&&h.length>1&&h.forEach((function(t,e){l[e]=l[e]||l[0],c[e]=c[e]||c[0]})),new a(c).map(function(i,n){if(null!=i){var r=u.defaults({context:h[n]},e),o=u.defaults({context:l[n]},e);return r.params=function(t,e){return u.mapValues(t.params||{},(function(t){return S.getRef(t,e.context,e)}))}(t,o),{actions:i.actions,data:r}}}.bind(this)).filter(u.identity)},R=function(t,e){return t[o.evaluateAction(t,e)?"thenActions":"elseActions"]},V={exe_actiongroup:function(t,e){return k(t,e).map((function(t){return _.traceActions(t.actions,t.data)})).flatten()},if_action:function(t,e){return _.traceActions(R(t,e),e)}},O={};O[n.EXE_ACTIONGROUP]="executeActionGroup",O[n.IF_ACTION]="evaluateConditional",O[n.FOREACH]="executeLoop",O[n.DEBUG_TRACE]="logDebugMessage",O[n.DEBUG_ERROR]="logErrorMessage";var _={mixins:[s,b,h.Events],shortEvents:{self:O},addNavigationListeners:function(){var t=this;this.jumpCount=0;var e=DS.events.slide.WILL_CHANGE;m.addListener(e,(function(){return t.onNavigationEvent(e)}))},onNavigationEvent:function(t){this.jumpCount++},didJump:function(t,e){return"playnextdrawslide"===t.kind?e<this.jumpCount:L(t)},executeActions:function(t,e){var i,n,r=0,o=t.length,s=!1,a=this.jumpCount;if(o>0)do{i=t[r],s&&"close_window"!==i.kind?D("executeActions","skip action:",i.id):(this.slideJumpPerformed=!1,n=u.clone(e),this.executeAction(i,n),e.cancel=n.cancel,s=s||this.slideJumpPerformed||this.didJump(i,a))}while(++r<o);return this.slideJumpPerformed=s,s&&m.trigger(v.slide.JUMPING,e.context),this},executeAction:function(t,e){if(!0!==d.silenceActions[t.kind]){var i,n;e&&e.context||x("executeAction","Cannot execute action without a context:",C(t.kind));var o=null!=e.context.getClosestAncestorByKind&&e.context.getClosestAncestorByKind("slide",!0);return"close_window"!==t.kind&&"hidetimer"!==t.kind&&e.context.isAncestral&&p.getPath(o,"destroyed")?(D("executeActions","skip action:",t.id),this):(c.shouldSkipAction(o,t)||(i=function(t,e){var i=e.context,n=M(t,e);return!!n&&S.resolvePath(n.replace(/^\./,""),i,{optional:!0})}(t,e),(n=I(t)?r:A(t)?_:i)||x("executeAction","the object",p.doubleQuote(M(t,e)),"does not exist in this scope:",p.doubleQuote(p.stripPlayer(e.context.absoluteId||"")),"to execute the action",C(t.kind)),e.actionTarget=i,p.applyMethod("triggerAction",n,t,e)),this)}},executeActionGroup:function(t,e){return k(t,e).forEach(function(t){var i=t.actions,n=t.data;this.executeActions(i,n),n.cancel&&(e.cancel=n.cancel)}.bind(this)),this},evaluateConditional:function(t,e){var i=R(t,e);return i&&this.executeActions(i,e),this},executeLoop:function(t,e){t.iterables.forEach((function(i){var n=u.defaults({iterables:i.valueref},e);_.executeActions(t.actions,n)}))},logMessage:function(t,e,i){if(f.debugMode){var n="debug"===t;console[n?"log":"error"](t.toUpperCase()+":",e.message),n||f.throwError()}},traceActions:function(t,e){return null==t?a.empty:new a(t).map((function(t){var i=V[t.kind];return null!=i?i(t,e):[t]})).flatten()},isJumpAction:L};return _.logDebugMessage=u.partial(_.logMessage,"debug"),_.logErrorMessage=u.partial(_.logMessage,"error"),y.mix(_),y.initMixinsOf(_),P.global=E(r),P.meta=E(_),l.initialize(_),_.addNavigationListeners(),_}.call(e,i,e,t))||(t.exports=n)},586:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(3986),o=i(7945),s=i(8289),a=i(254),l=i(9924).parseTemplate,c=DS._,u=DS.Backbone,h=DS.playerGlobals,d=DS.windowManager,p=DS.constants,f=DS.events,g=DS.detection,m=DS.pubSub,v=DS.mixer,S=DS.utils,y=DS.resumer,b=DS.errorManager,w=DS.shortEventable,x=DS.resolver,D=DS.webObjectHelper,C=DS.slidesController,E=DS.flagManager,P=DS.ThreeSixtyImage,T=b.throwError("actionator"),I=c.debounce((function(){return m.trigger(f.request.NEXT_SLIDE)}),300,{leading:!0,trailing:!1}),A=function(){var t=d.getCurrentWindow(),e=t.getCurSlide();return t.isWaitingForSlideLoad()||e&&!e.timelineReady},L={mixins:[s,w,u.Events],shortEvents:{self:(n={},n[o.SAVE_RESUME_DATA]="saveResume",n[o.NOTIFY_PREVIEW]="notifyPreview",n[o.ENABLE_FRAME_CONTROL]="enableFrameControl",n[o.SET_FRAME_LAYOUT_TYPE]="setFrameLayout",n[o.SET_WINDOW_CONTROL_LAYOUT]="setWindowControlLayout",n[o.SET_FRAME_LAYOUT]="setFrameLayoutFromLayout",n[o.SET_WINDOW_CONTROL_VISIBLE]="changeWindowControl",n[o.ENABLE_WINDOW_CONTROL]="changeWindowControl",n[o.TOGGLE_WINDOW_CONTROL]="changeWindowControl",n[o.TOGGLE_WINDOW_CONTROL_VISIBLE]="changeWindowControl",n[o.GOTOPLAY]="changeSlide",n[o.TRIGGER_NEXT_SLIDE]="advanceSlide",n[o.TRIGGER_PREV_SLIDE]="triggerPrevSlideClicked",n[o.TRIGGER_SUBMITALL_SLIDE]="onSubmitAll",n[o.TRIGGER_SUBMIT_SLIDE]="onSubmitSlide",n[o.TRIGGER_SLIDE_FINISH]="onSlideFinish",n[o.HISTORY_PREV]="goBack",n[o.HISTORY_PREV_GROUP]="goBackHistoryGroup",n[o.CLOSE_WINDOW]="closeWindow",n[o.CLOSE_PLAYER]="closePlayer",n[o.PRINT_SLIDE]="printSlide",n[o.OPEN_VIDEO]="openVideo",n[o.OPEN_URL]="openUrl",n[o.RESUME_PLAYER]="applyPlayerResumeData",n[o.PLAYNEXTDRAWSLIDE]="advanceSlideDrawSlide",n[o.GET_MOUSE_POSITION]="getMousePosition",n[o.ZOOMPAN]="zoomPan",n[o.CLOSEWNDGOTOSLIDE]="closeWndGotoSlide",n[o.NEXTVIEWEDSLIDE]="nextViewedSlide",n[o.EXE_JAVASCRIPT]="exeJavaScript",n[o.BACKGROUND_AUDIO_CONTROL]="backgroundAudioControl",n[o.EMAILTO]="mailTo",n[o.RESET_PLAYER]="resetPlayer",n[o.RESET_SLIDE]="resetSlide",n[o.PRINTRESULTS]="printQuizResults",n[o.NOTIFYLINKSELECTED]="notifyLinkSelected",n[o.CANCEL_EVENT]="cancelEvent",n[o.TRIGGER_HOST_EVENT]="triggerHostEvent",n[o.SET_COURSE_STATUS]="setCourseStatus",n[o.XAPI_SEND_STATEMENT]="sendXApiStatement",n)},onSubmitAll:function(){d.getCurrentWindowSlide().executePlayerEvent("onsubmitallslide")},onSubmitSlide:function(){d.getCurrentWindowSlide().executePlayerEvent("onsubmitslide")},onSlideFinish:function(){d.getCurrentWindowSlide().executePlayerEvent("onfinishslide")},resetSlide:function(){d.getCurrentWindowSlide().reset()},saveResume:function(t,e){var i=x.getRef(t.slideref||t.slideRefs);x.resolvePath(i,e.context).prepareResumeData({retainState:!0})},notifyPreview:function(t,e){m.trigger(f.preview.NOTIFY,t.message,t.data)},mailTo:function(t){var i,n="mailto:"+t.address;e.isPreview()?m.trigger(f.preview.NOTIFY,"PREVIEW_EMAILTO"):g.device.isMobile?window.top.location.assign("mailto:"+t.address):((i=document.createElement("iframe")).src=n,c.extend(i.style,{height:"1px",width:"1px",border:"0"}),r.addToLib(i),setTimeout((function(){r.removeElFromParent(i),i=null}),200))},execUserJs:window.ExecuteScript,exeJavaScript:function(t){try{this.execUserJs(t.id)}catch(t){T("exeJavaScript",t.message||"Unknown custom script error")}},openVideo:function(t,e){t.windowsize="custom",m.trigger(f.window.OPEN_EXTERNAL,t,e)},getMousePosition:function(t,e){S.applyMethod("triggerAction",e.context,t,e)},zoomPan:function(t,e){S.applyMethod("triggerAction",e.context,t,e)},closeWndGotoSlide:function(t,e){var i=t.objRef.value;m.trigger(f.window.CLOSING,t.closewindowid),m.trigger(f.request.NEXT_SLIDE,i)},nextViewedSlide:function(t,e){var i=x.resolvePath(x.getRef(t.quizRef),e.context);S.applyMethod("triggerAction",i,t,e)},openUrl:function(t,e){m.trigger(f.window.OPEN_EXTERNAL,t,e)},initialize:function(t){e=t},setWindowControlLayout:function(t,e){var i=e.context.prop("WindowId")||d.getCurrentWindowId();m.trigger(f.controlLayout.CHANGED,t.name,i)},setFrameLayout:function(t,e){m.trigger(f.controlLayout.CHANGED,t.name,p.refs.FRAME)},setFrameLayoutFromLayout:function(t){m.trigger(f.controlLayout.CHANGED,t.name,p.refs.FRAME)},changeControls:function(t,e,i){var n=[(-1===e.name.indexOf("swipe")?"navcontrols":"swipe")+":changed",e];t&&n.push(i),m.trigger.apply(m,n)},isLightBox:function(t){if(null!=t)return-1!=t.indexOf("Lightbox")},changeSlide:function(t,i){var n=this;if(!A()){var r=S.getPath(i,"actionTarget.absoluteId");if(null==r&&e.isPreview())m.trigger(f.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");else{if(this.isLightBox(t.window))if(P.isWaitingLoad(!1,(function(){n.changeSlide(t,i)})))return;m.trigger(f.request.NEXT_SLIDE,r,t.window)}}},triggerPrevSlideClicked:function(t){d.getCurrentWindowSlide().executePlayerEvent("onprevslide")},goBack:function(t){A()||m.trigger(f.request.PREV_SLIDE)},goBackHistoryGroup:function(t,e){A()||m.trigger(f.request.PREV_HISTORY_GROUP)},advanceSlide:function(t){A()||I()},advanceSlideDrawSlide:function(t){A()||m.trigger(f.request.NEXT_DRAW_SLIDE)},closeWindow:function(t){m.trigger(f.window.CLOSING,t.id)},closePlayer:function(){m.trigger(f.player.CLOSING)},printSlide:function(t,i){if(!g.theme.isClassic)if(e.isPreview())m.trigger(f.preview.NOTIFY,"PREVIEW_PRINT_SLIDE");else{var n=x.getRef(t.objRef,i),r=x.resolvePath(n,i);a.printSlide(r)}},applyPlayerResumeData:function(t){m.trigger(f.loader.UNMUTE),y.applyResumeData(t.resume)},resetPlayer:function(t,e){m.trigger(f.player.RESET);var i,n,r=d.getCurrentWindowSlide(),o=C.getSlide(t.startslideid,r);null!=r&&r.absoluteId===o.absoluteId?(y.clearResumeData(),r.reset()):(null==r||null===(i=r.currView)||void 0===i||null===(n=i.killSlide)||void 0===n||n.call(i),y.clearResumeData(),this.changeSlide(t,e))},printQuizResults:function(t,e){a.printQuizResults(t,e)},notifyLinkSelected:function(t,e){m.trigger(f.actionlink.VIEWED,t.id)},cancelEvent:function(t,e){e.cancel=!0},triggerHostEvent:function(t){D.triggerHostEvent(t.eventName)},setCourseStatus:function(t){if(E.multipleQuizTracking)h.presentation.scorings().manuallySetActionStatus(t.status);else{var e=h.presentation.scoring();"action"===e.type()&&(e.prop("Status",e.get(t.status?"passStatus":"failStatus")),m.trigger(f.course.MANUALLY_COMPLETED,t.status,e))}},sendXApiStatement:function(t){var e=l(t.statement).updateString;m.trigger(f.course.SEND_XAPI_STATEMENT,JSON.parse(e()))},backgroundAudioControl:function(t){null!=t.id&&m.trigger(f.backgroundAudio.SWITCH_PLAYLIST,{id:t.id}),m.trigger(f.backgroundAudio.CONTROL,{command:t.command})}};return c.extend(L,{changeWindowControl:c.partial(L.changeControls,!0),enableFrameControl:c.partial(L.changeControls,!1)}),v.mix(L),v.initMixinsOf(L),L}.call(e,i,e,t))||(t.exports=n)},7945:function(t,e,i){var n;void 0===(n=function(t){"use strict";return{ADD_CHOICE_RESPONSE:"action:addchoiceresponse",ADD_PAIR_RESPONSE:"action:addpairresponse",ADJUST_VAR:"action:adjustvar",BRING_TO_FRONT:"action:bringtofront",BACKGROUND_AUDIO_CONTROL:"action:background_audio_control",CANCEL_EVENT:"action:cancel_event",CLOSE_PLAYER:"action:close_player",PRINT_SLIDE:"action:print_slide",CLOSEWNDGOTOSLIDE:"action:closewndgotoslide",CLOSE_WINDOW:"action:close_window",DEBUG_TRACE:"action:debug_trace",DEBUG_ERROR:"action:debug_error",EMAILTO:"action:emailto",ENABLE_FRAME_CONTROL:"action:enable_frame_control",ENABLE_WINDOW_CONTROL:"action:enable_window_control",EVAL_ALL_UNANSWERED:"action:eval_all_unanswered",EVAL_INTERACTION:"action:eval_interaction",EXE_ACTIONGROUP:"action:exe_actiongroup",EXE_ANIMATION:"action:exe_animation",EXE_JAVASCRIPT:"action:exe_javascript",FOREACH:"action:foreach",GET_MOUSE_POSITION:"action:get_mouse_position",GOTOPLAY:"action:gotoplay",HIDE:"action:hide",HIDE_SLIDELAYER:"action:hide_slidelayer",HIDE_TIMER:"action:hidetimer",HISTORY_PREV:"action:history_prev",HISTORY_PREV_GROUP:"action:history_prev_group",NEXTVIEWEDSLIDE:"action:nextviewedslide",IF_ACTION:"action:if_action",MEDIA_SEEK:"action:media_seek",MEDIA_PLAY:"action:media_play",MEDIA_PAUSE:"action:media_pause",MEDIA_TOGGLE:"action:media_toggle",MOVE_TO:"action:moveto",NEXT_VIEWED_SLIDE:"action:nextviewedslide",NOTIFYLINKSELECTED:"action:notifylinkselected",NOTIFY_PREVIEW:"action:notify_preview",OBJECT_ACTION:"action:object_action",OPEN_VIDEO:"action:open_video",OPEN_URL:"action:open_url",PAUSE_ANIMATIONS:"action:pause_animations",PAUSE_TIMELINE:"action:pause_timeline",PAUSE_TIMER:"action:pausetimer",PLAYNEXTDRAWSLIDE:"action:playnextdrawslide",PRINTRESULTS:"action:printresults",RESET_QUIZ:"action:resetquiz",RESET_TIMER:"action:resettimer",RESET_PLAYER:"action:reset_player",RESET_SLIDE:"action:resetslide",RESTORE_RESUME_STATE:"action:restore_resume_state",RESUME_PLAYER:"action:resume_player",RESUME_TIMELINE:"action:resume_timeline",SAVE_RESUME_DATA:"action:save_resume_data",SEEK_TIMELINE:"action:seek_timeline",SET_ACTIVE_TIMELINE:"action:setactivetimeline",SET_COURSE_STATUS:"action:set_course_status",SET_DRAW_REVIEW:"action:setdrawreview",SET_ENABLED:"action:set_enabled",SET_FOCUS:"action:setfocus",SET_FRAME_LAYOUT:"action:set_frame_layout",SET_FRAME_LAYOUT_TYPE:"action:set_frame_layout_type",SET_OBJ_STATE:"action:setobjstate",SET_QUIZ_COMPLETE:"action:setquizcomplete",SET_REVIEW:"action:set_review",SET_VOLUME:"action:set_volume",SHOW_SLIDELAYER:"action:show_slidelayer",SET_WINDOW_CONTROL_LAYOUT:"action:set_window_control_layout",SET_WINDOW_CONTROL_VISIBLE:"action:set_window_control_visible",SHOW:"action:show",SHOW_TIMER:"action:showtimer",START_TIMER:"action:starttimer",STORE_RESUME_DATA:"action:store_resume_data",TOGGLE_WINDOW_CONTROL:"action:toggle_window_control",TOGGLE_WINDOW_CONTROL_VISIBLE:"action:toggle_window_control_visible",TRIGGER_HOST_EVENT:"action:trigger_host_event",TRIGGER_NEXT_SLIDE:"action:trigger_next_slide",TRIGGER_PREV_SLIDE:"action:trigger_prev_slide",TRIGGER_SLIDE_FINISH:"action:trigger_slide_finish",TRIGGER_SUBMITALL_SLIDE:"action:trigger_submitall_slide",TRIGGER_SUBMIT_SLIDE:"action:trigger_submit_slide",TRIGGER_WEBOBJECT_CLIENT_EVENT:"action:trigger_webobject_client_event",UPDATE_SCROLL_POS:"action:updatescrollpos",UPDATE_SCROLL_HEIGHT:"action:updatescrollheight",ZOOMPAN:"action:zoompan",XAPI_SEND_STATEMENT:"action:xapi_send_statement"}}.call(e,i,e,t))||(t.exports=n)},1193:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS,i=e.slidesController,n=e.detection.env.isRise;return{prepare:function(t){return new Promise((function(e){if(n){var r=i.getSlide(i.getEntrypoint()),o=t.assetLib(),s=!1;if(null!=r){var a=t.slideMap(),l=r.fullId();s=a.getRefById(l).assetIds().some((function(t){return"panorama"===o.findWhere({id:t}).get("imageType")}))}e(s)}else e(!1)}))}}}.call(e,i,e,t))||(t.exports=n)},107:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(7763),r=i(3986),o=DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?DS.jsAssetStore:i(1554),s=DS,a=s._,l=s.errorManager,c=s.vow,u=l.throwError("assetManager"),h=l.backtick,d={audio:1,video:2};return{initialize:function(t){return e=t,this},getAsset:function(t){var i=e.get(t);return i||u("getAsset","No asset with id of",h(t)),i},getAssetUrl:function(t){return this.getAsset(t).url()},offloadAssets:function(t){t.forEach(function(t){var e=this.getAsset(t);"audio"===e.type()?n.wipeFromBuffer(e.url()):"js"===e.type()&&o.clearAsset(e.url())}.bind(this))},prioritizeAssets:function(t){var e=t.map(this.getAsset.bind(this));return a.sortBy(e,(function(t){return d[t.type()]||0}))},loadAssets:function(t,e){a.isArray(t)||u("loadAssets","Must pass in an array of asset ids");var i=a.invokeMap(this.prioritizeAssets(t),"load",e),n=c.after.apply(null,i);return n.dfds=a.map(i,"dfd"),n},clearAllAssets:function(){for(var t,e=r.getMediaLoaderSvg();t=e.lastElementChild;)e.removeChild(t)}}}.call(e,i,e,t))||(t.exports=n)},8287:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,i=DS.utils;return{initialize:function(t){e=t},load:function(t){return e.load(i.stripPlayer(t.absoluteId))}}}.call(e,i,e,t))||(t.exports=n)},7763:function(t,e,i){var n;n=function(t){"use strict";var e,n,r,o=i(9066),s=DS,a=s._,l=s.audioContext,c=s.utils,u=s.detection,h=s.vendorOverrides,d=s.superagent,p=s.animationClock,f=DS.globalEventHelper,g=f.addBodyListener,m=f.removeBodyListener,v=1e-6,S=c.createSuper(o),y={},b={},w=!1,x={},D=function(){return"suspended"===E.context().state},C=h.destroyAudioContext||function(t){null!=e&&clearTimeout(e),e=setTimeout((function(){null!=n&&(n.close(),n=null),null!=t&&null!=x[t]&&(x[t]=null)}),3e4)},E=function(){o.apply(this,arguments)};a.extend(E,o,{context:function(){return null==n&&(n=l&&new l,D()&&g("mousedown",(function t(){n.onstatechange(),m("mousedown",t)})),n.onstatechange=function(){D()&&null!=n&&n.resume()}),null!=e&&(clearTimeout(e),e=null),n},prepare:function(t){var e,i=!0,n=u.browser.isFF?window.setTimeout:function(t){return t()};this.playInaudibleBeep(),D()&&null!=(e=E.context().resume())?window.requestAnimationFrame((function(){e.then((function(){i=!1,D()&&(w=!0),t()})).catch((function(){i=!1,w=!0,t()})),n((function(){i&&(w=D(),t())}),250)})):t()},checkNeedsApproval:function(){return w},playInaudibleBeep:function(){var t=new P,e=function(){t.destroy(),this.prepareScratchBuffer()}.bind(this);return t.play(),u.os.isAndroid?setTimeout(e,30):e(),this},prepareScratchBuffer:function(){var t=this.context();r=t.createBuffer(1,1,22050)}}),E.prototype=new o,a.extend(E.prototype,{constructor:E,initialize:function(){S("initialize").apply(this,arguments),this.options.isBackgroundAudio?this.contextStartTime=0:this.contextStartTime=p.time(),this.dfd.catch(function(){E.wipeFromBuffer(this.url)}.bind(this)),u.os.isIOS&&document.addEventListener("visibilitychange",this.onIosVisibilityChange.bind(this))},load:function(){return null!=y[this.url]?(this.buffer=y[this.url],this.dfd.resolve()):d.get(this.url).on("request",(function(){this.xhr.responseType="arraybuffer"})).end(function(t,e){t?this.dfd.reject(t):this.decode(e.xhr.response)}.bind(this)),this},decode:function(t){E.context().decodeAudioData(t,this.onDecodeSuccess.bind(this),this.dfd.reject)},onDecodeSuccess:function(t){t?(y[this.url]=this.buffer=t,this.dfd.resolve()):this.dfd.reject("Could not load audio buffer from "+this.url)},onEnded:function(){this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),S("onEnded").apply(this,arguments)},createGain:function(t){var e=t||E.context();this.ctx=e,this.gainNode=e.createGain();var i=this.options.parentId;null!=i?((null==x[i]||t)&&(null!=x[i]&&(this.oldVolume={parent:x[i].parent.gain.value,variable:x[i].variable.gain.value,fader:x[i].fader.gain.value}),x[i]={parent:e.createGain(),fader:e.createGain(),variable:e.createGain()},x[i].parent.connect(e.destination),x[i].fader.connect(x[i].parent),x[i].variable.connect(x[i].fader),this.shouldResetGains||null==this.oldVolume||(x[i].parent.gain.value=this.oldVolume.parent,x[i].variable.gain.value=this.oldVolume.variable,x[i].fader.gain.value=this.oldVolume.fader),this.shouldResetGains=!1),this.gainNode.connect(x[i].variable)):this.gainNode.connect(e.destination),this.gainNode.gain.value=this.volume},resetGains:function(){this.shouldResetGains=!0},matchParentGains:function(t){var e=this.parentVolumes(),i=t.parentVolumes();null!=e&&null!=i&&(e.parent.gain.value=i.parent.gain.value,e.variable.gain.value=i.variable.gain.value)},parentVolumes:function(){var t=this.options.parentId;if(null!=x[t])return x[t]},fadeSoundByVariable:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.options.parentId;if(null!=x[i]){var n=x[i].variable.gain;n.setValueAtTime(n.value,this.ctx.currentTime),n.exponentialRampToValueAtTime(Math.max(v,t),this.ctx.currentTime+e)}},fadeSoundGroup:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,n=this.options.parentId;if(null!=x[n]){var r=x[n].parent.gain;i&&(r.value=i),r.setValueAtTime(r.value,this.ctx.currentTime),r.exponentialRampToValueAtTime(Math.max(v,t),this.ctx.currentTime+e)}},fadeInSoundGroupLinear:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.options.parentId;if(null!=x[i]){var n=x[i].parent.gain;n.value=0,n.setValueAtTime(n.value,this.ctx.currentTime),n.linearRampToValueAtTime(Math.max(v,t),this.ctx.currentTime+e)}},fadeIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.options.parentId;if(null!=x[i]){var n=x[i].fader.gain;e||(n.value=v),n.setValueAtTime(n.value,this.ctx.currentTime),n.exponentialRampToValueAtTime(1,this.ctx.currentTime+t)}},fadeOut:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.options.parentId;if(null!=x[i]){var n=x[i].fader.gain;e||(n.value=1),n.setValueAtTime(n.value,this.ctx.currentTime),n.exponentialRampToValueAtTime(v,this.ctx.currentTime+t)}},destroyGain:function(){null!=this.gainNode&&(this.gainNode.disconnect(),this.gainNode=null)},createSource:function(){var t=E.context();this.source=t.createBufferSource(),this.source.buffer=this.buffer,this.bindSourceOnEnded(),this.source.connect(this.gainNode)},destroySource:function(){if(null!=this.source){this.unbindSourceOnEnded();try{this.source.stop(0)}catch(t){}this.source.disconnect();try{this.source.buffer=r}catch(t){}this.source=null}},clearTimeUpdateInterval:function(){clearInterval(this.timeUpdateTimeoutHandle)},startTimeUpdateInterval:function(){this.clearTimeUpdateInterval(),this.timeUpdateTimeoutHandle=setInterval(function(){this.onTimeUpdateDelegate(this.getCurrentTime())}.bind(this),250)},setPlaybackSpeed:function(t){null!=this.source&&null!=this.source.playbackRate&&(this.source.playbackRate.value=t)},deferredPlay:function(){var t=E.context();this.destroySource(),this.destroyGain(),this.startAt<this.getDuration()?("interrupted"===t.state&&t.resume(),this.createGain(t),this.createSource(),this.options.isBackgroundAudio?(this.contextStartTime=t.currentTime,this.source.start(this.contextStartTime+Math.max(0,-this.startAt),Math.max(0,this.startAt))):(this.contextStartTime=p.time(),this.source.start(0,Math.max(0,this.startAt)),null!=this.source.playbackRate&&(this.source.playbackRate.value=DS.appState.getPlaybackSpeed())),this.startTimeUpdateInterval(),this.isPlaying=!0,this.markAsPlaying()):this.onEnded()},deferredPause:function(){this.isPlaying&&(this.startAt=this.getCurrentTime(),this.destroySource(),this.destroyGain(),this.isPlaying=!1,this.unmarkAsPlaying(),this.clearTimeUpdateInterval())},getCurrentTime:function(){return this.isPlaying?this.options.isBackgroundAudio?E.context().currentTime-this.contextStartTime+this.startAt||0:(p.time()-this.contextStartTime+1e3*this.startAt||0)/1e3:this.startAt},getDuration:function(){return c.getPath(this.buffer,"duration")},setVolume:function(t){return this.volume=t,null!=this.gainNode&&(this.gainNode.gain.value=t),this},destroy:function(t){return null==t&&(t=!u.device.isMobile),this.destroySource(),this.destroyGain(),this.unmarkAsPlaying(),this.clearTimeUpdateInterval(),t||E.wipeFromBuffer(this.url),S("destroy").apply(this,arguments),this},bindSourceOnEnded:function(){this.onEndedOnceDelegate=a.once(this.onEndedDelegate),this.source.onended=this.onEndedOnceDelegate,this.source.addEventListener("ended",this.onEndedOnceDelegate)},unbindSourceOnEnded:function(){this.source.onended=null,this.source.removeEventListener("ended",this.onEndedOnceDelegate),this.onEndedOnceDelegate=null},markAsPlaying:function(){b[this.url]=!0},unmarkAsPlaying:function(){b[this.url]=null,a.every(b,a.isNull)&&(b={},C(this.options.parentId))},onIosVisibilityChange:function(){var t=this;if("visible"===document.visibilityState){var e=E.context(),i=new P,r=function(){i.destroy()}.bind(this),o=e.currentTime;i.play(),setTimeout((function(){e.currentTime===o&&(y[t.url]=null,n=null),r()}),125)}}}),E.wipeFromBuffer=function(t){y[t]=null};var P=function(){E.apply(this,arguments),this.url="#inaudible",this.volume=0,this.dfd.resolve()};return P.prototype=new E,a.extend(P.prototype,{constructor:P,createSource:function(){var t=E.context();this.source=t.createOscillator(),this.source.type="sine",this.source.frequency.value=22e3,this.source.connect(this.gainNode)},getDuration:function(){return 1/0}}),E}.call(e,i,e,t),void 0===n||(t.exports=n)},9066:function(t,e,i){var n;n=function(t){"use strict";var e=i(3666),n=DS._,r=DS.Backbone,o=DS.errorManager,s=DS.events,a=DS.pubSub,l=DS.vow,c=(DS.flagManager,s.detection),u=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.deferredOp=n.noop,this.options=i,this.dfd=l.Deferred(),this.dfd.then(function(){this.deferredOp(),this.deferredOp=n.noop}.bind(this)),this.dfd.catch(function(t){o.throwError("AudioClipBase","constructor",'could not load "',this.url,'" ',t)}.bind(this)),this.url=t,this.id=e,this.startAt=0,this.options.isBackgroundAudio||(this.playbackSpeed=DS.appState.getPlaybackSpeed()),this.isPlaying=!1,this.isEnded=!1,this.onEndedDelegate=this.onEnded.bind(this),this.onTimeUpdateDelegate=this.onTimeUpdate.bind(this),n.bindAll(this,"onVisibilityHidden","onVisibilityShown"),this.initialize()};u.prepare=n.noop,u.checkNeedsApproval=n.noop;var h=u.prototype;n.extend(h,r.Events,{initialize:function(){var t=this;this.detectionSubscriptions={},this.detectionSubscriptions[c.VISIBILITY_HIDDEN]=this.onVisibilityHidden,this.detectionSubscriptions[c.VISIBILITY_SHOWN]=this.onVisibilityShown,a.on(this.detectionSubscriptions),this.options.isBackgroundAudio||a.on(s.player.PLAYBACK_SPEED_CHANGED,(function(e){t.handlePlaybackSpeedChanged(e)}))},handlePlaybackSpeedChanged:function(t){this.setPlaybackSpeed(t)},onEnded:function(){this.isPlaying=!1,this.isEnded=!0,this.trigger(s.audioClip.ENDED,this.url)},onTimeUpdate:function(t){this.isPlaying&&this.trigger(s.audioClip.TIME_UPDATE,t)},onVisibilityHidden:function(){this.isPlaying&&(this.wasPlayingWhenVisible=!0,this.pause())},onVisibilityShown:function(){this.wasPlayingWhenVisible&&(this.wasPlayingWhenVisible=!1,this.play())},doDeferredOp:function(t){l.isResolved(this.dfd)?t():this.deferredOp=t},play:function(t){return null!=t&&(this.startAt=t),this.doDeferredOp(this.deferredPlay.bind(this)),this},pause:function(){return this.doDeferredOp(this.deferredPause.bind(this)),this},seek:function(t){return this.startAt=t,this.isPlaying&&this.play(),this},destroy:function(){return a.off(this.detectionSubscriptions),this}});var d=e.anySoundStarted,p=e.anySoundStopped;return Object.defineProperties(u.prototype,{isPlaying:{get:function(){return this.soundIsPlaying},set:function(t){this.options.isBackgroundAudio||"#inaudible"===this.url||(t&&!this.soundIsPlaying?d():!t&&this.soundIsPlaying&&p()),this.soundIsPlaying=t}}}),u}.call(e,i,e,t),void 0===n||(t.exports=n)},7067:function(t,e,i){var n;n=function(t){"use strict";var e=i(9066),n=DS,r=n._,o=n.constants,s=n.utils,a=n.globalEventHelper.addBodyListener,l=(n.flagManager,n.detection),c=s.createSuper(e),u={},h=l.browser.isSafariMac&&l.device.isDesktop?2:20,d=[],p=!1,f=function(t){var e=document.createElement("audio");return e.setAttribute("preload","auto"),document.body.appendChild(e),e},g=function(){e.apply(this,arguments)},m=!1;return r.extend(g,e,{resetPrepared:function(){p=!1},initIosSilentMode:function(){if(l.os.isIOS){var t=f();t.src=o.TINY_AUDIO;t.addEventListener("canplay",(function e(){t.removeEventListener("canplay",e);var i=a("touchend",(function(){i(),t.play()}))})),t.load()}},prepare:function(t){if(!p){var e;p=!0;var i=document.createElement("audio"),n=function(){var e,i;e=DS.presentation.assetLib(),i=Math.min(h,e.getAudioCount()),r.times(i,(function(){var t=f();t.src=o.TINY_AUDIO,t.load();var e=function e(){if(t.removeEventListener("canplaythrough",e),t.removeEventListener("canplay",e),m)var i=function(){n(),t.play().then((function(){d.push(t)})).catch((function(){DS.errorManager.throwErrorSoft("AudioClipElement","initWhenReady","Could not initialize audio")}))},n=r.flow(a("click",i),a("touchend",i));else d.push(t)};t.addEventListener("canplay",e),t.addEventListener("canplaythrough",e)})),t()};i.setAttribute("src",o.TINY_AUDIO),null!=(e=i.play())?e.then((function(){n()})).catch((function(){m=!0,n()})):n()}},checkNeedsApproval:function(){return m}}),g.prototype=new e,r.extend(g.prototype,{constructor:g,initialize:function(){this.refCount=0,this.elementId="".concat(this.url,"-").concat(this.id),r.bindAll(this,"setPlaybackSpeed"),c("initialize").apply(this,arguments),this.dfd.catch(function(){u[this.elementId]=null}.bind(this)),this.playTimeout=null,this.updateTimeDelegate=this.updateTime.bind(this)},onEnded:function(){this.startTime=this.getDuration(),c("onEnded").call(this,arguments)},updateTime:function(t){this.onTimeUpdateDelegate(t.target.currentTime)},load:function(){return null==u[this.elementId]?(this.refCount=1,this.el=(this.elementId,d.length>0?d.shift():f()),this.el.src=this.url,this.el.load(),u[this.elementId]=this.el):(this.refCount++,this.el=u[this.elementId],this.el.readyState>=this.el.HAVE_ENOUGH_DATA&&this.dfd.resolve()),this.el.playbackRate=this.playbackSpeed,this.el.addEventListener("canplaythrough",this.dfd.resolve),this.el.addEventListener("error",this.dfd.reject),this.el.addEventListener("ended",this.onEndedDelegate),this.el.addEventListener("timeupdate",this.updateTimeDelegate),this},setPlaybackSpeed:function(t){null!=this.el&&(this.el.playbackRate=t)},deferredPlay:function(){var t=this.el.play.bind(this.el);this.clearPlayTimeout(),this.startAt<this.getDuration()?(this.startAt<0?(this.negative=!0,this.el.pause(),this.setCurrentTime(0),this.playTimeout=setTimeout(t,s.toMilliseconds(-this.startAt))):(this.negative=!1,this.setCurrentTime(this.startAt),t()),this.performanceStartTime=(new Date).getTime(),this.isPlaying=!0):(this.pause(),this.onEnded())},deferredPause:function(){this.isPlaying&&(this.clearPlayTimeout(),0===this.el.currentTime&&this.negative?this.startAt=s.toSeconds((new Date).getTime()-this.performanceStartTime)+this.startAt:this.startAt=this.el.currentTime,this.el.pause(),this.isPlaying=!1)},getDuration:function(){return this.el.duration},setVolume:function(t){return this.el.volume=t,this},setCurrentTime:function(t){this.el.currentTime!==t&&(this.el.currentTime=t)},destroy:function(t){var e,i;if(this.refCount--,!(this.refCount>0))return this.clearPlayTimeout(),null!=this.el&&(this.el.removeEventListener("canplaythrough",this.dfd.resolve),this.el.removeEventListener("error",this.dfd.reject),this.el.removeEventListener("ended",this.onEndedDelegate),this.el.removeEventListener("timeupdate",this.updateTimeDelegate),t||(e=this.el,i=this.elementId,u[i]=null,d.push(e),e.src=o.TINY_AUDIO,e.load())),c("destroy").apply(this,arguments),this},clearPlayTimeout:function(){clearTimeout(this.playTimeout),this.playTimeout=null}}),g}.call(e,i,e,t),void 0===n||(t.exports=n)},5114:function(t,e,i){var n;n=function(t){"use strict";var e=i(7763),n=i(7067),r=i(3666),o=DS.detection,s=DS.pubSub,a=DS.events,l=DS.slidesController,c=(DS.flagManager,function(){var t=o.capabilities.hasAudioApi;return!!o.os.isIOS&&t}),u=function(){return c()?e:n},h={};s.on("nextSlide:requesting",(function(){h={}})),s.on(a.main.PREPARE_AUDIO,(function(t){o.device.isMobile&&d.prepare(t)}));var d={prepare:function(t){return new Promise((function(e){var i,o,s,a,c,h=!1,p=t.assetLib();r.init(t,d),r.hasAudio()?r.ready(e):p.hasType("audio")?(n.initIosSilentMode(),(i=u()).prepare((function(){i.checkNeedsApproval()&&(null==(c=l.getSlide(l.getEntrypoint()))?h=!0:(o=t.slideMap(),s=c.fullId(),a=o.getRefById(s),h=a.assetIds().some((function(t){return"audio"===p.find({id:t}).type()})))),e(h)}))):e(!1)}))},loadUrl:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=h[i])return h[i].load(),h[i];var r=new(n.webAudio?e:u())(t,i,n);return h[i]=r,r.load(),r},getAudioClipApi:function(){return e},useAudioApi:c};return d}.call(e,i,e,t),void 0===n||(t.exports=n)},3666:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function s(t,e,i){return(e=a(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}n=function(t){"use strict";var e,i,n,r,a,l=DS,c=l.utils,u=l.pubSub,h=l.events,d=l.constants,p=l.detection,f=.5,g=!1,m=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"onAnyVideoStarted",(function(t){n.pauseForVideo&&(n.videosStarted=!0,n.videoVolumeLow=!1,clearTimeout(n.forceLowFadeTimeout),n.fadeSoundGroup(0,f),clearTimeout(n.videoPauseTimeout),n.videoPauseTimeout=setTimeout((function(){n.currentClip.pause()}),f))})),s(this,"onAllVideosStopped",(function(t){n.pauseForVideo&&(n.videosStarted=!1,n.isEnabled&&n.playAndOrFadeIn(),v.activeMedia>1&&(n.videoVolumeLow=!0,n.forceLowFadeTimeout=setTimeout((function(){n.autoAdjustVolume&&n.fadeSoundGroup(n.fadedVolume,f)}),250)))})),s(this,"onAnySoundStarted",(function(t){})),s(this,"onAllSoundsStopped",(function(t){})),s(this,"onAnyMediaStarted",(function(t){n.videosStarted||n.autoAdjustVolume&&n.fadeSoundGroup(n.fadedVolume,f)})),s(this,"onAllMediaStopped",(function(t){n.videoVolumeLow?n.videoVolumeLow=!1:a.slideTransition?n.fadeSoundGroup(n.autoAdjustVolume?n.fadedVolume:1,f):n.fadeSoundGroup(1,f)})),s(this,"onAudioStart",(function(){g||(n.autoPlay&&(n.defaultVolume(),n.playAndOrFadeIn()),g=!0)})),s(this,"onGlobalVolumeChanged",(function(t){n.currentGlobalVol=t,n.currentVol=t*n.volume,n.setVolume(n.currentVol)})),s(this,"onTimelinePaused",(function(t){t.timeline})),s(this,"onTimelinePlayed",(function(t){t.timeline})),s(this,"onControlTrigger",(function(t){n.isEnabled&&("play"===t.command?n.play():"pause"===t.command?n.pause():"stop"===t.command?n.stop():"restart"===t.command&&n.restart())})),s(this,"onTimeUpdate",(function(t){if(n.fadeInOut){var e=n.currentClip.calcedDuration-t<=.7;!n.currentClip.fading&&e&&(n.currentClip.fadeOut(.7),n.currentClip.fading=!0)}})),this.idx=e,this.trackNum=0,this.trackLoadIdx=0,this.firstStarted=!1,this.isEnabled=!0,this.audioClips=[],Object.assign(this,i),this.autoAdjustVolume?this.fadedVolume*=this.volume:this.fadedVolume=this.volume}var e,n,r;return e=t,n=[{key:"activate",value:function(){u.once(h.course.AUDIO_START,this.onAudioStart),u.on(h.volume.CHANGED,this.onGlobalVolumeChanged),u.on(h.slide.STARTED,this.onSlideStarted),u.on(h.course.PAUSED,this.onTimelinePaused),u.on(h.course.PLAYING,this.onTimelinePlayed),u.on(h.backgroundAudio.CONTROL,this.onControlTrigger),u.on(h.course.ANY_VIDEO_STARTED,this.onAnyVideoStarted),u.on(h.course.ALL_VIDEOS_STOPPED,this.onAllVideosStopped),u.on(h.course.ANY_SOUND_STARTED,this.onAnySoundStarted),u.on(h.course.ALL_SOUNDS_STOPPED,this.onAllSoundsStopped),u.on(h.course.ANY_MEDIA_STARTED,this.onAnyMediaStarted),u.on(h.course.ALL_MEDIA_STOPPED,this.onAllMediaStopped)}},{key:"deactivate",value:function(){u.off(h.course.AUDIO_START,this.onAudioStart),u.off(h.volume.CHANGED,this.onGlobalVolumeChanged),u.off(h.slide.STARTED,this.onSlideStarted),u.off(h.course.PAUSED,this.onTimelinePaused),u.off(h.course.PLAYING,this.onTimelinePlayed),u.off(h.backgroundAudio.CONTROL,this.onControlTrigger),u.off(h.course.ANY_VIDEO_STARTED,this.onAnyVideoStarted),u.off(h.course.ALL_VIDEOS_STOPPED,this.onAllVideosStopped),u.off(h.course.ANY_SOUND_STARTED,this.onAnySoundStarted),u.off(h.course.ALL_SOUNDS_STOPPED,this.onAllSoundsStopped),u.off(h.course.ANY_MEDIA_STARTED,this.onAnyMediaStarted),u.off(h.course.ALL_MEDIA_STOPPED,this.onAllMediaStopped)}},{key:"fadeSoundGroup",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!=this.currentClip&&this.currentClip.fadeSoundGroup(t,e)}},{key:"fadeInSoundGroupLinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null!=this.currentClip&&this.currentClip.fadeInSoundGroupLinear(t,e)}},{key:"isCurrentPlaylist",value:function(){return a===this}},{key:"defaultVolume",value:function(){this.currentVol=d.DEFAULT_VOLUME*this.volume,this.setVolume(this.currentVol)}},{key:"isPlaying",value:function(){return"play"===this.lastCommand}},{key:"isPaused",value:function(){return"pause"===this.lastCommand}},{key:"isStopped",value:function(){return"stop"===this.lastCommand}},{key:"play",value:function(){var t=this;if(!this.currentClip.isPlaying){if(this.triggerFade)return clearInterval(this.playId),void(this.playId=setTimeout((function(){return t.play()}),200));this.lastCommand="play",this.stoppedByTrigger&&(this.playNextClip(0),this.stoppedByTrigger=!1),this.currentClip.resetGains(),this.currentClip.play(),0!==v.activeMedia&&this.autoAdjustVolume?this.fadeInSoundGroupLinear(this.fadedVolume,f):this.fadeInSoundGroupLinear(1,f),this.currentClip.fadeSoundByVariable(DS.presentation.playerVars().variables().get("backgroundAudioVolume").value()/100,0)}}},{key:"pause",value:function(){var t=this;this.lastCommand="pause",this.currentClip.isPlaying&&(this.fadeSoundGroup(0,.5),this.triggerFade=!0,clearTimeout(this.fadeId),this.fadeId=setTimeout((function(){t.currentClip.pause(),t.triggerFade=!1}),500))}},{key:"restart",value:function(){this.finished&&(this.finished=!1,this.playNextClip(0)),this.playAndOrFadeIn()}},{key:"stop",value:function(){this.lastCommand="stop",this.stoppedByTrigger=!0,this.pause()}},{key:"setVolume",value:function(t){this.currentClip.setVolume(t<0?0:t)}},{key:"enabled",get:function(){return this.isEnabled},set:function(t){this.isEnabled=t,this.isPaused()||this.isStopped()||(t?this.currentClip.play():this.currentClip.pause())}},{key:"playAndOrFadeIn",value:function(){this.isPaused()||this.isStopped()||(this.currentClip.isPlaying||(this.currentClip.play(),null!=this.prevClip&&(this.currentClip.matchParentGains(this.prevClip),this.prevClip=null)),this.fadeInOut&&this.currentClip.fadeIn(.7),this.currentClip.fadeSoundByVariable(DS.presentation.playerVars().variables().get("backgroundAudioVolume").value()/100,0))}},{key:"playNextClip",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.prevClip=this.currentClip,this.trackNum=t,null!=this.currentClip&&(this.currentClip.fading=!1),this.currentClip=this.audioClips[t],this.setVolume(this.currentVol),this.currentClip.seek(0),e&&this.playAndOrFadeIn()}},{key:"prepNextClip",value:function(t){var e=t+1;e<this.audioClips.length?this.playNextClip(e):this.autoRestart?this.playNextClip(0):(this.finished=!0,this.currentClip=null)}},{key:"loadAudioWithQueue",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},r=this.trackLoadIdx;if(r<this.tracks.length){var o=this.tracks[this.trackLoadIdx];if(p.env.isFileProtocol&&(o=DS.courseAudio.localAudioLookup[o]),null==(t=i.loadUrl(o,"courseAudioId_".concat(this.idx,"_").concat(this.trackLoadIdx),{parentId:this.trackLoadIdx,isBackgroundAudio:!0,webAudio:!0})))return;t.dfd.then((function(){e.audioClips.push(t),t.calcedDuration=t.getDuration(),t.on(h.audioClip.TIME_UPDATE,e.onTimeUpdate),t.on(h.audioClip.ENDED,(function(t){e.prepNextClip(r,e.autoPlay)})),e.trackLoadIdx++,setTimeout((function(){e.loadAudioWithQueue()}),t.calcedDuration/3)})).always((function(){var t=i.getAudioClipApi();t.prepare((function(){n(t.checkNeedsApproval())}))}))}return t}},{key:"load",value:function(t){var e=this;this.loaded||(this.loaded=!0,p.env.isFileProtocol?this.loadFromFileSystem=function(){e.currentClip=e.loadAudioWithQueue(t)}:this.currentClip=this.loadAudioWithQueue(t))}}],n&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();u.on(h.backgroundAudio.SWITCH_PLAYLIST,(function(t){t.idx}));var v={activeMediaCount:0,set activeMedia(t){this.activeMediaCount=Math.max(0,t)},get activeMedia(){return this.activeMediaCount},localAudioLookup:{},init:function(t,n){e=t,i=n},hasAudio:function(){if(null!=r)return r;var t,i,o=e.get("backgroundAudio"),s=0;return c.getPath(o,"length")>0&&null!=o[0].tracks&&o[0].tracks.length>0&&((i=!!(null!=(t=o[0].tracks[0])&&t.length>0))&&(p.env.isFileProtocol?function(){o[0].tracks=o[0].tracks.map((function(t){return t+".js"}));for(var t=o[0].tracks.length,e=function(e){var i=o[0].tracks[e];v.localAudioLookup[i]="temp-audio-uri",DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?DS.jsonLoader.load(i,{load:function(){var e=DS.utils.resolveAssetUrl(i),n=DS.jsAssetStore.getJsAssetValue(e);v.localAudioLookup[i]=n.dataUri,DS.jsAssetStore.clearAsset(e),++s===t&&a.loadFromFileSystem()}}):DS.loadScript(i,(function(){++s===t&&a.loadFromFileSystem()}))},i=0;i<t;i++)e(i)}():o[0].tracks=o[0].tracks.map((function(t){return t+".mp3"})),v.currentSource=t,n=o.map((function(t,e){return new m(e,t)}))),v.isEnabled=!0),r=i,i},ready:function(t){this.hasAudio()&&((a=n[0]).activate(),a.load(t))},toggleEnabled:function(){a.enabled=!a.enabled},enabled:function(){return a.enabled}};u.on(h.backgroundAudio.TOGGLE,(function(){DS.courseAudio.toggleEnabled(),u.trigger(h.backgroundAudio.HAS_TOGGLED)}));var S=0,y=!1;v.anyVideoStarted=function(){u.trigger(h.course.ANY_VIDEO_STARTED),S++,y=!1,0===v.activeMedia&&u.trigger(h.course.ANY_MEDIA_STARTED),v.activeMedia++},v.anyVideoStopped=function(){0!==S&&(0===--S&&(y||(y=!0,u.trigger(h.course.ALL_VIDEOS_STOPPED))),v.activeMedia--,0===v.activeMedia&&u.trigger(h.course.ALL_MEDIA_STOPPED))};var b=0;return v.anySoundStarted=function(){0===b&&u.trigger(h.course.ANY_SOUND_STARTED),b++,0===v.activeMedia&&u.trigger(h.course.ANY_MEDIA_STARTED),v.activeMedia++},v.anySoundStopped=function(){0===--b&&u.trigger(h.course.ALL_SOUNDS_STOPPED),v.activeMedia--,0===v.activeMedia&&u.trigger(h.course.ALL_MEDIA_STOPPED)},u.once(h.slide.HAS_MOUNTED,(function(t){if(window.globals.HAS_FRAME||!DS.presentation.isPreview()){var e=DS.presentation.playerVars().variables().get("backgroundAudioVolume");e.on("change:value",(function(){null!=a&&null!=a.currentClip&&a.currentClip.fadeSoundByVariable(e.value()/100,f)}))}})),u.on(h.slide.WILL_CHANGE,(function(){if(null!=a){var t=!1;(a.videosStarted||a.videoVolumeLow)&&(a.videosStarted=!1,a.videoVolumeLow=!1,t=!0);var e=0===v.activeMedia;a.isStopped()||a.isPaused()||(a.enabled&&e&&null!=a.currentClip&&(a.currentClip.isPlaying&&!t||a.playAndOrFadeIn(),a.currentClip.fadeSoundGroup(1,f)),a.slideTransition=!0,u.once(h.slide.STARTED,(function(t){a.slideTransition=!1})),null!=a.currentClip&&a.enabled&&v.activeMedia>0&&(a.currentClip.isPlaying||a.playAndOrFadeIn(),a.fadeSoundGroup(a.autoAdjustVolume?a.fadedVolume:1,f),u.once(h.slide.STARTED,(function(t){0!==v.activeMedia&&a.autoAdjustVolume?a.fadeSoundGroup(a.fadedVolume,f):a.fadeSoundGroup(1,f)}))),v.activeMedia=0,b=0,S=0)}})),DS.courseAudio=v,v}.call(e,i,e,t),void 0===n||(t.exports=n)},7331:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e,n,o,s=i(8359),a=i(6844),l=i(1467),c=DS._,u=DS.resolver,h=DS.automation,d=DS.utils,p=function(t){return u.resolvePath(d.prefixWithPlayer(t),e)},f=function(t){var e=p(t);return null!=e?e.value():null},g=function(t,i){var n,r=p(t);null!=r&&(n={kind:"adjustvar",variable:r.absoluteId,operator:"set",value:{type:r.type(),value:i}},s.executeAction(n,{context:e}))},m=function(){var t=h.getPlayer&&h.getPlayer()||{};return c.extend(v,t)},v={GetVar:f,SetVar:g},S={},y=[];function b(t){var e=t.props.model.absoluteId;null==S[e]?(o=new l(t.props.model),S[e]=o,t.props.model.once(DS.events.slide.TEARDOWN,(function(){S[e]=null}))):o=S[e],y=[],n=t.props.model}if(DS.flagManager.jsApiBasics){!function t(e){for(var i=0;i<y.length;i++){var n=y[i];null!=n&&n(e)}requestAnimationFrame(t)}()}DS.pubSub.on(DS.events.window.CLOSED,(function(t){DS.pubSub.once(DS.events.slide.STARTED,(function(t,e,i){b(e.currView)}))})),DS.pubSub.on(DS.events.request.NEXT_SLIDE,(function(t){var e,i,r;(null===(e=n)||void 0===e?void 0:e.absoluteId)===t&&(null===(i=o)||void 0===i||null===(r=i.resetTriggerAnimations)||void 0===r||r.call(i))})),DS.pubSub.on(DS.events.timeline.BEFORE_RESET,(function(t){o.resetTriggerAnimations(),o.timelineScripts={}})),DS.pubSub.on(DS.events.slide.HAS_MOUNTED,b),function t(){if(null!=n&&o.timelineAnimations.length>0){for(var e=n.slideLayers().models,i={},r=0;r<e.length;r++){var s=e[r],a=s.currView;if(null!=a){var l=a.isVisible(),c=s.timeline(),u=c.progress(),h=u*c.duration();i[a.props.idx]={model:s,view:a,timeline:c,progress:u,visible:l,time:h}}}for(var d=0;d<o.timelineAnimations.length;d++){var p=o.timelineAnimations[d];if(null!=p.object){var f=i[p.object.layer];if(null!=f&&f.visible&&p.animation.currentTime!==f.time){p.animation.currentTime=f.time;var g=p.animation.effect.getTiming();p.animation.currentTime>g.duration+g.delay?(p.hasFinished||null==p.finish||p.finish(),p.hasFinished=!0):p.hasFinished=!1}}}}requestAnimationFrame(t)}();return Object.assign(v,{object:function(t){var e=a.objectsByName[t];if(e){var i=o.objectMap.get(e);if(i)return i;var n={name:t,perspective:function(t){e.el.style.perspective=t},style:new Proxy({},{set:function(t,e,i){return s().style[e]=i,!0},get:function(t,e,i,n){return Reflect.get(s().style,e,n)}}),get layer(){var t=e.props.layerIdx;return null!=t?t:d.getPath(e.props,"parent.props.layerIdx")}},r=e.props.model;return DS.flagManager.jsApiBasics?Object.defineProperties(n,{animate:{get:function(){var t=s();return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return{animation:t.animate.apply(t,i),object:n}}}},state:{get:function(){return e.props.model.prop("ObjectState")},set:function(t){"Normal"===t&&(t="_default");try{e.props.model.prop("ObjectState",t)}catch(e){console.warn('no matching state "'.concat(t,'"'))}}},width:{get:function(){var t=e.getPlayerProp("ScaleX")/100;return e.props.model.get("width")*t}},height:{get:function(){var t=e.getPlayerProp("ScaleY")/100;return e.props.model.get("height")*t}},x:{get:function(){var t,i;return null!=(null==e||null===(t=e.tweenedConfig)||void 0===t||null===(i=t.props)||void 0===i?void 0:i.RawXPos)?e.tweenedConfig.props.RawXPos:r.prop("RawXPos")},set:function(t){r.prop("RawXPos",parseFloat(t))}},y:{get:function(){var t,i;return null!=(null==e||null===(t=e.tweenedConfig)||void 0===t||null===(i=t.props)||void 0===i?void 0:i.RawYPos)?e.tweenedConfig.props.RawYPos:r.prop("RawYPos")},set:function(t){r.prop("RawYPos",parseFloat(t))}},rotation:{get:function(){return r.prop("Rotation")},set:function(t){r.prop("Rotation",parseFloat(t))}},scale:{get:function(){return r.prop("ScaleX")},set:function(t){r.prop("ScaleX",parseFloat(t)),r.prop("ScaleY",parseFloat(t))}},scaleX:{get:function(){return r.prop("ScaleX")},set:function(t){r.prop("ScaleX",parseFloat(t))}},scaleY:{get:function(){return r.prop("ScaleY")},set:function(t){r.prop("ScaleY",parseFloat(t))}},alpha:{get:function(){return r.prop("Alpha")},set:function(t){r.prop("Alpha",parseFloat(t))}},opacity:{get:function(){return r.prop("Alpha")},set:function(t){r.prop("Alpha",parseFloat(t))}},depth:{get:function(){return r.prop("depth")},set:function(t){r.prop("depth",parseFloat(t))}}}):Object.defineProperties(n,{animate:{get:function(){var t=s();return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return{animation:t.animate.apply(t,i),object:n}}}}}),o.objectMap.set(e,n),o.slideObjectLookup.set(n,e),n}function s(){var t;if("vectorshape"===e.props.model.kind())if(DS.flagManager.dropInCore)t=e.el.querySelector(".textlib-wrapper, .slideobject-maskable");else if(DS.flagManager.dropInVectors)t=e.el.querySelector(".dropin-wrap");else{var i=e.el.querySelector(".alternating-svg");t=null!=i?i:e.el.querySelector(".slideobject-maskable").firstElementChild}else t="image"===e.props.model.kind()?e.el.querySelector(".slideobject-maskable"):"video"===e.props.model.kind()?e.el.querySelector(".video-slide-object"):"stategroup"===e.props.model.kind()?e.el:e.el.firstElementChild;return t}console.warn('Sorry no object named "'.concat(t,'"'))},setVar:g,getVar:f,once:function(t){var e=t.toString();null==o.timelineScripts[e]&&(o.timelineScripts[e]=!0,t())},addForTriggers:function(t,e){if(o.addForTriggers(t,e),!e.isTimelineControlled){var i,n,r,s=o.slideObjectLookup.get(e.object);null!=s&&null!==(i=s.props)&&void 0!==i&&null!==(n=i.model)&&void 0!==n&&null!==(r=n.prop)&&void 0!==r&&r.call(n,"TimelineControlled")&&s.props.model.prop("TimelineControlled",!1)}o.triggerAnimations.push(e)},addToTimeline:function(t,e){!function(t,e){for(var i=t.animation.effect.target.getAnimations(),n=0;n<i.length;n++){var r=i[n];if(r!=t.animations&&r.id===e){r.cancel();for(var s=o.timelineAnimations.length-1;s>=0;s--)o.timelineAnimations[s].animation===r&&o.timelineAnimations.splice(s,1)}}}(t,e),null!=e&&(t.isTimelineControlled=!0,v.addForTriggers(e,t)),t.animation.id=e,t.animation.pause(),o.timelineAnimations.push(t)}}),DS.flagManager.jsApiBasics&&Object.assign(v,{pointerX:function(){return null!=DS.mouseX?DS.mouseX:0},pointerY:function(){return null!=DS.mouseY?DS.mouseY:0},slideWidth:function(){return n.get("width")},slideHeight:function(){return n.get("height")},hidePointer:function(){r(document.querySelectorAll(".slide-transition-container")).forEach((function(t){return t.style.cursor="none"}))},update:function(t){if(null!=t)return y.includes(t)||y.push(t),function(){var e=y.indexOf(t);-1!==e&&y.splice(e,1)}}}),{initialize:function(t){e=t,window.GetPlayer=m,null!=window.InitExecuteScripts&&(window.InitExecuteScripts(),null!=window.InitUserScripts&&window.InitUserScripts())}}}.call(e,i,e,t),void 0===n||(t.exports=n)},7593:function(t,e,i){var n;n=function(t){"use strict";var e=DS._,i={window:{background:"#212121",border:"#454545",activeBorder:"#BABBBA",shadow:"rgba(0, 0, 0, 0.85)",divider:"#7A7A7A"},button:{icon:"#BABBBA",iconHover:"#F8F8F8",border:"#7A7A7A",background:"#212121"},text:{default:"#BABBBA",active:"#FFFFFF"},select:{border:"#7A7A7A",background:"rgba(255, 255, 255, 0.06)",openBorder:"#FFFFFF"},selectlist:{border:"#505050",background:"#212121"},selectitem:{selectedBorder:"#6C6C6C",selectedBackground:"rgba(255, 255, 255, 0.06)"},listitem:{selectedBorder:"#FFFFFF"},scrollbar:{thumbBackground:"#BABBBA"},base:{accent:"#4FBDF4"}},n={};return{setColorData:function(t){null!=t&&(this.colorGroups=t.reduce((function(t,e){return t[e.id]=e.colors.reduce((function(t,e){return t[e.id]=e.value,t}),{}),t}),{}))},getColor:function(t,e){var r="".concat(t,".").concat(e),o=DS.utils.getPath(this.colorGroups||{},r);return null!=o?o:(null==n[r]&&(console.warn("Could not find color ".concat(r," in the color table")),n[r]=!0),null!=(o=DS.utils.getPath(i,r))?o:"#ff0000")},setCssColorVariables:function(t){var i=this;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){var r=n.group,o=n.name;t.style.setProperty("--".concat(e.kebabCase(r),"-").concat(e.kebabCase(o),"-color"),i.getColor(r,o))}))}}}.call(e,i,e,t),void 0===n||(t.exports=n)},1408:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7859),n=i(23),r=DS._,o=DS.errorManager,s=DS.resolver,a=o.throwError("conditioner"),l=o.backtick,c={and:" and ",or:" or ",nand:" nand ",nor:" nor ",lt:" is less than ",gt:" is greater than ",lte:" is less than or equal to ",gte:" is greater than or equal to ",eq:" is equal to ",iceq:" is equal to ",noteq:" is not equal to ",icneq:" is not equal to "},u={andOr:function(t,e,i){return e.statements.map((function(t){return x.statementToString(t,i)})).join(t)},compare:function(t,e){return[h(t.valuea,t.typea,e),h(t.valueb,t.typeb,e)].join(c[t.operator])}};u.and=r.partial(u.andOr,c.and),u.or=r.partial(u.andOr,c.or),u.nand=r.partial(u.andOr,c.nand),u.nor=r.partial(u.andOr,c.nor);var h=function(t,e,i){return"property"===e?"Correct Response":p({type:e,value:t},{context:i})},d=function(t,e){var i=r.isArray(t)?t:e;return{arr:i,item:i===t?e:t}},p=function(t,e){return s.getRef(t,e.context||e,e.context&&e)},f=function(t){return String(t).toLowerCase()},g=function(t,e){var i=e?f:r.identity;return e||r.isString(t)?i(t).replace(/‘|’|‚/g,"'").replace(/“|”/g,'"'):t},m=function(t,e){var i=t+"id";return e[t+"Response"]===e[i]},v=r.partial(m,"statement"),S=r.partial(m,"choice"),y={and:r.every,or:r.some};y.nand=r.negate(y.and),y.nor=r.negate(y.or);var b={eq:function(t,e){return g(t)==g(e)},noteq:function(t,e){return g(t)!=g(e)},iceq:function(t,e){return g(t,!0)===g(e,!0)},icneq:function(t,e){return g(t,!0)!==g(e,!0)},gt:function(t,e){return g(t)>g(e)},lt:function(t,e){return g(t)<g(e)},gte:function(t,e){return g(t)>=g(e)},lte:function(t,e){return g(t)<=g(e)},has:function(t,e){var i=d(t,e);return r.includes(i.arr,i.item)},ichas:function(t,e){var i=d(t,e);return b.has(i.arr.map(f),f(i.item))}},w={compare:"evaluateComparison",varexists:"checkExistence",actiongroupexists:"checkExistence",stateexists:"checkState",hittestpoint:"evaluateHitTest",pair:"evaluatePair",isdescendant:"evaluateIsDescendant",containstext:"evaluateContainsText"},x={evaluateAction:function(t,e){return this.evaluateStatement(t.condition.statement,e)},evaluateStatements:function(t,e,i){return t(e,function(t){return this.evaluateStatement(t,i)}.bind(this))},evaluateStatement:function(t,e){return!!t&&this[w[t.kind]||"evaluateGroup"](t,e)},evaluateHitTest:function(t,i){var r,o=s.resolvePath(t.objRef.value,i.context),a=p({type:t.xPos.type,value:t.xPos.value},i),l=p({type:t.yPos.type,value:t.yPos.value},i),c=o.currView;return null!=c&&(r=n.slidePtToSlideObject(c,a,l),e.containsPoint(c,r.x,r.y))},evaluatePair:function(t,e){return v(t)&&S(t)},evaluateComparison:function(t,e){e.context;var i,n,r=t.operator;return r in b||a("evaluate","Cannot evaluate unsupported operator",l(r)),i=p({type:t.typea,value:t.valuea},e),n=p({type:t.typeb,value:t.valueb},e),b[r](i,n)},evaluateIsDescendant:function(t,e){var i=p({type:t.typea,value:t.targeta},e),n=p({type:t.typeb,value:t.targetb},e),r=s.resolvePath(i,e),o=s.resolvePath(n,e);return-1!==r.absoluteId.indexOf(o.absoluteId)},evaluateContainsText:function(t,e){var i=t.casesensitive?r.identity:f,n=r.flow(p,i),o=n(t.targetref,e),s=n(t.searchref,e);return-1!==o.indexOf(s)},evaluateGroup:function(t,e){var i=y[t.kind],n=t.statements;return this.evaluateStatements(i,n,e)},checkExistence:function(t,e){var i=s.getRef(t,e.context,e);return!!s.resolvePath(i,e.context,{optional:!0})},checkState:function(t,e){var i=s.getRef(t.objRef,e.context,e),n=s.resolvePath(i,e.context,{optional:!0}),o=s.getRef(t.stateRef,e.context,e);return null!=n&&r.isFunction(n.getStateFromName)&&null!=n.getStateFromName(o)},statementToString:function(t,e){return u[t.kind](t,e)}};return x}.call(e,i,e,t))||(t.exports=n)},7729:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.utils,n=DS.constants,r=n.math.TO_DEGREES,o=function(t,e){return i.dist(t.x,t.y,e.x,e.y)},s=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*r},a=[void 0,void 0,function(t,e){return{x:e[0].x+(e[1].x-e[0].x)*t,y:e[0].y+(e[1].y-e[0].y)*t}},function(t,e){var i=1-t,n=i*i,r=2*i*t,o=t*t;return{x:n*e[0].x+r*e[1].x+o*e[2].x,y:n*e[0].y+r*e[1].y+o*e[2].y}},function(t,e){var i=1-t,n=t*t,r=i*i,o=r*i,s=3*t*r,a=3*n*i,l=n*t;return{x:o*e[0].x+s*e[1].x+a*e[2].x+l*e[3].x,y:o*e[0].y+s*e[1].y+a*e[2].y+l*e[3].y}}];return{getDistance:function(t,i){return 2===t.length?o(t[0],t[1]):(e.isArray(i)||(i=this.getSamplePoints(t,i||10)),e.last(i).distance)},getSamplePoints:function(t,e){if(2===t.length)return null;e=e||10;for(var i,n,r=0,s=[],a=t[0],l=1/e,c=0;c<=e;c++)i=l*c,n=this.getPointAtTime(i,t),r+=o(a,n),s.push({time:i,distance:r}),a=n;return s},curveToLines:function(t,i){if(2===t.length)return e.cloneDeep(t);var n,r,s,l,c,u,h,d,p=[],f=0,g=a[t.length];for(null==i&&(r=g(0,t),s=g(.25,t),l=g(.5,t),c=g(.75,t),u=g(1,t),d=o(r,s)+o(s,l)+o(l,c)+o(c,u),i=Math.min(parseInt(d/2),20)),h=1/i,n=0;n<i;n++)p.push(g(f,t)),f+=h;return p.push(g(1,t)),p},getPointAtTime:function(t,e){return a[e.length](t,e)},getNormalizedPointAtTime:function(t,i,n,r){var o,a,l,c,u,h,d,p;return 2===i.length?(a=this.getPointAtTime(t,i),r&&(a.angle=s(i[0],i[1])),a):(e.isArray(n)||(n=this.getSamplePoints(i,n||10)),u=0,h=1,c=this.getDistance(i,n)*t,((o=e.sortedIndexBy(n,{distance:c},"distance"))>n.length-1||c!==n[o].distance)&&o--,d=n[o],p=n[o+1],o<n.length-1&&(h=d.time+((c-d.distance)/(p.distance-d.distance)||0)*(p.time-d.time)),a=this.getPointAtTime(h,i),r&&((h+=.01)>1&&(h-=.02,u=-180),l=this.getPointAtTime(h,i),a.angle=s(a,l)+u),a)}}}.call(e,i,e,t))||(t.exports=n)},9481:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=DS._,i=/ version: ([0-9]+.*)+ /,n=function(t){var e=r(t.split(".").map((function(t){return parseInt(t)})),4);return{major:e[0],minor:e[1],build:e[2],revision:e[3]}};return{major:0,minor:0,build:0,revision:0,init:function(){var t,r;this.version=(t=e.first(e.filter(document.head.childNodes,(function(t){return t.nodeType===t.COMMENT_NODE&&i.test(t.nodeValue)})))||{nodeValue:" version: 0.0.0.0 "},r=i.exec(t.nodeValue),n(r[1])),this.fixThemeName().addFontAnalyticsNodes()},setDataVersion:function(t){this.version=n(t)},parseParams:function(){if(null!=window.globals.parsedParams)return window.globals.parsedParams;for(var t,e=window.location.search.substr(1).split("+").join(" "),i={},n=/[?&]?([^=]+)=([^&]*)/g;t=n.exec(e);)i[decodeURIComponent(t[1]).trim()]=decodeURIComponent(t[2]).trim();return window.globals.parsedParams=i,i},fixThemeName:function(){return null!=window.globals.themeName&&"null"!==window.globals.themeName||(window.globals.themeName="classic"),this.isClassic="classic"===window.globals.themeName,this},addFontAnalyticsNodes:function(){if(null==document.getElementById("font-test")){var t=document.createElement("div");t.id="font-test",t.setAttribute("style","position: fixed; left: -1000px; top: 0;"),t.setAttribute("aria-hidden",!0),t.innerHTML='\n          <svg height="100" width="100" viewBox="0 0 100 100" focusable="false">\n            <text style="font-family: DS_TEST_CHARSET, sans-serif" y="20">\n              <tspan color="black" id="font-test-download">M</tspan>\n            </text>\n            <text style="font-family: sans-serif" y="40">\n              <tspan color="black" id="font-test-default">M</tspan>\n            </text>\n          </svg>',document.body.appendChild(t)}return this},hasPatternImageFlag:function(){return this.version.major>=3&&this.version.minor>=11}}}.call(e,i,e,t))||(t.exports=n)},3986:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,i,n,r,o,s,a,l,c,u,h,d,p,f,g,m,v,S=DS,y=S.constants,b=S.globalEventHelper.addWindowListener,w=function(){return null==e&&(e=document.getElementById(y.els.PRESO)),e},x=function(){var t=w();(i=document.createElement("div")).id=y.els.LIB,i.classList.add("offscreen"),t.appendChild(i),(n=document.createElement("div")).innerHTML='<svg width="0" height="0" style="position:absolute;" focusable="false">\n      <defs>\n        <filter id="text-shadow" x="0%" y="0%" width="113%" height="113%">\n          <feGaussianBlur stdDeviation="1 1" result="text-shadow"/>\n          <feOffset dx="1.5" dy="1.5"/>\n        </filter>\n        <linearGradient id="timer-blue-grad" class="cs-duration">\n          <stop offset="0%""/>\n          <stop offset="100%"/>\n        </linearGradient>\n        <linearGradient id="timer-yellow-grad" class="cs-elapsed">\n          <stop offset="0%"/>\n          <stop offset="100%"/>\n        </linearGradient>\n        <linearGradient id="drop-list-gradient" gradientTransform="rotate(90)">\n          <stop offset="0%"/>\n          <stop offset="100%"/>\n        </linearGradient>\n        <linearGradient id="dragdrop-gradient" gradientTransform="rotate(90)">\n          <stop offset="0%"/>\n          <stop offset="100%"/>\n        </linearGradient>\n        <linearGradient id="dragdrop-hover-gradient" gradientTransform="rotate(90)">\n          <stop offset="0%"/>\n          <stop offset="100%"/>\n        </linearGradient>\n        <linearGradient id="wordbank-droparea-stroke-gradient" gradientTransform="rotate(90)">\n          <stop offset="0%"/>\n          <stop offset="100%"/>\n        </linearGradient>\n        <filter id="dragdrop-inner-stroke">\n          <feFlood flood-color="#fff" result="strokeColor"/>\n          <feMorphology operator="erode" radius="2" in="SourceAlpha" result="innerMorph"/>\n          <feMorphology operator="erode" radius="1" in="SourceAlpha" result="outerMorph"/>\n          <feComposite in="innerMorph" in2="outerMorph" operator="xor" result="morph"/>\n          <feComposite in="strokeColor" in2="morph" operator="in" result="innerStroke"/>\n          <feComposite in="innerStroke" in2="SourceGraphic" operator="over"/>\n        </filter>\n      </defs>\n    </svg>',C().appendChild(n),(m=document.createElement("div")).innerHTML='\n    <svg width="0" height="0" style="position:absolute;" focusable="false">\n      <defs></defs>\n    </svg>',i.appendChild(m),v=m.getElementsByTagName("defs")[0],(o=document.createElement("div")).id="video-pen",o.className="offscreen",o.setAttribute("aria-hidden",!0),i.appendChild(o);var e=document.createElement("div");e.id="media-loader-container",e.classList.add("media-loader-container"),t.appendChild(e),s=DS.svgUtils.createSvgNode(1,1),e.appendChild(s),r=document.createElement("div");var a=document.createElement("canvas");return a.setAttribute("role","presentation"),r.appendChild(a),i.appendChild(r),(h=document.createElement("div")).id="presentation-canvas",i.appendChild(h),(d=document.createElement("div")).id="zoomimage-container",i.appendChild(d),(g=document.createElement("div")).id=y.els.MASK_LIB,i.appendChild(g),D(),i},D=function(){(a=document.createElement("div")).id="app-top",a.style.position="absolute",preso.appendChild(a),(c=document.createElement("div")).id="app-top-overlay",a.appendChild(c),(l=document.createElement("div")).id="app-top-container",a.appendChild(l),(u=document.createElement("div")).id="app-focus-container",u.classList.add("focus-container"),a.appendChild(u),new MutationObserver((function(t){_.last(preso.children)!==a&&preso.appendChild(a)})).observe(preso,{childList:!0});var t=function t(){var e=E();null!=e?(a.style.left="".concat(e.x(),"px"),a.style.top="".concat(e.y(),"px")):DS.animationClock.requestAnimationFrame(t)};b("resize",t,!1,"after"),t()},C=function(){return null==i&&x(),i},E=function(){var t=DS.windowManager.getMainWindow();return null!=t&&(f=t.frame),f};return{getMainWindowEl:function(){if(null==p){var t=E();null!=t&&(p=t.wndEl)}return p},getPreso:w,getPresoCanvas:function(){return h},getZoomContainer:function(){return d},getSvgLib:function(){return n},getSvgImageLibDefs:function(){return v},getVideoPen:function(){return o},getCollisionLib:function(){return r},getTopContainer:function(){return l},getTopOverlay:function(){return c},createLib:x,addToLib:function(t){return C().appendChild(t),t},removeElFromParent:function(t){null!=t.parentNode&&t.parentNode.removeChild(t)},getMediaLoaderSvg:function(){return s}}}.call(e,i,e,t))||(t.exports=n)},2388:function(t,e,i){var n;void 0===(n=function(t){var e=DS,i=e._,n=e.utils,r=e.resolver,o=e.events,s=e.pubSub;return{initialize:function(){var t=DS.playerGlobals.presentation;if(null!=t.playerVars()){i.bindAll(this,"tick","onSlideChanged","onWindowClosed"),s.on(o.slide.HAS_CHANGED,this.onSlideChanged),s.on(o.window.CLOSED,this.onWindowClosed);var e=t.playerVars().variables();this.vars={slideElapsed:e.get("slideElapsedTime"),sceneElapsed:e.get("sceneElapsedTime"),projectElapsed:e.get("projectElapsedTime")},this.projectStartTime=this.getCurrentTime()-t.getFlatSlides().reduce((function(t,e){return t+e.elapsedTime}),0),window.requestAnimationFrame(this.tick),this.updateCurrentSlide()}},getCurrentTime:function(){return parseInt(performance.now())},onWindowClosed:function(){this.updateCurrentSlide()},onSlideChanged:function(t){var e=r.resolvePath(n.prefixWithPlayer(t));e&&this.updateCurrentSlide(e)},updateCurrentSlide:function(t){var e=this;if(null!=t||null!=(t=DS.windowManager.getCurrentWindowSlide())){if(!t.isMessageSlide()||t===this.currentSlideModel){var i=this.getCurrentTime(),n=t.getScene().getAllSlides().reduce((function(t,e){return e.elapsedTime+t}),0);this.sceneStartTime=i-n,this.slideStartTime=i-t.elapsedTime,this.currSlideModel=t}}else window.requestAnimationFrame((function(){e.updateCurrentSlide()}))},tick:function(){if(null!=this.currSlideModel){var t=parseInt(performance.now());this.currSlideModel.elapsedTime=t-this.slideStartTime,this.vars.slideElapsed.value(this.currSlideModel.elapsedTime),this.vars.sceneElapsed.value(t-this.sceneStartTime),this.vars.projectElapsed.value(t-this.projectStartTime)}window.requestAnimationFrame(this.tick)}}}.call(e,i,e,t))||(t.exports=n)},1122:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(107),r=i(5114),o=i(347),s=DS._,a=DS.appState,l=DS.events,c=DS.pubSub,u=DS.vow,h={},d=function(t){var e=t.props.model;e.isMessageSlide()||(s.isEmpty(e.get("globalAudioId"))?f.stop():f.play(e.get("globalAudioId")))},p=function(t,e){h.setVolume(e)},f={initialize:function(t){e=t,c.on(l.slide.HAS_MOUNTED,d)},play:function(t){var i=e.find((function(e){return e.get("id")===t})),o=n.getAssetUrl(i.get("assetId"));o!==h.url&&(f.stop(),h=r.loadUrl(o,i.get("assetId")),a.on(l.volume.CHANGE_CURRENT,p),h.setVolume(a.currentVolume()),h.play())},stop:function(){null!=h.url&&(a.off(l.volume.CHANGE_CURRENT,p),h.destroy(),h={})},load:function(t){var i,r,a;return s.isEmpty(t)?u.Deferred().resolve().promise():(r=e.find((function(e){return e.get("id")===t})),(a=n.getAssetUrl(r.get("assetId")))!==h.url?(i=new o({type:"audio",url:a})).promise.always(i.teardown.bind(i)):void 0)}};return f}.call(e,i,e,t))||(t.exports=n)},394:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(1408),n=(i(8359),DS._),r=(DS.Backbone,DS.utils,DS.errorManager.warn("interactionHelper")),o=function(t,i){var n=t.getClosestAncestorByKind("slide");return e.evaluateStatement(i,n)},s={};return s.multiplechoice=s.truefalse=s.hotspot=s.wordbank=s.multipleresponse=[function(t,e){return e.length===t.length},function(t,e,i){return o(i,{kind:"and",statements:t.map((function(t){return{kind:"compare",operator:t.ignorecase?"ichas":"has",valuea:e,valueb:t.choiceid,typea:"object",typeb:"string"}}))})}],s.sequence=s.matching=[function(t,e,i){if(t.length!==e.length)return!1;var r=n.zipWith(t,e,(function(t,e){return n.extend({},t,e)}));return o(i,{kind:"and",statements:r})}],s.numeric=[function(t,e,i){return o(i,{kind:"and",statements:t.map((function(t){return t.statement}))})}],s.fillin=[function(t,e,i){var n=i.prop("Value")[0];return o(i,{kind:"or",statements:t.map((function(t,e){return{kind:"compare",operator:t.ignorecase?"iceq":"eq",valuea:n,valueb:i.getChoiceById(t.choiceid).lmstext,typea:"string",typeb:"string"}}))})}],{setCurrInteraction:function(t){return this.interaction=t,this},getChosenAnswer:function(t){return n.find(this.interaction.answers(),function(e){return this.evaluateResponses(t,e)}.bind(this))},evaluateAnswers:function(t){if(this.interaction){var e=this.getChosenAnswer(t);return e||r("evaluateAnswers","no answer found."),e}r("evaluateAnswers","needs to have interaction defined via `setCurrInteraction`.")},evaluateResponses:function(t,e){return this.performEvaluation(t,e)},isOther:function(t){var e=n.first(t.evaluate.statements);return!!e&&"other"===e.kind},getEvalFns:function(){return s[this.interaction.type()]},performEvaluation:function(t,e){var i=this.interaction,r=this.getEvalFns();return this.isOther(e)||!n.isEmpty(r)&&r.every(function(n){return n(e.evaluate.statements,t,i)}.bind(this))}}}.call(e,i,e,t))||(t.exports=n)},1554:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=new Map;return{addJsAsset:function(t,i){e.set(t,i)},getJsAssetValue:function(t){return e.get(t)},clearAsset:function(t){e.delete(t)}}}.call(e,i,e,t))||(t.exports=n)},254:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e,n=i(3019),o=DS,s=o.utils,a=o.events,l=o.pubSub,c=o.constants,u=o.resolver,h=o.windowManager,d=o.globalEventHelper.addWindowListener,p=!1,f={qm:c.QUIZ_MAKER_URL,ap:c.PRESENTER_URL},g=["addchoiceresponse","addpairresponse","cancel_event","close_player","closewndgotoslide","close_window","emailto","enable_frame_control","enable_window_control","eval_all_unanswered","eval_interaction","exe_javascript","gotoplay","hidetimer","history_prev","history_prev_group","history_prev_scene","nextviewedslide","nextunansweredslide","nextunsubmittedslide","open_video","open_url","playnextdrawslide","printresults","resetquiz","resettimer","reset_player","resetslide","restore_resume_state","resume_player","resume_timeline","save_resume_data","setactivetimeline","set_course_status","setdrawreview","setfocus","set_frame_layout","set_frame_layout_type","setquizcomplete","set_review","set_volume","set_window_control_layout","set_window_control_visible","showtimer","starttimer","store_resume_data","toggle_window_control","toggle_window_control_visible","trigger_host_event","trigger_next_slide","trigger_prev_slide","trigger_slide_finish","trigger_submitall_slide","trigger_submit_slide","updatescrollpos","updatescrollheight","xapi_send_statement"],m=["_stateName"],v=function(t){return Promise.all(t.flatInteractions.map((function(t,e){return function(t,e){return new Promise((function(e){var i=t.parent;t.prop("Answered")&&0===t.attempts.length&&"hotspot"!==t.type()&&i.resume()&&i.hasResumeData?i.load().then((function(){i.resumeSlideModel();var r=i.destroyed;i.destroyed=!1,t.buildResponses();var o=n.actualResponseToString(t,!0);i.destroyed=r,i.resetModel(),e(o)})):e(n.actualResponseToString(t))})).then((function(i){return{nQuestionNumber:e+1,strDescription:t.get("lmstext"),strCorrectResponse:n.correctResponseToString(t),strUserResponse:i,strStatus:t.prop("Status"),nPoints:t.prop("Score"),strLMSId:t.get("lmsId"),strType:t.get("type")}}))}(t,e)}))).then((function(e){return{strQuizId:t.id,strQuizName:t.get("lmstext"),nScore:t.prop("Score"),nPassingScore:t.prop("PassPercent"),nPtScore:t.prop("PercentScore"),dtmFinished:t.timeComplete,strStatus:t.prop("Status"),arrQuestions:e}}))},S=document.createElement("style"),y=function(){S&&(S.innerHTML="",null!=S.parentElement&&S.parentElement.removeChild(S))},b=function(t){l.trigger(a.request.NEXT_SLIDE,t,h.PRINT_WINDOW)},w=function(t){!function(t){var e=DS.detection.os,i=e.isAndroid,n=e.isIOS,r=i?"android":n?"ios":"desktop",o=c.printSettings[r],s=o.pageW,a=o.pageStyle,l=document.querySelector(".".concat(t,"-slide")),u=s/Number.parseInt(l.style.width);S.innerHTML="\n      @media print {\n        ".concat(a,"\n                    \n        body,\n        body > div {\n          max-width: ").concat(s,"px;\n        }            \n        \n        #light-box-wrapper, #preso, #wrapper, #frame, .").concat(t,"-slide, \n        .slide-transition-container, .slide-container {\n          transform: unset !important;\n          width: 0 !important;\n          height: 0 !important;\n          overflow: visible !important;\n          top: 0 !important;\n          left: 0 !important;\n        }\n        \n        .slide {\n          transform-origin: 0 0;\n          transform: scale(").concat(u,") !important;\n        }\n      \n        #light-box-close, .lightbox.cs-base, .window-slide,\n        .frame-blocker-container, .visible-overlay, #top-bar, #sidebar, #bottom-bar, \n        .top-ui-bg, .bottom-ui-bg, .left-ui-bg, .right-ui-bg,  #light-box-bottom,\n        .load-container, .caption-container, .acc-shadow-dom, #focusBoxes {\n          display: none !important;\n        }\n        \n        .").concat(t,"-slide {\n          display: block !important;\n        }\n      }\n    "),document.body.appendChild(S)}(t);var e=d("afterprint",(function(){if(e(),DS.detection.device.isMobile)var t=d("touchstart",(function(){t(),y()}));else y()}));window.print()},x={getPrintOptions:function(t,e){var i=null==t.usernamevar||""===t.usernamevar?null:u.resolvePath(t.usernamevar);return{strName:(null==i?null:i.value())||"",arrQuizzes:e.quizzes>0?e.quizzes.map((function(t){return t.id})):[e.id],strMainQuizId:e.id,bShowUserScore:t.showuserscore,bShowPassingScore:t.showpassingscore,bShowShowPassFail:t.showpassfail,bShowQuizReview:t.showquizreview,bSurvey:e.get("issurvey")}},openPrintResultsWindow:function(t){var i=JSON.stringify(t);e.ReportQuizVars=i;var n=window.open(s.getPath(f,c.player.OUTPUT_TYPE,c.STORY_CONTENT_URL)+"report.html","_blank");null!=n.postMessage&&d("message",(function(t){"getQuizData"===t.data&&n.postMessage(i,"*")}),!1)},printQuizResults:function(t,i){if(!p){if(p=!0,!e.isPreview()){var n={type:t.quizidtype,value:t.quizid},o=u.resolvePath(u.getRef(n,i.context,i)),s=JSON.stringify(o.timeComplete||new Date);return Promise.all([o].concat(r(o.quizzes)).map((function(t){return v(t)}))).then((function(e){x.openPrintResultsWindow({g_oContentResults:{dtmFinished:s},g_oPrintOptions:x.getPrintOptions(t,o),g_listQuizzes:e.reduce((function(t,e){return t[e.strQuizId]=e,t}),{})}),p=!1}))}l.trigger(a.preview.NOTIFY,"PREVIEW_PRINT_RESULTS")}},initialize:function(t){e=t},printSlide:function(t){var e=t.windowId;if(null!=e){var i=h.findWindowById(e);if(null!=i&&i.getCurrentSlide()===t)return void w(i.getId())}b(t.absoluteId)},shouldSkipAction:function(t,e){var i=s.getPath(t||{},"windowId");if(_.isEmpty(i)){var n=s.getPath(h,"getCurrentWindow",{});i=s.getPath(n,"getId")}return i===h.PRINT_WINDOW&&!(!g.includes(e.kind)&&("adjustvar"!==e.kind||m.includes(e.variable)))}};return x}.call(e,i,e,t))||(t.exports=n)},3019:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=", ",n={},r={};n.numeric=n.essay=e.identity,n.likert=n.sequence=n.matching=function(t){return[t.statement.lmstext,t.choice.lmstext].join(i)},n.multiplechoice=n.truefalse=n.hotspot=n.wordbank=n.fillin=n.multipleresponse=function(t){return t.lmstext},r.numeric=r.fillin=r.essay=function(t,e){return e},r.likert=r.sequence=r.matching=function(t,e){var n=t.getStatementById(e.statementResponse),r=t.getChoiceById(e.choiceResponse);return[null!=n?n.lmstext:"",null!=r?r.lmstext:""].join(i)},r.multiplechoice=r.truefalse=r.hotspot=r.wordbank=r.multipleresponse=function(t,e){var i=t.getChoiceById(e);return null!=i?i.lmstext:""};return{correctResponseToString:function(t){return t.prop("CorrectResponse").map(n[t.type()]).join(i)},actualResponseToString:function(t,n){var o=e.last(t.attempts)||{},s=n?t.responses:o.responses||t.lastResponses;return e.isEmpty(s)?"":s.map(e.partial(r[t.type()],t)).join(i)}}}.call(e,i,e,t))||(t.exports=n)},503:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(3986),n=DS.detection.browser,r=(n.isEdge,n.isIE,new Map);return{addAsset:function(t,i){r.set(t,i);var n,o,s,a,l=e.getSvgImageLibDefs();n=l,o=i,s=(new DOMParser).parseFromString(o,"image/svg+xml"),a=s.children||s.childNodes,_.forEach(a,(function(t){n.appendChild(t)}))},clearAsset:function(t){r.delete(url)}}}.call(e,i,e,t))||(t.exports=n)},7641:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.svgUtils,n="data-adornment-type",r="data-is-reflection-gradient",o=e.flowRight((function(t){return n in t&&(t.ref=e.uniqueId("adornable"),t["data-transform"]=JSON.stringify(t.transform),t.transform=null),t}),(function(t){return!0===t[r]&&(t["data-rotation-offset"]=!0,t[r]=null),t}));return{decorateAdornables:e.partial(i.transformNodeConfig,o)}}.call(e,i,e,t))||(t.exports=n)},8003:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(107);var e=i(1226),n=DS._,r=DS.svgUtils,o="data-slidefill";return{applySlideBackground:n.partial(r.transformNodeConfig,(function(t,i,n){if(!t[o])return t;var s=["slide","bg",i.commandsetId].join("-"),a={nodeType:"g",children:[]};return a.children.skipTraversal=!0,t.fill=r.buildUrl(s),a.children.push({nodeType:e,id:s,model:n.props.model,playerProps:n.props.playerProps,patternTransform:t["data-stroke-sharpened"]?[r.buildTranslateConfig(-.5,-.5)]:""}),a.children.push(t),a}))}}.call(e,i,e,t))||(t.exports=n)},3685:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=function(t){var e=t.radius,i=t.arrowY-t.halfArrowSize;return i<e&&(e=i),e},n={"left-bottom":function(t,e){t.addM([e.width,e.arrowLength])},left:function(t,e){t.addM([e.width,i(e)])},default:function(t,e){t.addM([e.width,e.radius])}},r={"bottom-left":function(t,e){t.addL([e.width,0,e.width,e.arrowY,e.width-e.arrowLength,0])},"left-bottom":function(t,e){t.addL([e.arrowX,0])},left:function(t,e){t.addQ([e.width,0,e.width-i(e),0])},default:function(t,e){t.addQ([e.width,0,e.width-e.radius,0])}},o={bottom:function(t,e){t.addL([e.arrowX+e.halfArrowSize,0,e.arrowX,e.arrowY,e.arrowX-e.halfArrowSize,0,e.radius,0])},"bottom-right":function(t,e){t.addL([e.arrowLength,0])},right:function(t,e){t.addL([i(e),0])},default:function(t,e){t.addL([e.radius,0])}},s={"bottom-right":function(t,e){t.addL([e.arrowLength,0,0,e.arrowY])},"right-bottom":function(t,e){t.addL([e.arrowX,0,0,e.arrowLength])},right:function(t,e){t.addQ([0,0,0,i(e)])},default:function(t,e){t.addQ([0,0,0,e.radius])}},a={right:function(t,e){t.addL([0,e.arrowY-e.halfArrowSize,e.arrowX,e.arrowY,0,e.arrowY+e.halfArrowSize,0,e.height-i(e)])},"right-top":function(t,e){t.addL([0,e.height-e.arrowLength])},default:function(t,e){t.addL([0,e.height-e.radius])}},l={"right-top":function(t,e){t.addL([e.arrowX,e.height])},"top-right":function(t,e){t.addL([0,e.arrowY,e.arrowLength,e.height])},right:function(t,e){t.addQ([0,e.height,i(e),e.height])},default:function(t,e){t.addQ([0,e.height,e.radius,e.height])}},c={top:function(t,e){t.addL([e.arrowX-e.halfArrowSize,e.height,e.arrowX,e.arrowY,e.arrowX+e.halfArrowSize,e.height,e.width-e.radius,e.height])},"top-left":function(t,e){t.addL([e.width-e.arrowLength,e.height])},left:function(t,e){t.addL([e.width-i(e),e.height])},default:function(t,e){t.addL([e.width-e.radius,e.height])}},u={"top-left":function(t,e){t.addL([e.width-e.arrowLength,e.height,e.arrowX,e.arrowY])},"left-top":function(t,e){t.addL([e.arrowX,e.height,e.width,e.height-e.arrowLength])},left:function(t,e){t.addQ([e.width,e.height,e.width,e.height-i(e)])},default:function(t,e){t.addQ([e.width,e.height,e.width,e.height-e.radius])}},h={left:function(t,e){t.addL([e.width,e.arrowY+e.halfArrowSize,e.arrowX,e.arrowY,e.width,e.arrowY-e.halfArrowSize]),t.add(["Z"])},default:function(t,e){t.add(["Z"])}};return{calcTranslate:function(t,e){var i=0,n=0,r=0,o=0;return t<0&&(i=-1*t,r=t),e<0&&(n=-1*e,o=e),{x:i,y:n,offX:r,offY:o}},calcArrowLength:function(t,e,i,n){var r;return i<0&&(r=-1*i),i>t&&(r=i-t),n<0&&(r=-1*n),n>e&&(r=n-e),r},labelPath:function(t){var i,d,p,f=function(){var t=[],i={add:function(e){t=t.concat(e)},addCmd:function(e,i){i.unshift(e),t=t.concat(i)},value:function(){return t}};return i.addM=e.partial(i.addCmd,"M"),i.addL=e.partial(i.addCmd,"L"),i.addQ=e.partial(i.addCmd,"Q"),i}(),g=t.dir,m=t.top;return t.arrowY-=m,t.halfArrowSize=t.arrowLength/2,t.height=Math.max(1.5*t.arrowLength,t.height),"left"!==g&&"right"!==g||(t.height-=1),[n,r,o,s,a,l,c,u,h].forEach((function(e){(e[g]||e.default)(f,t)})),i=m,d=f.value(),p=0,function(t){return t.join(" ").replace(/\s?([A-Za-z])?\s/g," $1").trim()}(e.map(d,(function(t){return isNaN(t)||(p%2==1&&(t+=i),p++),t})))}}}.call(e,i,e,t))||(t.exports=n)},1094:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,i=DS._,n=DS.svgUtils,r=function(t){var n,r;return t.id&&(n=t.id,r=i.uniqueId("uniqueDomId-"),e[n]=r),t};return r.beforeStart=function(){e={}},r.afterFinish=function(t){return JSON.parse(i.reduce(e,(function(t,e,i){return t.replace(new RegExp(i,"g"),e)}),JSON.stringify(t)))},{ensureIdsAreUnique:i.partial(n.transformNodeConfig,r)}}.call(e,i,e,t))||(t.exports=n)},2686:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(107),n=i(9481),r=DS._,o=DS.svgUtils,s="animatedgif",a="data-original-image",l={findImage:function(t,i){var n=r.find(t,{id:i[a]});return e.getAsset(n.assetId)},containsGif:function(t){return!DS.flagManager.dropInVectors&&(null!=t&&null!=r.find(t,(function(t){var i=e.getAsset(t.assetId);return null!=i&&i.get("imageType")===s})))},addImageAttrs:function(t,e,i){if(!o.isImageNode(t))return t;var a,c=l.findImage(e,t);return c.isValid()?(a=c.url(),DS.flagManager.dropInCore?c.get("imageType")===s&&(a=a+"?rs="+i.mountIdx):DS.flagManager.dropInVectors||c.get("imageType")===s&&(a=a+"?rs="+r.uniqueId("")),t["xlink:href"]=a,t.height=c.height(),t.width=c.width(),t.x+=c.get("mobiledx")||0,t.y+=c.get("mobiledy")||0,null==t.patternImage&&n.hasPatternImageFlag()&&(t.preserveAspectRatio="none"),t):{nodeType:!1}}};return l.applyImagelib=r.partial(o.transformNodeConfig,l.addImageAttrs),l}.call(e,i,e,t))||(t.exports=n)},6285:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=(DS.dom,DS.svgUtils),o=function(t,i){e.call(this,t,i)};return n.extend(o.prototype,e.prototype,{setupAnimation:function(){var t;this.numBlinds=6,t="horizontal"===this.direction?"height":"width",this.blindThickness=this[t]/this.numBlinds},animate:function(t){for(var e,i=[];i.length<this.numBlinds;)e=i.length*this.blindThickness,i.push("horizontal"===this.direction?r.rectPath(0,e,this.width,this.blindThickness*t):r.rectPath(e,0,this.blindThickness*t,this.height));this.clipShape.setAttribute("d",i.join(" "))}}),o}.call(e,i,e,t))||(t.exports=n)},9888:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width},drawBox:function(t){var e=this.halfWidth-this.halfWidth*t,i=this.halfHeight-this.halfHeight*t,n=this.width*t,o=this.height*t;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,r.rectPath(e,i,n,o)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawBox:function(t){this.drawBox(o.invertPercent(t))}}}),s}.call(e,i,e,t))||(t.exports=n)},9996:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(o.prototype,e.prototype,{setupAnimation:function(){var t,e,i,n,r,o,s="across"===this.direction,a=s?5:10,l=s?14:7,c=function(t){return this.isHorizontal?{x:-1*this.finalWidth/2,y:2*t*this.finalHeight+this.finalHeight}:{x:2*t*this.finalWidth+this.finalWidth,y:-1*this.finalHeight/2}}.bind(this);for(this.isHorizontal=s,this.finalWidth=this.width/a,this.finalHeight=this.height/l,this.points=[],t=70;t--;)i=(e=t%10)%a,n=Math.floor(t/a),this.isHorizontal?(r=e<a?0:this.finalWidth/2,o=0):(r=0,o=i%2?this.finalHeight/2:0),this.points[t]={x:i*this.finalWidth+r,y:n*this.finalHeight+o};for(t=this.isHorizontal?l:a;t--;)this.points.push(c(t))},animate:function(t){var e=this.isHorizontal?t:1,i=this.isHorizontal?1:t,n=this.points.map(function(t){return r.rectPath(t.x,t.y,this.finalWidth*e,this.finalHeight*i)}.bind(this));this.clipShape.setAttribute("d",n.join(" "))}}),o}.call(e,i,e,t))||(t.exports=n)},3429:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{setupAnimation:function(){this.scaleY=this.height/this.width,this.finalScale=Math.sqrt(2*Math.pow(this.height,2))/this.height},drawCircle:function(t){t*=this.finalScale,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,r.ellipsePath(this.halfWidth,this.halfHeight,this.halfWidth*t,this.halfHeight*t)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawCircle:function(t){this.drawCircle(o.invertPercent(t))}}}),s}.call(e,i,e,t))||(t.exports=n)},253:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{drawDiamond:function(t){var e=o.invertPercent(t),i=this.width*e-this.halfWidth,n=this.height*e-this.halfHeight;t*=2,this.clipShape.setAttribute("d",[this.invertRect,this.inRect,r.diamondPath(i,n,this.width*t,this.height*t)].join(" "))},getAnimateFn:function(){return"out"===this.direction?this.drawDiamond:function(t){this.drawDiamond(o.invertPercent(t))}}}),s}.call(e,i,e,t))||(t.exports=n)},7390:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{setupAnimation:function(){var t,e,i,o,s,a=(e=this.width,i=this.height,o=Math.ceil(e/255),s=Math.ceil(i/255),{width:Math.max(9,o),height:Math.max(9,s)}),l=Math.ceil(this.height/a.height),c=Math.ceil(this.width/a.width);for(this.grains=[],this.numGrains=l*c,t=this.numGrains;t--;){var u=t%c*a.width,h=Math.floor(t/c)*a.height;this.grains[t]=r.rectPath(u,h,a.width,a.height)}this.grains=n.shuffle(this.grains),this.pathData=""},animate:function(t){for(var e=o.invertPercent(t)*this.numGrains;this.grains.length>e;)this.pathData+=this.grains.pop();this.clipShape.setAttribute("d",this.pathData)}}),s}.call(e,i,e,t))||(t.exports=n)},7724:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=(DS.utils,DS.dom,function(t,i){e.call(this,t,i)});return n.extend(o.prototype,e.prototype,{drawBox:function(t,e,i,n){this.width,this.shapeProps.size.x,this.height,this.shapeProps.size.y;this.clipShape.setAttribute("d",[this.invertRect,this.inRect,r.rectPath(-(i.x-e.x),-(i.y-e.y),this.width,this.height)].join(" "))},getAnimateFn:function(){return this.drawBox}}),o}.call(e,i,e,t))||(t.exports=n)},9773:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.svgUtils,n=(DS.utils,DS.events),r=DS.pubSub,o=DS.dom,s=(DS.TransMatrix,function(t,i){this.maskProps=i,this.shapeProps=t,e.bindAll(this,"adjustForScale"),r.on(n.window.AFTER_SCALE,this.adjustForScale),this.createSvg(t),this.setupAnimation(),this.getAnimateFn&&(this.animate=this.getAnimateFn())});return e.extend(s.prototype,{setupAnimation:e.noop,animate:e.noop,adjustForScale:function(){this.clipPath.setAttribute("transform","scale(".concat(this.view.props.winScale,")"))},getDirection:function(){return this.maskProps.direction},isExit:function(){return this.maskProps.isExit},createSvg:function(t){return this.view=t.view,this.width=t.rotatedBounds.right-t.rotatedBounds.left+2,this.height=t.rotatedBounds.bottom-t.rotatedBounds.top+2,this.halfWidth=this.width/2,this.halfHeight=this.height/2,this.maskId=e.uniqueId("mask-"),this.maskNode=i.createSvgNode(this.width,this.height),this.clipPath=i.createElement("clipPath"),this.clipPath.setAttribute("id",this.maskId),this.adjustForScale(),this.maskNode.appendChild(this.clipPath),this.clipShape=o.setAttributes(i.createElement("path"),{"clip-rule":"evenodd"}),this.transformSvg(t),this.clipPath.appendChild(this.clipShape),document.querySelector("#mask-library").appendChild(this.maskNode),this.direction=this.getDirection(),this.fullRect=i.rectPath(0,0,this.width,this.height),this.invertRect=this.isExit()?this.fullRect:"",this.inRect="in"===this.direction?this.fullRect:"",this},transformSvg:function(t){var e=i.transformRotate(-t.globalRotation.x,t.regPoint.x-t.rotatedBounds.left,t.regPoint.y-t.rotatedBounds.top),n=i.transformTranslate(t.rotatedBounds.left-t.maskableOffset.x,t.rotatedBounds.top-t.maskableOffset.y);this.clipShape.setAttribute("transform",[n,e].join(" "))},destroy:function(){this.maskNode.parentNode&&this.maskNode.parentNode.removeChild(this.maskNode)}}),s}.call(e,i,e,t))||(t.exports=n)},6401:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{drawPlus:function(t){var e=o.invertPercent(t),i={x:0,y:0,width:this.halfWidth,height:this.halfHeight},n={x:this.halfWidth,y:0,width:this.halfWidth,height:this.halfHeight},s={x:0,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight},a={x:this.halfWidth,y:this.halfHeight,width:this.halfWidth,height:this.halfHeight};i.width=e*this.halfWidth,i.height=e*this.halfHeight,n.x=this.halfWidth+this.halfWidth*t,n.height=i.height,s.width=e*this.halfWidth,s.y=this.halfHeight+this.halfHeight*t,a.x=this.halfWidth+this.halfWidth*t,a.y=s.y,this.clipShape.setAttribute("d",[this.invertRect,r.rectPath(0,0,this.width,this.height),this.inRect,r.rectPath(i.x,i.y,i.width,i.height),r.rectPath(n.x,n.y,n.width,n.height),r.rectPath(s.x,s.y,s.width,s.height),r.rectPath(a.x,a.y,a.width,a.height)].join(" "))},getAnimateFn:function(t){return"out"===this.direction?this.drawPlus:function(t){this.drawPlus(o.invertPercent(t))}}}),s}.call(e,i,e,t))||(t.exports=n)},6020:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=(DS.svgUtils,DS.utils),o=(DS.dom,function(t,e,i,n,r){return t?["M",0,r*e,"h",i,"v",e,"h",-i,"Z"].join(" "):["M",r*e,0,"v",n,"h",e,"v",-n,"Z"].join(" ")}),s=function(t,i){e.call(this,t,i)};return n.extend(s.prototype,e.prototype,{getBarPaths:function(){if(this.barPaths)return this.barPaths;var t,e="horizontal"===this.direction,i=e?this.height:this.width,r=function(t,e){return Math.ceil(t/e)}(i,(t=i,Math.max(1,Math.ceil(t)/1e3))),s=i/r,a=n.partial(o,e,s,this.width,this.height),l=n.range(r).map(a);return this.barPaths=n.shuffle(l),this.barPaths},animate:function(t){var e=Math.round(r.invertPercent(t)*this.getBarPaths().length),i=this.getBarPaths().slice(e).join(" ")||"M 0 0";this.clipShape.setAttribute("d",this.invertRect+i)}}),s}.call(e,i,e,t))||(t.exports=n)},8949:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{setupAnimation:function(){var t="verticalout"===this.direction||"horizontalout"===this.direction||"horizontal"===this.direction;this.isVertical="verticalout"===this.direction||"verticalin"===this.direction,this.isOut=this.isExit()?!t:t,this.adjustScale=this.isExit()?o.invertPercent:n.identity},getAnimateFn:function(){return this.isOut?function(t){var e;t=this.adjustScale(t),e=o.invertPercent(t),this.clipShape.setAttribute("d",this.isVertical?r.rectPath(e*this.halfWidth,0,this.width*t,this.height):r.rectPath(0,e*this.halfHeight,this.width,this.height*t))}:function(t){var e,i,n=[];t=this.adjustScale(t),this.isVertical?(e=t*this.halfWidth,i=this.height):(e=this.width,i=t*this.halfHeight),n.push(r.rectPath(0,0,e,i)),e*=-1,i*=-1,n.push(r.rectPath(this.width,this.height,e,i)),this.clipShape.setAttribute("d",n.join(" "))}}}),s}.call(e,i,e,t))||(t.exports=n)},9378:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=function(t,i){e.call(this,t,i)};return n.extend(s.prototype,e.prototype,{setupAnimation:function(){var t,e=this.width,i=this.height,n=(t=i,Math.max(10,Math.min(30,t,Math.ceil(t/20)))),r=this.getDirection();this.fromTop="leftdown"===r||"rightdown"===r,this.fromLeft="rightdown"===r||"rightup"===r,this.boxSize=n,this.maxWidth=(Math.ceil(i/n)+Math.ceil(e/n))*n},animate:function(t){for(var e,i,n="",s=this.boxSize,a=this.fromTop?0:this.height,l=this.fromTop?s:-s,c=(this.isExit()?o.invertPercent(t):t)*this.maxWidth;c>0&&a>-s&&a<=this.height;)i=Math.min(c,this.width),e=this.fromLeft?0:this.width-i,n+=r.rectPath(e,a,i,s),a+=l,c-=s;this.clipShape.setAttribute("d",n)}}),s}.call(e,i,e,t))||(t.exports=n)},1781:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=function(t,i){e.call(this,t,i)};return n.extend(s.prototype,e.prototype,{setupAnimation:function(){this.radius=Math.ceil(o.dist(0,0,this.halfWidth,this.halfHeight)),this.startingAngle=this.isExit()?90:270},animate:function(t){var e=180*(this.isExit()?o.invertPercent(t):t),i=180!==e?r.wheelPath(this.halfWidth,this.halfHeight,this.radius,this.startingAngle-e,this.startingAngle+e):r.rectPath(0,0,this.width,this.height);this.clipShape.setAttribute("d",i)}}),s}.call(e,i,e,t))||(t.exports=n)},4622:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,e,i,n){var r=360*n-90;return e+t(o.degToRad(r))*i}),a=n.partial(s,Math.cos),l=n.partial(s,Math.sin),c=n.partial(a,.5),u=n.partial(l,.5),h=function(t,i){e.call(this,t,i)};return n.extend(h.prototype,e.prototype,{setupAnimation:function(){var t=this.clipShape.getAttribute("transform");this.clipShape.setAttribute("transform",[t,"scale(",this.width,",",this.height,")"].join(" ")),this.calcArcPath=this.createArcAnimationFunc(),this.invertRect=this.isExit()?r.rectPath(0,0,1.1,1.1):""},animate:function(t){var e,i,n,r,o,s;this.clipShape.setAttribute("d",1===t?(e=0,i=0,n=this.width,r=this.height,["M",e,i,"L",o=e+n,i,o,s=i+r,e,s].join(" ")):this.invertRect+this.calcArcPath(t))},createArcAnimationFunc:function(){var t=this.width,e=this.height,i=this.direction,r=parseInt(this.maskProps.spokes,10),s=o.hypot(t,e),a=s/t/2,l=s/e/2,h=n.range(r).map((function(t){var e=t/r,n=Object.freeze({x:.5,y:.5}),o=Object.freeze({x:c(a,e),y:u(l,e)});return{initRotDec:e,m:n,l:o,a:Object.defineProperties({},{rx:{value:a},ry:{value:l},xRot:{value:0},lgArc:{value:1},sweep:{value:"clockwise"===i?1:-1},x:{value:o.x,writable:!0},y:{value:o.y,writable:!0}}),update:function(t){var e=t+this.initRotDec;return this.a.x=c(a,e),this.a.y=u(l,e),this},toPathCommands:function(){return function(t){var e=t.m,i=t.l,n=t.a;return["M",e.x,e.y,"L",i.x,i.y,"A",n.rx,n.ry,n.xRot,n.lgArc,n.sweep,n.x,n.y].join(" ")}(this)}}}));return function(t){return h.map((function(e){return e.update(t/r).toPathCommands()})).join(" ")}}}),h}.call(e,i,e,t))||(t.exports=n)},5190:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9773),n=DS._,r=DS.svgUtils,o=DS.utils,s=(DS.dom,function(t,i){e.call(this,t,i)});return n.extend(s.prototype,e.prototype,{setupAnimation:function(){n.bindAll(this,"fromBottom","fromTop","fromLeft","fromRight","animate"),this.adjustRect={frombottom:this.fromBottom,fromleft:this.fromLeft,fromright:this.fromRight,fromtop:this.fromTop,horizontal:this.fromLeft}},fromBottom:function(t,e){e.y=this.height*o.invertPercent(t)},fromTop:function(t,e){e.height=this.height*t},fromLeft:function(t,e){e.width=this.width*t},fromRight:function(t,e){e.x=this.width*o.invertPercent(t)},animate:function(t){var e={x:0,y:0,width:this.width,height:this.height};this.adjustRect[this.direction](t,e),this.clipShape.setAttribute("d",this.invertRect+r.rectPath(e.x,e.y,e.width,e.height))}}),s}.call(e,i,e,t))||(t.exports=n)},3689:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2686),n=DS._,r=DS.svgUtils,o=DS.utils,s=[{x:{posMult:0,negMult:0},y:{posMult:0,negMult:0}},{x:{posMult:.5,negMult:1},y:{posMult:0,negMult:0}},{x:{posMult:0,negMult:0},y:{posMult:.5,negMult:1}},{x:{posMult:.5,negMult:1},y:{posMult:.5,negMult:1}}],a={addPatternAttrs:function(t,i,s){if(!function(t){return r.isPatternNode(t)&&"image"===t["data-type"]}(t))return t;var l,c=n.first(t.children.filter(r.isDefsNode)),u=n.first(c.children.filter(r.isImageNode)),h=t.children.filter(r.isUseNode),d=e.findImage(i,u),p=d.width(),f=d.height(),g=!u.preserveAspectRatio,m=n.partial(a.transformUseNode,p,f);return g?(t.width=p,t.height=f,h.forEach(m)):(l=Math.round(o.hypot(s.fullHeight,s.fullWidth)),t.height=l,t.width=l),t},transformUseNode:function(t,e,i,o){var a=n.find(i.transform,{type:"scale"}),l=a.args[0],c=a.args[1],u=s[o],h=u.x[l>0?"posMult":"negMult"]*t,d=u.y[c>0?"posMult":"negMult"]*e;i.transform=[r.transformTranslate(h,d),r.transformScale(l,c)].join(" ")}};return a.applyImagePatterns=n.partial(r.transformNodeConfig,a.addPatternAttrs),a}.call(e,i,e,t))||(t.exports=n)},200:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577);if(null==e.Injection)return{};var n=e.Injection.DOMProperty.MUST_USE_ATTRIBUTE;return e.Injection.DOMProperty.injectDOMPropertyConfig({Properties:{accentHeight:n,accumulate:n,alignmentBaseline:n,alphabetic:n,amplitude:n,animate:n,arabicForm:n,ariaControls:n,ascent:n,attributeType:n,azimuth:n,baseFrequency:n,baselineShift:n,bbox:n,bias:n,by:n,calcMode:n,capHeight:n,clip:n,clipPathUnits:n,clipRule:n,colorInterpolation:n,colorInterpolationFilters:n,colorProfile:n,colorRendering:n,contentScriptType:n,contentStyleType:n,cursor:n,descent:n,diffuseConstant:n,direction:n,display:n,divisor:n,dominantBaseline:n,dur:n,edgeMode:n,elevation:n,enableBackground:n,end:n,exponent:n,externalResourcesRequired:n,feColorMatrix:n,feComposite:n,feGaussianBlur:n,feMorphology:n,feTile:n,fillRule:n,filter:n,filterRes:n,filterUnits:n,floodColor:n,floodOpacity:n,focusable:n,fontSizeAdjust:n,fontStretch:n,fontStyle:n,fontVariant:n,fontWeight:n,format:n,from:n,g1:n,g2:n,glyphName:n,glyphOrientationHorizontal:n,glyphOrientationVertical:n,glyphRef:n,hanging:n,horizAdvX:n,horizOriginX:n,horizOriginY:n,ideographic:n,imageRendering:n,in2:n,in:n,intercept:n,k1:n,k2:n,k3:n,k4:n,k:n,kernelMatrix:n,kernelUnitLength:n,kerning:n,keyPoints:n,keySplines:n,keyTimes:n,lengthAdjust:n,letterSpacing:n,lightingColor:n,limitingConeAngle:n,local:n,markerHeight:n,markerUnits:n,markerWidth:n,mask:n,maskContentUnits:n,maskUnits:n,mathematical:n,mode:n,numOctaves:n,operator:n,order:n,orient:n,orientation:n,origin:n,overflow:n,overlinePosition:n,overlineThickness:n,panose1:n,path:n,pathLength:n,patternTransform:n,pointerEvents:n,pointsAtX:n,pointsAtY:n,pointsAtZ:n,preserveAlpha:n,primitiveUnits:n,radius:n,refX:n,refY:n,renderingIntent:n,repeatCount:n,repeatDur:n,requiredExtensions:n,restart:n,result:n,rotate:n,scale:n,seed:n,shapeRendering:n,slope:n,spacing:n,specularConstant:n,specularExponent:n,startOffset:n,stdDeviation:n,stemh:n,stemv:n,stitchTiles:n,strikethroughPosition:n,strikethroughThickness:n,strokeDashoffset:n,strokeLinejoin:n,strokeMiterlimit:n,surfaceScale:n,systemLanguage:n,tableValues:n,targetX:n,targetY:n,textDecoration:n,textLength:n,textRendering:n,to:n,u1:n,u2:n,underlinePosition:n,underlineThickness:n,unicode:n,unicodeBidi:n,unicodeRange:n,unitsPerEm:n,vAlphabetic:n,vHanging:n,vIdeographic:n,vMathematical:n,values:n,vertAdvY:n,vertOriginX:n,vertOriginY:n,viewTarget:n,visibility:n,widths:n,wordSpacing:n,writingMode:n,xChannelSelector:n,xHeight:n,xmlns:n,yChannelSelector:n,z:n,zoomAndPan:n},DOMAttributeNames:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",ariaControls:"aria-controls",attributeType:"attributeType",baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",calcMode:"calcMode",capHeight:"cap-height",clipPath:"clip-path",clipPathUnits:"clipPathUnits",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",diffuseConstant:"diffuseConstant",dominantBaseline:"dominant-baseline",edgeMode:"edgeMode",enableBackground:"enable-background",externalResourcesRequired:"externalResourcesRequired",feColorMatrix:"feColorMatrix",feComposite:"feComposite",feGaussianBlur:"feGaussianBlur",feMorphology:"feMorphology",feTile:"feTile",fillRule:"fill-rule",filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",numOctaves:"numOctaves",overlinePosition:"overline-position",overlineThickness:"overline-thickness",panose1:"panose-1",pathLength:"pathLength",patternTransform:"patternTransform",pointerEvents:"pointer-events",pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",primitiveUnits:"primitiveUnits",refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",shapeRendering:"shape-rendering",specularConstant:"specularConstant",specularExponent:"specularExponent",startOffset:"startOffset",stdDeviation:"stdDeviation",stitchTiles:"stitchTiles",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashoffset:"stroke-dashoffset",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textDecoration:"text-decoration",textLength:"textLength",textRendering:"text-rendering",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",wordSpacing:"word-spacing",writingMode:"writing-mode",xChannelSelector:"xChannelSelector",xHeight:"x-height",yChannelSelector:"yChannelSelector",zoomAndPan:"zoomAndPan"}}),{}}.call(e,i,e,t))||(t.exports=n)},6347:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.svgUtils;return{translateOddWidths:e.partial(i.transformNodeConfig,(function(t){return 0===t["stroke-width"]&&(t["stroke-width"]=1),function(t){var e=t["stroke-width"];return e&&e%2!=0}(t)&&(t["data-stroke-sharpened"]=!0,i.getTransformOf(t).unshift(i.buildTranslateConfig(.5,.5))),t}))}}.call(e,i,e,t))||(t.exports=n)},186:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(4152),r=i(27),o=i(6661),s=i(6329),a=DS._,l=DS.svgUtils,c=DS.utils,u=DS.vendorOverrides;DS.flagManager.dropInVectors&&(e=DS.DropIn);var h={vectorText:n,variableText:r,richVariableText:o,accessibleText:s},d=function(t){return t.join("")},p={"xlink:href":"xlinkHref"},f=("image rect ellipse path".split(" "),function(t){return t?a.isString(t)?t:t.map(l.buildTransformFromConfigFn).join(" "):""}),g={transform:f,gradientTransform:f,patternTransform:f},m=1,v=function(t){return a.isArray(t)?t.join(","):t},S=function(t){return!1!==t.nodeType},y=function(t,i,n){var o,l,h=[],p=i.children,f="tspan"===t,g=0,v=f?d:a.identity;return null!=u.forceLayoutLtr&&function(t,e){return"text"===t&&"tspan"===c.getPath(e,"children[0].nodeType")}(t,i)&&u.forceLayoutLtr(n),p&&(o=a.pick(n,"data-accepts"),h=p.filter(S).map((function(t,e){return"defs"===t.nodeType&&(g=1),b(a.defaults(t,o),e-g)}))),l=v(h),null!=u.fixTspan&&f&&l.length>1&&(n=u.fixTspan(n,l)),t!==r&&t!==s||(n.winScale=m),e.createElement(t,n,l)},b=function(t,e){if(!S(t))return"";if(null==t.nodeType)return t;var i,n=h[t.nodeType]||t.nodeType,r=a.omit(t,"children","nodeType");return i=a.transform(r,(function(t,e,i){-1===i.indexOf("data-")&&/-/g.test(i)&&(i=c.camelCaseAttr(i));var n=g[i]||v;t[p[i]||i]=n(e)}),{}),"tspan"===n&&(i["aria-hidden"]=!0),null!=e&&(i.key="defs"===t.nodeType||null!=h[t.nodeType]?a.uniqueId("r-"):e),a.isString(n)||(i.ref=i.ref||i.key),y(n,t,i)};return{createSvg:function(t,e){return m=e,b(t)}}}.call(e,i,e,t))||(t.exports=n)},1630:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(186),n=i(2686),r=i(8003),o=i(3689),s=i(6347),a=i(1094),l=i(712),c=i(7641),u=DS._,h=DS.svgUtils,d=DS.utils,p=DS.errorManager,f=DS.BaseModel,g=p.throwError("SvgManager"),m=p.backtick,v=d.createSuper(f),S=d.parseParams().svgfilename||"paths",y=new(f.extend({id:"paths",url:d.resolveDataUrl(S),getSvgNode:function(t,i){var d,p,f=i.props.winScale,g=this.get(t.libId,h.svgPrefix(t.commandsetId));return g=h.getFullSvgConfig(g,t.bounds,t.commandsetId,f),g=a.ensureIdsAreUnique(g),d=h.getDefsNode(g),g=c.decorateAdornables(g),t.imagelib&&(p=u.pick(t.bounds,"fullHeight","fullWidth"),g=n.applyImagelib(g,t.imagelib,i),g=o.applyImagePatterns(g,t.imagelib,p)),g=s.translateOddWidths(g,t),g=r.applySlideBackground(g,t,i),t.textLib&&!t.textLib.isEmpty()&&(g=l.applyTextLib(g,t.textLib,t.bounds,d)),e.createSvg(g,f)},getSvgFromData:function(t,e){var i=t.pick("imagelib","textLib");return y.getSvgNode(u.extend(i,{commandsetId:t.commandsetId(),libId:t.getPathLib(),bounds:t.getBounds()}),e)},createMask:function(t,i,n){var r,o,s=new window.DOMParser,a=h.getFullSvgConfig(t,{top:0,left:0,width:0,height:0});return r=s.parseFromString(e.createSvg(a),"text/xml"),o=document.adoptNode(r.documentElement).firstChild,n.appendChild(o),o},get:function(t,e){var i,n=v("get").call(this,t);return n||g("get","tried calling for an undefined library",m(t)),(i=n[e])||g("get","tried calling for an undefined path id",m(e)),d.cloneDeeply(i)},getStringFromVectorText:function(t){var e=t.i,i=t.l,n=h.svgPrefix(e),r=y.get(i,n);return d.getPath(r,"children[0].children[0].children[0]")}}));return l.setSvgManager(y),y}.call(e,i,e,t))||(t.exports=n)},712:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,n=DS.svgUtils,r=DS.errorManager,o=DS.vendorOverrides,s=DS.appState,a=i(3423).parseVariables,l=r.throwError("textHelper"),c=r.backtick,u=o.moveHtmlTextOutOfSvg||e.identity,h=o.unwrapForeignObjectVarText||e.identity,d={vartext:function(t,e,i){return h({nodeType:"foreignObject",width:e.width()+t.x,height:e.height()+t.y,children:[{ref:"vtext",nodeType:"variableText",model:e,id:t.id,originX:t.x,originY:t.y,hasShadow:!!t["data-shadow"],rotDeg:t["data-rotation"]}]})},richvartext:function(t,e,i){return s.accessibleTextOn()||e.get("scrollOverflow")?h({nodeType:"foreignObject",width:e.width()+t.x,height:e.height()+t.y,children:[{ref:"vtext",nodeType:"accessibleText",model:e,id:t.id,originX:t.x,originY:t.y,hasShadow:!!t["data-shadow"],rotDeg:t["data-rotation"]}]}):{nodeType:"richVariableText",model:e,id:t.id,originX:t.x,originY:t.y,hasShadow:!!t["data-shadow"],rotDeg:t["data-rotation"]}},acctext:function(t,e,i){return s.accessibleTextOn()||e.get("scrollOverflow")?h({nodeType:"foreignObject",width:e.width()+t.x,height:e.height()+t.y,children:[{ref:"vtext",nodeType:"accessibleText",model:e,id:t.id,originX:e.get("xAccOffset"),originY:e.get("yAccOffset"),hasShadow:!!t["data-shadow"],rotDeg:t["data-rotation"]}]}):{nodeType:"vectorText",hasShadow:!!t["data-shadow"],rotDeg:t["data-rotation"],originX:t.x,originY:t.y,textLibItem:e}},vectortext:function(t,e,i,n){return{nodeType:"vectorText",hasShadow:!!t["data-shadow"],rotDeg:t["data-rotation"],originX:t.x,originY:t.y,textLibItem:e}}},p=function(t,i,n,r){if(!function(t){return"text"===t["data-reference-type"]}(t))return t;var o,s=function(t){return t["data-reference-id"]}(t),u=i.get(s);u||l("renderText","No text lib item with id of",c(s));var h=u.type();if(o=d[h]||e.identity,"acctext"===h||"richvartext"===h||"hiddentext"===h){var p=u.vartext();"hiddentext"!==h||null!=p&&null!=p.blocks?u.parent.semanticTextConfig={origConfig:u,rotation:t["data-rotation"],varMethods:a(p)}:o=e.identity}return o(t,u,n,r)};return p.afterFinish=u,{setSvgManager:function(t){0},applyTextLib:e.partial(n.transformNodeConfig,p)}}.call(e,i,e,t))||(t.exports=n)},6103:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,i){return t[e]=i}}function h(t,e,i,r){var o=e&&e.prototype instanceof f?e:f,s=Object.create(o.prototype),a=new T(r||[]);return n(s,"_invoke",{value:D(t,i,a)}),s}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var p={};function f(){}function g(){}function m(){}var v={};u(v,a,(function(){return this}));var S=Object.getPrototypeOf,y=S&&S(S(I([])));y&&y!==e&&i.call(y,a)&&(v=y);var b=m.prototype=f.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(n,s,a,l){var c=d(t[n],t,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,l)}),(function(t){o("throw",t,a,l)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,l)}))}l(c.arg)}var s;n(this,"_invoke",{value:function(t,i){function n(){return new e((function(e,n){o(t,i,e,n)}))}return s=s?s.then(n,n):n()}})}function D(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return A()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=C(s,i);if(a){if(a===p)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=d(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}function C(t,e){var i=e.method,n=t.iterator[i];if(void 0===n)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return g.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:g,configurable:!0}),g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),u(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var s=new x(h(e,i,n,r),o);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(b),u(b,c,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return s.type="throw",s.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:I(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}},t}n=function(t){"use strict";var e=i(362),n=i(3986),r=DS._,s=DS.svgUtils,a=DS.utils,l=(DS.constants,DS.TransMatrix),c=DS.detection,u=(DS.flagManager,16/12),h="​",d=function(t){return 1-t/100},p=function(t,e){t.fontSize;return r.mapValues(r.pick(t,["ascent","descent","leading","underlinePosition","underlineThickness"]),a.multiply(d(e)))},f={single:r.identity,singlePt5:a.multiply(1.5),double:a.multiply(2),atLeast:function(t,e,i){return Math.max(t,e)*d(i)},exactly:function(t,e){return L(e)},multiple:function(t,e){return t*(e/20)},multipleTopAligned:function(t,e){return t*(e/20)},percent:a.multiply};f.mulipleTopAligned=f.multiple;var g,m,v=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f[t.lineSpacingRule](e,t.lineSpacing,i)},S=function(t){return[t,"sans-serif"].join(",")},y={leftToRight:"ltr",rightToLeft:"rtl"},b={leftToRight:"lr-tb",rightToLeft:"rl-tb"},w=function(t){return{direction:y[t.flowDirection],textAnchor:"middle",writingMode:b[t.flowDirection]}},x=function(t){return{direction:y[t.flowDirection]}},D=function(t){var e="normal"===t.elevation?1:.6;return t.fontSize*e},C=function(t){return{direction:y[t.flowDirection],fill:null==t.linkId?t.foregroundColor:t.linkColor,fontFamily:S(t.fontFamily),fontSize:a.ptify(D(t)),fontStyle:t.fontIsItalic?"italic":"normal",fontWeight:t.fontIsBold?"bold":"normal",textTransform:"upper"===t.displayCase?"uppercase":"none"}},E="["+["0020","00a0","1680","180e","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","200a","200b","202f","205f","3000","feff"].map((function(t){return["\\u",t].join("")})).join("|")+"]",P=new RegExp(E),T=P.test.bind(P),I={},A={},L=function(t){return t*u},M=r.flow(L,a.multiply(.5)),k=function(t,e,i,n,r,o){var s=e.fontFamily,a=e.fontStyle,l=e.fontWeight,c=e.textTransform,u=parseFloat(e.fontSize),h=[i?[n,t,r].join(""):t,s,a,l,c];return o||h.push(u),h},R=function(t,e){m.setAttribute("style",""),r.extend(m.style,e,{fontFeatureSettings:'"liga" 1',textAnchor:"start"}),m.textContent=t},V=function(t,e,i,n,o){var s=k(t,e,i,n,o,!1),a=r.get(A,s);return null==a&&(R(i?[n,t,o].map((function(t){return null==(e=t)||0===e.length||(null!=I[e]?I[e]:(m.textContent=e,I[e]=0===m.getNumberOfChars()))?h:t;var e})).join(""):t,e),0===(a=i?m.getSubStringLength(1,1):m.getComputedTextLength())&&(m.textContent="."+t+".",a=m.getSubStringLength(1,1)),r.set(A,s,a)),a},O=function(t,e,i,n,r){var o=parseFloat(e.fontSize),s=k(t,e,i,n,r,!0),l=a.getPath(A,s,{}),c=Object.keys(l)[0];return null==c?V(t,e):null!=l[o]?l[o]:l[c]*(o/c)},_=function(t,e){var i,n=t.char,r=t.lineWidth,o=t.isCursive,s=o?0:t.letterSpacing||0,a=t.domStyle,l=(e?O:V)(n,a,o,t.lastChar,t.nextChar);return r+=l,{dx:i=L(s),lineWidth:r+=i,width:l}},N=function(t,e,i){var n,r=M(t.leadingMargin),o=M(t.firstLineMargin),s=M(t.trailingMargin);return e&&(i?o<0?(o=r-o,r=0):(n=Math.min(r,o),o=Math.max(r,o),r=n):r=o),{leadingMargin:r,trailingMargin:s,firstLineMargin:o,widthOffset:(i&&e?o:r)-s}},j=function(t){return t.replace(/\t/g,"    ")},B=function(t){var i,n=t.blockIdx,s=t.baseSpanStyle,a=t.width,l=t.idx,c=t.estimate,u=t.wrapText,h=t.domStyle,f=t.spans,g=f.length,m=t.runs,S=t.blockStyle,y=t.fontSizeShrink,b=t.isList,w="rightToLeft"===S.flowDirection,D=m.some((function(t){return t.flowDirection!==S.flowDirection})),E=t.y,P=0,I=l,A=t.isFirst?0:L(S.spacingBefore),M=t.isLast?0:L(S.spacingAfter),k=function(){var t=m[P++];return null!=t?{end:t.idx+t.len-1,flowDirection:t.flowDirection,isCursive:t.cursive}:{}},R=k();return E+=A,i=new e(o().mark((function t(){var i,p,m,v,E,P,A,L,M,V,O,B,F,H,G,U,W,z,Y,q,X,K,$,J,tt,et,it,nt,rt,ot,st,at,lt,ct,ut,ht,dt,pt;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:E=Q(),P=function(t,e,r){e=e||l;var o=i,s=N(S,t,b),c=s.leadingMargin,u=s.trailingMargin,d=s.widthOffset;return null!=r&&o.spans.push(r),i={charIdx:e,chars:[],spans:[],isBiDi:D,isFirst:t,isRtl:w,isLast:!1,blockStyle:S,blockIdx:n,domStyle:h,marginLeft:w?u:c,marginRight:w?c:u,width:a-d},m=0,v=0,p=-1,o},P(!0),A=0;case 3:if(!(A<g)){t.next=58;break}L=f[A],M=j(L.text),V=M.length,(O=r.extend({},s,L.style)).fontSize=Math.max(1,O.fontSize*d(y)),B=C(O),U=0;case 8:if(!(U<V)){t.next=54;break}if(W=M[U],z=T(W),Y=!1,q=!1,X=W,K=U>0?M[U-1]:null,$=U<V-1?M[U+1]:null,H=T(K)?H:K,l-I>R.end&&(R=k()),tt=x({flowDirection:R.flowDirection}),r.includes(["\r","\n"],W)?(q="\r"===W||"\r"!==H&&"\n"===W&&U<V-1,X=W=" ",z=!0,Y=!0):z&&(p=i.chars.length),G=r.extend({},S.domStyle,B),et=_({char:X,lineWidth:m,letterSpacing:v,isCursive:R.isCursive,domStyle:G,lastChar:K,nextChar:$},c),J=et.dx,m=et.lineWidth,F=et.width,z||0!==F||!(i.chars.length>0)){t.next=23;break}r.last(i.chars).content+=W,t.next=44;break;case 23:if(!u||z){t.next=43;break}case 24:if(!(i.chars.length>0&&m>i.width&&(m=Z({line:i,lineWidth:m,letterSpacing:v,style:G,nextChar:{content:X,width:et.width}},E))>i.width)){t.next=43;break}if(Q(E),-1===p){t.next=39;break}return it=p+1,nt=i.chars.splice(it),rt=nt.length,null==(ot=new e(nt).map((function(t){return t.idx})).compact().first())&&(ot=l),t.next=31,P(!1,ot,O);case 31:for(i.chars.push.apply(i.chars,nt),st=0;st<rt;st++)at=nt[st],lt=at.spanStyle,ct=at.domStyle,ut=at.content,ht=st>0?nt[st-1].content:null,dt=st<rt-1?nt[st+1].content:null,pt=_({char:ut,lineWidth:m,letterSpacing:v,isCursive:R.isCursive,domStyle:r.extend({},h,ct),lastChar:ht,nextChar:dt},c),m=pt.lineWidth,v=lt.spacing,at.dx=pt.dx;et=_({char:X,lineWidth:m,letterSpacing:v,isCursive:R.isCursive,domStyle:r.extend({},h,B),lastChar:K,nextChar:$},c),J=et.dx,m=et.lineWidth,F=et.width,t.next=41;break;case 39:return t.next=41,P(!1,l,O);case 41:t.next=24;break;case 43:i.chars.push({content:W,dx:J,idx:l,isNewLine:Y,isRtl:"rightToLeft"===R.flowDirection,isCursive:R.cursive,spanStyle:O,domStyle:B,runDomStyle:tt,width:F});case 44:if(U===V-1&&Z({line:i,lineWidth:m,letterSpacing:v,style:G},E),l++,v=O.spacing,!q){t.next=51;break}return Q(E),t.next=51,P(!0,l,O);case 51:U++,t.next=8;break;case 54:i.spans.push(O);case 55:A++,t.next=3;break;case 58:return i.isLast=!0,t.next=61,i;case 61:case"end":return t.stop()}}),t)}))).filter((function(t){return t.spans.length>0})).map((function(t){var e,i,n,o=p(t.spans[0],y),s=o.ascent,a=o.descent,l=o.leading,c=o.underlinePosition,u=o.underlineThickness;return t.spans.forEach((function(t){var e=p(t,y);s=Math.max(s,e.ascent),a=Math.max(a,e.descent),l=Math.max(l,e.leading),c=Math.min(c,e.underlinePosition),u=Math.max(u,e.underlineThickness)})),i=v(S,e=s+a,y),n=0===e?1:i/e,r.extend(t,{ascent:s,descent:a,leading:l,underlinePosition:c,underlineThickness:u,y:E+Math.floor(s*n)}),E+=(s+a+l)*n,t})).toArray(),{y:E+=M,lines:i,isBlockRtl:w}},F=r.constant([[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]]),H=r.memoize((function(){return F().map((function(t){return[t[0],t[1].toLowerCase()]}))})),G=r.curry((function(t,e){var i=[],n=e;return t().forEach((function(t){for(var e=t[0],r=t[1];n%e<n;)i.push(r),n-=e})),i.join("")})),U=r.curry((function(t,e){var i=e-1;return r.repeat(String.fromCharCode(i%26+t.charCodeAt(0)),Math.floor(i/26)+1)})),W={none:r.constant(""),bullet:function(t,e){return String.fromCharCode(e.bulletChar)},listNumberedAsArabic:r.identity,listNumberAsUCRoman:G(F),listNumberAsLCRoman:G(H),listNumberAsUCLetter:U("A"),listNumberAsLCLetter:U("a")},z=function(t,e){return W[e.listType](t,e)},Y={plain:"",parentheses:")",minus:" -",period:"."},q=function(t){return["none","bullet"].includes(t.listType)?"":Y[t.listTypeFormat]},X=function(t,e,i,n,o,s,l){if(ut(t))return null;if(!ct(e))return s.length=e.listLevel,null;var c,u,h,p,f=t.spans,g=i.listStyle,m=i.baseSpanStyle,v=e.listLevel,y=s[v],b=y?y.listNum:0,w=y?y.listStyle.listType:"",D=r.extend({},g,e.listStyle),C="rightToLeft"===e.flowDirection;return b=0===b||D.listType!==w?Math.max(1,D.start):b+1,(u=r.extend({},m,f[0].style)).fontSize=Math.max(1,u.fontSize*d(o)),h=function(t,e){return{fill:t.color||e.foregroundColor,fontFamily:S("bullet"===t.listType?t.bulletFont:e.fontFamily),fontSize:a.ptify(e.fontSize*a.pctToDec(t.size)),fontStyle:"normal",fontWeight:"normal",textTransform:"none"}}(D,u),p=x({flowDirection:e.flowDirection}),c=K(b,D,n?r.extend({},n,h):null,u,p,C,l),s[v]={listNum:b,listStyle:D},s.length=v+1,{listLevel:v,listNum:b,bulletChars:c.chars,bulletWidth:c.width}},K=function(t,e,i,n,o,s,a){var l,c,u,h,d=function(t,e){return[z(t,e),q(e)].join("")}(t,e),p=[],f=0,g=0;s&&(d=d.split("").reverse().join(""));for(var m=0;m<d.length;m++)l=d[m],i&&(u=(c=_({char:l,lineWidth:g,domStyle:i},a)).dx,g=c.lineWidth,h=c.width),p.push({content:l,dx:u,isBulletChar:!0,isRtl:s,spanStyle:r.extend({},n,{fontIsStrikeout:!1,fontIsUnderline:!1}),domStyle:i,runDomStyle:o,width:h}),f+=h+u;return{chars:p,width:f}},Z=function(t,e){var i,n,o=t.line,s=t.lineWidth,a=t.letterSpacing,l=t.style,c=t.nextChar,u=e.charIdx,d=e.width,p=o.chars.slice(u),f=p.length,g=null!=c;return 0!==a?(Object.assign(e,{charIdx:o.chars.length,width:s}),s):(g&&(p.push(c),f++),R(h+p.map((function(t){return t.content})).join("").replace("  "," ​")+h,l),d+=m.getSubStringLength(1,p.length),f+1>m.getNumberOfChars()||(i=m.getEndPositionOfChar(0).x,r.range(1,f+1).forEach((function(t,e){n=m.getEndPositionOfChar(t).x,p[e].width=n-i,i=n})),Object.assign(e,{charIdx:u+f-(g?1:0),width:d-(g?r.last(p).width:0)})),d)},Q=function(t){return Object.assign(t||{},{charIdx:0,width:0})},$=function(t,e){var i=t.runs.reduce((function(t,e){return t+e.spans.reduce((function(t,e,i){return t+J(e,0===i)}),0)}),0);return t.charX=i+e,t},J=function(t,e){return 0===r.last(t.dx)?(m.setAttribute("style","white-space:pre;"),m.setAttribute("text-rendering","geometricPrecision"),r.extend(m.style,t.domStyle,{fontFeatureSettings:'"liga" 1'}),m.textContent=h+t.content.join("")+h,r.first(t.dx)+m.getComputedTextLength()):r.first(t.dx)+(r.last(t.xs)+r.last(t.widths)+r.last(t.dx))-r.first(t.xs)};c.browser.isIE?$=function(t){return t}:(Z=function(t){return t.lineWidth},Q=function(){});var tt=function(t){var e,i,n,o,s,l,c,u,h=t.bulletChars,d=t.bulletWidth,p=t.lines||[],f=p[0],g=a.getPath(f,"chars.length",0),m=g>0&&f.isRtl!==f.chars[0].isRtl,v=m?r.last:r.first,S=m?r.initial:r.tail;return g>0&&(e=f.blockStyle,s=(o=N(e,!0,!0)).firstLineMargin-o.leadingMargin-d,i=v(f.chars),i=Object.assign({},i,{dx:Math.max(i.dx,i.dx+s)}),n=S(f.chars),p=[r.extend({},f,{width:f.width+s+(t.rtl?d:0),chars:(l=h,c=i,u=n,m?l.concat(u).concat(c):l.concat(c).concat(u))})].concat(p.slice(1))),p},et={left:0,right:1,center:.5,justify:0,leading:0,trailing:1},it={normal:r.identity,subscript:function(t,e){return t+e/2},superscript:function(t,e,i){return t-i+e}},nt=r.rest((function(t,e){return it[t].apply(null,e)})),rt=r.ary(r.partialRight(r.pick,["fill","stroke","y"]),1),ot=function(t){var e=t.lines,i=t.curr,n=t.next,o=t.x,s=r.omit(t,["lines","curr","next","x"]),a=r.last(e),l=i!==n,c=null!=a&&!r.isEqual(rt(a),rt(s));null!=a&&(l&&!n||c)&&null==a.x2&&(a.x2=o),(l||c)&&n&&e.push(r.extend({x1:o},s))},st=function(t){var i=t.ascent,n=t.blockIdx,s=t.descent,a=t.isBiDi,l=t.isLast,c=t.isRtl,u=t.marginLeft,h=t.domStyle,d=t.underlinePosition,p=t.underlineThickness,f=t.width,g=t.y,m=t.blockStyle.flowDirection,v=t.blockStyle.justification,S=t.charIdx,y=Math.abs(et[v]-("leftToRight"===m?0:1)),b=t.chars,w=b.reduce((function(t,e,i){var n=e.content,r=t.currTrailingSpaceIdx;return T(n)?0!==i&&T(b[i-1].content)||(r=i):r=i+1,{charX:t.charX+e.dx+e.width,trailingSpaceIdx:r}}),{charX:0,trailingSpaceIdx:-1}),x=w.charX,C=w.trailingSpaceIdx,E=null!=C?r(b).slice(C).reduce((function(t,e){return t+e.dx+e.width}),0):0,P=f-x+E,I=P*y-(c?E:0),A=r(b).slice(0,C).reduce((function(t,e){return t+(T(e.content)?1:0)}),0),L="justify"!==v||a||l?0:P/A,M=[],k=[],R=$(new e(b).flatMap(o().mark((function t(e,i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=4;break}M.unshift(e),t.next=6;break;case 4:return t.next=6,e;case 6:if(i!==b.length-1){t.next=8;break}return t.delegateYield(M,"t0",8);case 8:case"end":return t.stop()}}),t)}))).flatMap(o().mark((function t(e,i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isRtl===c){t.next=4;break}k.unshift(e),t.next=9;break;case 4:if(!(k.length>0)){t.next=7;break}return t.delegateYield(k,"t0",6);case 6:k=[];case 7:return t.next=9,e;case 9:if(!(i===b.length-1&&k.length>0)){t.next=11;break}return t.delegateYield(k,"t1",11);case 11:case"end":return t.stop()}}),t)}))).reduce((function(t,e,n){var o,a=e.content,l=e.dx,u=e.idx,h=e.isBulletChar,f=e.isRtl,m=e.isNewLine,v=e.runDomStyle,S=e.spanStyle,y=S.backgroundColor,b=S.elevation,w=S.fontIsUnderline,x=!w&&null!=S.linkId,E=S.fontIsStrikeout,P=S.shadow,I=S.underlineThickness,A=S.xHeight,M=S.linkId,k="".concat(S.linkId,"-").concat(n),R=e.domStyle,V=R.fill,O=R.fill,_=e.width,N=D(S),j=!h&&!m,B=null!=y&&""!==y&&j,F=(!!w||x)&&j,H=!!E&&j,G=null!=P,U=n>=C,W=t.charX,z=t.hasBackground,Y=t.hasShadow,q=t.linkId,X=t.letterSpacing,K=t.isStrikeThrough,Z=t.isUnderlined,Q=t.elevation,$=(c?r.first:r.last)(t.runs),J=(f?r.first:r.last)(r.get($,"spans")),tt=c?"unshift":"push",et=f?"unshift":"push";return G&&(t.anyShadows=!0),null!=$&&r.isEqual(v,$.domStyle)||($={isRtl:f,domStyle:v,spans:[]},t.runs[tt]($),J=void 0),null!=J&&Q===b&&X===S.spacing&&Y===G&&e.idx!==C&&q===M&&r.isEqual(R,J.domStyle)||(J={charIdx:u,content:[],dx:[],hasShadow:G,idxs:[],isNewLine:[],isTrailingSpace:U,domStyle:R,widths:[],xs:[],y:nt(b,g,N,i),linkId:M,linkRef:k},$.spans[et](J)),T(a)&&0!==L&&(l+=L,e=r.extend({},e,{dx:l})),J.content[et](a),J.dx[et](l),J.idxs[et](u),J.isNewLine[et](m),J.widths[et](_),J.xs[et](W),J.charIdx=Math.min(J.charIdx,u),o=J.y,ot({lines:t.strikethroughs,curr:K,next:H,x:W+l,y:o-A/2,stroke:V,strokeWidth:I}),ot({lines:t.underlines,curr:Z,next:F,x:W+l,y:o-d,stroke:O,linkId:M,linkRef:k,hiddenLinkUnderline:x,strokeWidth:p}),ot({lines:t.backgrounds,curr:z,next:B,x:W+l,y:g-i,height:i+s,fill:y}),ot({lines:t.linkBackgrounds,curr:null!=q,next:null!=M,x:W+l,y:g-i,height:i+s,linkId:M}),r.extend({},t,{charX:W+e.dx+e.width,hasBackground:B,hasShadow:G,letterSpacing:S.spacing,isStrikeThrough:H,isUnderlined:F,elevation:b,linkId:M})}),{linkBackgrounds:[],backgrounds:[],charX:u,hasBackground:!1,hasShadow:!1,isStrikeThrough:!1,isUnderlined:!1,anyShadows:!1,trailingSpaceIdx:-1,runs:[],strikethroughs:[],underlines:[]}),u),V=R.linkBackgrounds,O=R.backgrounds,_=R.runs,N=R.strikethroughs,j=R.underlines,B=R.anyShadows,F=R.charX;return{anyShadows:B,ascent:i,linkBackgrounds:V,backgrounds:O,blockIdx:n,charIdx:S,descent:s,isBiDi:a,isRtl:c,lineWidth:F,lineXOff:I,runs:_,strikethroughs:N,domStyle:h,trailingSpaceIdx:C,underlines:j,x:I+u+(F-u)/2,y:g}},at=function(t,e){return{maxLineWidth:Math.max(t.maxLineWidth,e.lineWidth),minLineXOff:Math.min(t.minLineXOff,e.lineXOff),lines:t.lines.concat([e])}},lt={top:0,center:.5,bottom:1},ct=function(t){var e=t.listStyle;return"none"!==(void 0===e?{listType:"none"}:e).listType},ut=function(t){var e=t.spans;return 0===e.length||1===e.length&&"\n"===e[0].text},ht=function t(i){var n,s,a,c,u,h,d,p,f=i.estimate,g=i.final,m=0,v=0,S=i.blocks,y=i.lastShrinkStep,b=i.defaultBlockStyle,x=b.baseSpanStyle,D=i.direction,C=i.textFontSizeShrink||0,E=i.scaleAttempt||0,P=Math.abs(i.width),T=Math.abs(i.height),I=[];if("horizontal"!==D){var A=P;P=T,T=A}if(0===S.length)return{textLines:[],maxLineWidth:0,textMtx:new l};if(u=new e(S).flatMap(o().mark((function t(e,i){var n,s,a,l,c,u,h,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.spans,s=e.runs,a=r.extend({},b,e.style),l=w(a),c=X(e,a,b,l,C,I,f),u=null!=c?c.bulletWidth:0,d=B({blockStyle:a,blockIdx:i,baseSpanStyle:x,estimate:f,fontSizeShrink:C,idx:v,isList:null!=c,runs:s,domStyle:l,spans:n,width:P,wrapText:true,y:m,bulletWidth:u,isFirst:0===i,isLast:i===S.length-1}),m=d.y,v=d.idx,h=d.lines,null==c){t.next=9;break}return t.delegateYield(tt({bulletChars:c.bulletChars,bulletWidth:u,lines:h,rtl:d.isBlockRtl}),"t0",7);case 7:t.next=10;break;case 9:return t.delegateYield(h,"t1",10);case 10:case"end":return t.stop()}}),t)}))).map(st).reduce(at,{maxLineWidth:0,minLineXOff:1/0,lines:[]}),E<=30){if((p=Math.floor(m)>T)||E>0&&y>1)return h=0===E?16:p?y:y/2,d=p?C+h:C-y+h,t(r.extend({},i,{textFontSizeShrink:d,estimate:!g,final:g,shrinking:!0,scaleAttempt:E+1,lastShrinkStep:h}));if(f)return t(r.extend({},i,{estimate:!1,final:!0,scaleAttempt:0}))}return n=u.maxLineWidth,s=u.minLineXOff,a=u.lines,c=function(t,e,i){var n=lt[i.valign];return(new l).translate(0,t*n).translate(0,-e*n)}(T,m,i),{textLines:a,textHeight:m,minTextLineXOff:s,maxTextLineWidth:n,textMtx:c}};return{parseVectorText:function(t,e){var i=t.width(),o=t.height(),a=t.valign();return null==g&&(g=s.createElement("svg"),m=s.createElement("text"),r.extend(g.style,{left:0,position:"fixed",top:0,visibility:"hidden"}),m.setAttribute("space","preserve"),m.setAttribute("text-rendering","geometricPrecision"),g.appendChild(m),n.addToLib(g)),ht({estimate:!1,final:!1,shrinking:!1,blocks:e.blocks,direction:e.direction,defaultBlockStyle:e.defaultBlockStyle,width:i,height:o,valign:a})},getLineHeight:v,adjustMargin:M,getListInfo:X}}.call(e,i,e,t),void 0===n||(t.exports=n)},143:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(9627),r=DS._,o=DS.errorManager,s=DS.detection,a=o.throwError("templateManager"),l=o.backtick,c=a("getTemplate"),u=l("templateName")+" argument empty",h={getTemplate:function(t){t||c(u),DS.flagManager.dropInAcc&&"Slide"===t&&(t="SlideDropInAcc");var e=function(t){var e=n[t+"Mobile"];return s.deviceView.isClassicMobile&&null!=e?e:n[t]}(t);return r.isUndefined(e)&&c("tried calling for an undefined template",l(t)),e}};return e.setTemplateManager(h),h}.call(e,i,e,t))||(t.exports=n)},1862:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r,o=i(3986),s=DS._,a=DS.vow,l=DS.constants,c=DS.utils,u=DS.detection,h=DS.dom,d=DS.slidesController,p=DS.globalEventHelper,f=p.addBodyListener,g=p.removeBodyListener,m=l.TINY_VIDEO,v=u.os.isIOS||u.browser.isSafariMac&&u.device.isDesktop?window.globals.maxIosVideoElements:200,S=u.device.mobile?["touchend","click"]:["click"],y=[],b=[],w=function(t){t.pause(),null!=t.hlsPlayer&&(t.hlsPlayer.destroy(),t.hlsPlayer=null),t.lastSrc=null,t.src=m,t.load()},x=function(t){var e=null!=t.parentNode,i=e&&h.hasClass(t.parentNode,"offscreen"),n=y.some((function(i){return i.el.contains(t)&&e&&!c.getPath(i.props,"isPlaying",!0)}));(n||!e||i)&&(t.pause(),n||w(t))},D=function(t,e,i){i=i||s.noop,null!=e?e.then((function(){x(t),i()})).catch((function(){x(t),i(!0)})):(x(t),i())},C=new Event(DS.events.videoManager.PLAY),E=new Event(DS.events.videoManager.PAUSE),P=function(){var t=document.createElement("video"),e=function e(){D(t,t.play()),S.forEach((function(t){return g(t,e)}))};t.dataset.videoId=s.uniqueId("video"),t.origPlay=t.play,t.origPause=t.pause,t.playing=!1,t.play=function(){return t.playing||(t.playing=!0,t.dispatchEvent(C)),t.origPlay()},t.pause=function(){t.playing&&(t.playing=!1,t.dispatchEvent(E)),t.origPause()},t.loadVideo=function(e){var i="m3u8"===s.last(e.split("."));if(i&&u.env.isFileProtocol)return!0;if(i&&window.Hls.isSupported()){if(null!=t.hlsPlayer&&t.lastSrc===e&&4===t.readyState)return!0;t.hlsPlayer&&t.hlsPlayer.destroy(),t.hlsPlayer=new window.Hls,t.hlsPlayer.loadSource(e),t.hlsPlayer.attachMedia(t),t.lastSrc=e}else t.hlsPlayer&&t.hlsPlayer.destroy(),t.lastSrc!==t.src&&(t.lastSrc=e,t.src=e,t.load(),t.origPlay().finally((function(){t.playing||t.origPause()})).catch((function(t){})));return!1},t.src=m,t.tabIndex=-1,t.setAttribute("preload","auto"),u.device.isMobile&&(t.setAttribute("playsinline",1),t.setAttribute("webkit-playsinline","true")),r.appendChild(t),t.load(),D(t,t.play()),DS.presentation.isPreview()||S.forEach((function(t){f(t,e)}))};return{initialize:function(t){return r=o.getVideoPen(),new Promise((function(i){e=t.assetLib(),n=e.getVideoCount(),s.times(Math.min(v,n),P),function(t,e){if(u.device.isPhone||0===e)t();else{var i=r.firstElementChild,n=i.play();D(i,n,t)}}((function(r){var o=!1,s=t.slideMap();if(n>0&&r&&null!=DS.presentation){var a=d.getSlide(d.getEntrypoint());o=null==a||s.getRefById(a.fullId()).assetIds().some((function(t){return"video"===e.find({id:t}).type()}))}i(o)}),n)}))},getVideoElement:function(t,e){if("VideoPlayer"===t.displayName){var i=t.getVideoUrl(),n=y.find((function(t){return"VideoLoader"===t.displayName&&t.isElementOwner&&t.getVideoUrl()===i}));if(n)return n.assignNewOwner(t)}var o=r.firstElementChild;if(null!=o)return r.removeChild(o),y.unshift(t),o;if(e||t.loadForView&&"VideoLoader"===t.displayName){var a=DS.windowManager.getCurrentWindowSlide(),l=c.getPath(a,"id","empty"),u=y.filter((function(t){return"VideoPlayer"===t.displayName})).sort((function(t){var e=0;return l!==t.slideId&&(e+=4),t.isTrulyVisible()||(e+=2),(t.isPaused||t.ended())&&(e+=1),e})),h=s.last(u);if(null!=h)return s.pull(y,h),o=h.retrieveVideo(),y.unshift(t),o}},requestVideoEl:function(t,e){s.remove(b,(function(e){return e.obj===t}));var i=a.Deferred(),n=this.getVideoElement(t,e);return null!=n?i.resolve(n):b.unshift({dfd:i,obj:t}),i.promise()},updateElementOwner:function(t,e){s.pull(y,t),y.unshift(e)},putVideoInPen:function(t,e){s.pull(y,e),w(t),r.insertBefore(t,r.firstElementChild),this.getNextInLine()},getNextInLine:function(){var t;b.length>0&&(t=b.pop()).dfd.resolve(this.getVideoElement(t.obj))},prepare:function(){s.toArray(r.childNodes).forEach((function(t){t.readyState===t.HAVE_NOTHING&&t.networkState===t.NETWORK_EMPTY&&r.removeChild(t)}))}}}.call(e,i,e,t))||(t.exports=n)},8289:function(t,e,i){var n;void 0===(n=function(t){"use strict";DS._;var e=DS.errorManager,i=e.throwError("actionable");e.warn("actionable");return{triggerAction:function(t,e){var n=t&&t.kind;return n||i("triggerAction","Cannot execute action without `kind`"),this.trigger("action:"+n,t,e),this}}}.call(e,i,e,t))||(t.exports=n)},5505:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS,i=e.events,n=e.captionsManager,r=e.utils,o=e.pubSub;return{componentWillMount:function(){var t=this;DS.flagManager.multiLangSupport?(this.updateCaptions(),this.removeUpdateListener=o.addListener(i.captions.LANGUAGE_UPDATED,(function(){t.clearCaptions(),t.updateCaptions(),t.adjustCaptions()}))):(this.captions=n.getCaptions(this.getAssetId()),this.hasCaptions=null!=this.captions,this.hasCaptions&&(this.currentCaptions=[]))},componentDidMount:function(){var t=this.props.model||this.props.slideObjectModel;this.slideOwner=t.getSlide(),this.slideId=this.slideOwner.id,n.mount(this,this.slideId)},componentWillUnmount:function(){this.clearCaptions(),n.unmount(this,this.slideId),null!=this.removeUpdateListener&&this.removeUpdateListener()},updateCaptions:function(){this.captions=n.getCaptions(this.getAssetId()),this.hasCaptions=null!=this.captions,this.hasCaptions&&(this.currentCaptions=[])},adjustCaptions:function(){var t=this,e=this.slideOwner.currView.props.slideContainer;if(null!=e&&this.hasCaptions&&this.props.objectVisible&&this.props.slideVisible){var n=this.getCurrentTime();this.currentCaptions.length>0&&(this.currentCaptions=this.currentCaptions.reduce((function(t,o){return r.isWithinRange(o.startTime,o.endTime,n)?t.push(o):e.trigger(i.captions.REMOVE,o.getCueAsHTML()),t}),[])),DS._.difference(this.captions,this.currentCaptions).forEach((function(o){r.isWithinRange(o.startTime,o.endTime,n)&&(t.currentCaptions.push(o),e.trigger(i.captions.ADD,o.getCueAsHTML()))}))}return this},clearCaptions:function(){var t=r.getPath(this.slideOwner,"currView.props.slideContainer");return null!=t&&this.hasCaptions&&this.currentCaptions.length>0&&this.currentCaptions.forEach((function(e){t.trigger(i.captions.REMOVE,e.getCueAsHTML())})),this.currentCaptions=[],this}}}.call(e,i,e,t))||(t.exports=n)},8656:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.resolver,n=DS.errorManager,r=(n.throwError("varPropListenable"),n.backtick,function(t,e){return e.kind===t}),o=e.partial(r,"onvarchanged"),s=e.partial(r,"onpropchanged"),a=function(t){return["change",t].join(":")};return{setVarAndPropListeners:function(){var t,n,r=this.events();return[].concat((t=this,n=e.sortBy(r.filter(o),"priority").reverse(),e.invokeMap(n,(function(){var e=this,n=a("value"),r=i.resolvePath(e.varname,t),o=function(){t.executeFilteredPlayerEvent((function(t){return t===e}),"onvarchanged")};return null!=r&&t.listenTo(r,n,o),{listener:t,obj:r,event:n,callback:o}}))),function(t,n){return e.invokeMap(n,(function(){var e=this,n=i.resolvePath(e.objRef,t),r=e.propname,o=n.prop(r),s=a(r),l=n.getPlayerProps(),c=function(){window.requestAnimationFrame((function(){o!==n.prop(r)&&(o=n.prop(r),t.executeFilteredPlayerEvent((function(t){return t===e}),"onpropchanged"))}))};return t.listenTo(l,s,c),{listener:t,obj:l,event:s,callback:c}}))}(this,e.sortBy(r.filter(s),"priority").reverse()))}}}.call(e,i,e,t))||(t.exports=n)},1270:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(3531),n=DS._;return DS.BaseModel.extend({shorthand:["duration"],associations:{tweens:e},buildConfig:function(){var t={isWipe:!!this.get("wipetrans"),pushDir:this.get("pushdirection"),duration:this.get("duration"),tweens:this.tweens().buildTweens(),updateConfig:function(){t.tweens.forEach((function(t){n.forOwn(t.tweenAttrs,(function(t){t.update()}))}))}};return t},getConfig:function(t){return this.config=this.config||this.buildConfig(),this.config.updateConfig(),Object.assign(this.config,t)}})}.call(e,i,e,t))||(t.exports=n)},8432:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(347),n=i(4525),r=i(8674),o=i(7512),s=i(9901),a=i(5114),l=DS._,c=DS.utils,u=DS.vow,h=DS.BaseModel,d=DS.detection,p={img:"swf png jpg jpeg gif bmp".split(" "),video:"flv mov mp4 avi m3u8 webm".split(" "),audio:"mp3".split(" "),js:"js".split(" ")},f={audio:e,video:r,js:o,jssvg:s},g={};return h.extend({shorthand:["url","type","width","height","mobiledx","mobiledy","captions"],initialize:function(){var t=this.url();d.env.isFileProtocol&&null!=this.get("localUrl")?t=this.get("localUrl"):d.device.isPhone&&!l.isEmpty(this.get("lowResUrl"))&&(t=this.get("lowResUrl")),null!=t&&t.startsWith("data:")||this.url(c.resolveAssetUrl(t)),this.inferType()},ext:function(){return l.last(this.url().split("."))},isValid:function(){return"swf"!==this.ext()},inferType:function(){var t=this,e=l.reduce(p,(function(e,i,n){return l.includes(i,t.ext())?n:e}),null);return"js"===e&&"jssvg"===this.get("jsType")&&(e="jssvg"),this.type(e),this},load:function(t){if(null!=this.currentLoader)return this.currentLoader.promise;var e,i,r,o=this.type(),s="audio"===o,l=this.isLoaded||g[this.url()],c=s&&a.useAudioApi();if(!this.isValid()||l&&!t&&!c)return this.isLoaded=!0,(i=(e=u.Deferred()).resolve().promise()).dfd=e,i;!c&&s&&(g[this.url()]=!0);var h=f[o]||n;return this.currentLoader=r=new h({type:this.type(),url:this.url(),id:this.id,loadForView:t,dataId:this.get("dataId")}),r.promise.then(function(){this.isLoaded=!0}.bind(this)).always(function(){r.teardown(),this.currentLoader=null}.bind(this)),r.promise.dfd=r.dfd,r.promise}})}.call(e,i,e,t))||(t.exports=n)},7930:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8289),n=i(6),r=i(7875),o=i(107);return DS.BaseModel.extend({shorthand:["assetId","events"],mixins:[e,r,n],abilities:{resolveAsThis:!0,resolveAsParent:!1,beEventTarget:!0},playerPropNames:{isTimelineControlled:!1,isPlaying:!1,resumeOnTimelinePlay:!1},getSlide:function(){return this.getClosestAncestorByKind("slide")},getAsset:function(){return o.getAsset(this.assetId())},getUrl:function(){return this.getAsset().url()},getDuration:function(){return this.getAsset().get("duration")},getResumeData:function(t){var e="",i=0;return(t||this.getSlide().resume())&&(i+=this.prop("isTimelineControlled")?1:0,i+=this.prop("isPlaying")?2:0,e=(i+=this.prop("resumeOnTimelinePlay")?4:0).toString()),e},setResumeData:function(t,e){(e||this.getSlide().resume())&&(t=parseInt(t,10),this.prop({isTimelineControlled:!!(1&t),isPlaying:!!(2&t),resumeOnTimelinePlay:!!(4&t)}))},resetBeforeView:function(){this.resetProps()}})}.call(e,i,e,t))||(t.exports=n)},9620:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(347),n=i(5114),r=DS._,o=DS.appState,s=DS.events,a=DS.BaseModel,l=DS.vow,c=function(t){return["presentation_content",t].join("/")},u=l.Deferred().resolve().promise(),h=l.Deferred().reject();return h.catch((function(t){return t})),h=h.promise(),a.extend({initialize:function(){this.clips={},this.onClipEndedDelegate=this.onClipEnded.bind(this),this.listenTo(o,s.volume.CHANGE_CURRENT,this.onVolumeChanged)},isPlaying:function(){return null!=this.currentlyPlayingIdx},getRelativeVolume:function(t){return this.get("volume")*t/100},play:function(){return this.get("filenames").length>0&&this.playIdx(0),this},playIdx:function(t){var e=this.get("filenames")[t],i=n.loadUrl(c(e),"playlist"+t);return i.on(s.audioClip.ENDED,this.onClipEndedDelegate),i.setVolume(this.getRelativeVolume(o.currentVolume())),i.play(),this.clips[t]=i,this.currentlyPlayingIdx=t,this.preloadNext(),this},stop:function(){return Object.keys(this.clips).forEach(this.stopIdx.bind(this)),this.currentlyPlayingIdx=null,this},stopIdx:function(t){var e=this.clips[t];return e.off(s.audioClip.ENDED,this.onClipEndedDelegate),e.destroy(),this.clips[t]=null,this},pause:function(){return this.isPlaying()&&!this.isPaused&&(this.clips[this.currentlyPlayingIdx].pause(),this.isPaused=!0),this},resume:function(){return this.isPlaying()&&this.isPaused&&(this.clips[this.currentlyPlayingIdx].play(),this.isPaused=!1),this},load:function(){return this.get("filenames").length>0?this.loadIdx(0):u},loadIdx:function(t){var i=c(this.get("filenames")[t]),n=new e({type:"audio",url:i});return n.promise.always(n.teardown.bind(n))},preloadNext:function(){var t=this.currentlyPlayingIdx+1;if(t>=this.get("filenames").length){if(!this.get("loop"))return h;t=0}return t===this.currentlyPlayingIdx?h:this.loadIdx(t)},onClipEnded:function(){var t=this.currentlyPlayingIdx+1;if(t>=this.get("filenames").length){if(!this.get("loop"))return void this.stopIdx(this.currentlyPlayingIdx);t=0}this.currentlyPlayingIdx!==t?(this.stopIdx(this.currentlyPlayingIdx),this.playIdx(t)):this.clips[this.currentlyPlayingIdx].seek(0).play()},onVolumeChanged:function(t,e){r.invokeMap(this.clips,"setVolume",this.getRelativeVolume(e))}})}.call(e,i,e,t))||(t.exports=n)},6294:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2070),n=DS,r=n.BaseModel,o=n.windowManager;return r.extend({associations:{windows:e},shorthand:["width","height"],getWindowById:function(t){return t===o.PRINT_WINDOW?{kind:"window",id:o.PRINT_WINDOW}:this.windows().get(t)}})}.call(e,i,e,t))||(t.exports=n)},4585:function(t,e,i){var n;n=function(t){"use strict";var e=i(4214),n=DS._,r=DS.Chunk,o=DS.utils,s=DS.constants,a=o.createSuper(e),l=function(t,e){return t&e?t-e:t},c=e.extend({variableProps:{SelectedItem:{type:s.varTypes.NUM,value:-1}},buildResumeData:function(){var t,e;return e=a("buildResumeData").apply(this,arguments),"wordbank"===this.get("style")&&this.prop("SelectedItem")>=0&&(t=r.fromUnsignedString64(this.encodedResumeData.slice(0,3)),t=l(t,4),t=l(t,512),this.encodedResumeData=r.toUnsignedString64(t,3)+this.encodedResumeData.slice(3)),e},unDrop:function(){n.result(this,"currView.refs.innard.unDrop")},resetForSeek:function(){var t=a("resetForSeek").apply(this,arguments);return this.unDrop(),t},onPlayerReset:function(){var t=a("onPlayerReset").apply(this,arguments);return this.unDrop(),t},resetObjectBeforeResume:function(){var t=a("resetObjectBeforeResume").apply(this,arguments);return this.unDrop(),t}});return c}.call(e,i,e,t),void 0===n||(t.exports=n)},8913:function(t,e,i){var n;n=function(t){"use strict";var e=i(4214),n=DS._,r=DS.utils,o=DS.constants,s=(DS.BaseModel,r.createSuper(e)),a=e.extend({variableProps:{SelectedItemIndex:{type:o.varTypes.NUM,value:-1}},initialize:function(){this.origItemsList=r.getPath(this,"data.itemlist").slice(),this.itemslist=this.origItemsList.slice(),this.hiderParents=[],this.createIdxHash(),this.shuffleItems()},createIdxHash:function(){this.itemsIdx=this.itemslist.reduce((function(t,e,i){return t[e.itemdata]=i,t}),{})},shuffleItems:function(){this.get("shuffle")&&(this.itemslist=n.shuffle(this.itemslist))},setResumeData:function(){s("setResumeData").apply(this,arguments);var t=this.prop("SelectedItemIndex");t>=0&&this.prop("SelectedItemData",this.origItemsList[t].itemdata)}});return a}.call(e,i,e,t),void 0===n||(t.exports=n)},2390:function(t,e,i){var n;n=function(t){"use strict";var e=i(4214),n=DS._,r=DS.utils,o=DS.constants,s=r.createSuper(e),a=e.extend({variableProps:{SelectedItem:{type:o.varTypes.NUM,value:-1}},setResumeData:function(){s("setResumeData").apply(this,arguments);var t=r.getPath(this,"currView.refs.innard");n.result(this,"currView.isMounted",!1)&&this.currView.htmlReady(t.resumeReview)}});return a}.call(e,i,e,t),void 0===n||(t.exports=n)},252:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(3697),n=DS._,r=DS.utils,o=DS.constants;return e.extend({shorthand:["colors","background","borderColor"],isGroupingContainer:!0,initialize:function(){this.addExtraVariables().setupLabelColors()},addExtraVariables:function(){return this.variables().addVariable({name:"_expanded",type:o.varTypes.BOOL,value:!1}),this},setupLabelColors:function(){var t=n(this.colors()),e=t.find({name:"border"}),i=t.find({name:"bg"});if(e){var o=n.first(e.fill.colors),s=r.toRgba(o.rgb,o.alpha);this.set("borderColor",s)}i&&this.set("background",i)}})}.call(e,i,e,t))||(t.exports=n)},3697:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4214),n=DS._,r=DS.utils.createSuper(e),o=r("resolveables").concat(["objects"]),s=n.defaults({groupObjects:!0},r("abilities"));return e.extend({resolveables:o,abilities:s,isGroupingSlideObject:!0,resolvers:{objects:function(t,e){return e.findNestedObject(t)}},getCorrectBounds:function(t,e){var i=t.getBounds(),r=t.prop("RawXPos"),o=t.prop("RawYPos");return n.extend({left:r,right:r+i.width,top:o,bottom:o+i.height,idx:e},n.pick(i,"height","width"))},killEverything:function(){r("killEverything"),this.objects().invoke("killEverything")}})}.call(e,i,e,t))||(t.exports=n)},2114:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e,n=i(8135),o=i(6294),s=i(5809),a=i(9472),l=i(6185),c=i(2981),u=i(4282),h=i(3306),d=i(874),p=(i(3035),i(4004)),f=i(3783),g=i(7875),m=i(6),v=i(8646),S=i(8634),y=i(8359),b=i(9481),w=i(7593),x=i(8289),D=i(8656),C=DS,E=C._,P=C.playerGlobals,T=C.vow,I=C.BaseModel,A=C.utils,L=C.captionsManager,M=C.errorManager,k=C.flagManager,R=C.events,V=C.pubSub,O=C.slideNumberManager,_=C.constants,N=C.detection,j=(N.theme,N.env.is360),B="_reviewScene",F=M.throwError("Presentation"),H=function(t){return!t.isMessageScene()},G=I.extend({mixins:[x,g,D],resolveables:["variables"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:u}});return I.extend({abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},mixins:[g,m],subscriptions:(e={},e[R.customlink.EVENT]="onCustomlink",e[R.actionlink.EVENT]="onActionlink",e[R.presentation.ON_OBJECT_EVENT]="onObjectAction",e[R.presentation.ON_BEFORE_SLIDE_JUMP]="onBeforeSlideJump",e[R.error.INTERFACE]="onInterfaceError",e[R.slide.HAS_CHANGED]="onSlideChanged",e[R.window.CLOSED]="onWindowClosed",e[R.data.INITIALIZED]="onDataInitialized",e),url:function(){return A.resolveDataUrl("data")},associations:{slideMap:n,display:o,scoring:s,scorings:c,variables:u,scenes:h,assetLib:d,globalaudiolib:S,quizzes:p,timers:f,audioplaylists:v},resolveables:["scenes","variables","actionGroups","quizzes","scorings","slideBank","timers"],shorthand:["entryPoint","resume","events","actionGroups","playerVars"],playerPropNames:{CurrentSlideId:null,LastErrorFeature:null},resolvers:{slideBank:function(t,e){return E.find(e.slides,{id:t})}},initialize:function(){P.presentation=this,j&&DS.flagManager.aiCourseTranslation&&V.on(R.localization.CREATE_REVIEW_SLIDE,this.createReviewSlide.bind(this))},createReviewScene:function(){this.scenes().add(new a({id:B},{parent:this}))},createReviewSlide:function(t){var e,i=this.get("slideBank"),n=null==i||null===(e=i.slides)||void 0===e?void 0:e.find((function(e){return e.id===t})),r=this.scenes().find((function(t){return t.id===B}));if(null!=n&&null!=r){var o=new l(n,{parent:r});o.createAbsoluteId(),r.slides().add(o),this.slideMap().addReviewRef(o),O.updateNumbering()}},getFirstSlide:function(){var t=this.scenes().getNonMessageScenes()[0],e=t.slides();return e.length>0?e.first():t.slidedraws().first().getFirstSlide()},getPlayerVarDefaultValues:function(){var t=this.get("playervars"),e={};return t.forEach((function(t){e[t.name]=t.value})),e},getDefaultFont:function(){return this.get("defaultFont")},getFontScale:function(){return this.get("fontScale")||100},createPlayerVars:function(){var t=this.getPlayerVarDefaultValues(),e="boolean",i="boolean",n="boolean",o=(_.varTypes.NUM,new G({variables:[{kind:"variable",name:"displayCaptions",type:e||"boolean",value:t.displayCaptions||!1,resume:!0},{kind:"variable",name:"accessibleText",type:i||"boolean",value:t.accessibleText||!1,resume:!1},{kind:"variable",name:"zoomToFit",type:n||"boolean",value:t.zoomToFit||!1,resume:!1},{kind:"variable",name:"hasPrevHistory",type:_.varTypes.BOOL,value:!1,resume:!1},{kind:"variable",name:"activityId",type:_.varTypes.STRING,value:A.getPath(DS,"lmsManager.getActivityId"),resume:!1},{kind:"variable",name:"slideElapsedTime",type:_.varTypes.NUM,value:0,resume:!1},{kind:"variable",name:"sceneElapsedTime",type:_.varTypes.NUM,value:0,resume:!1},{kind:"variable",name:"projectElapsedTime",type:_.varTypes.NUM,value:0,resume:!1},{kind:"variable",name:"questionCorrect",type:_.varTypes.BOOL,value:!1,resume:!1},{kind:"variable",name:"fullScreenMode",type:_.varTypes.BOOL,value:!1,resume:!1},{kind:"variable",name:"backgroundAudioVolume",type:_.varTypes.NUM,value:t.backgroundAudioVolume,resume:!1}].concat(r(k.multiLangSupport||k.aiCourseTranslation?[{kind:"variable",name:"langCode",type:_.varTypes.STRING,value:t.langCode||DS.localizationManager.getCurrentLangCode(),resume:!1}]:[])).concat(O.getPlayerVariables())}));this.playerVars(o)},onDataInitialized:function(){var t=this;b.setDataVersion(this.get("version")),w.setColorData(this.get("colorGroups")),j&&DS.flagManager.aiCourseTranslation&&this.createReviewScene();var e=E(this.scenes().models).invokeMap("slidedraws").map((function(t){return t.models})).flatten();e.some()?e.forEach((function(e){t.listenTo(e,R.draw.RESET_COMPLETE,t.onDrawSlidesCreated.bind(t))})):this.onDrawSlidesCreated(),null!=this.get("playervars")&&this.createPlayerVars()},onAfterSetResume:function(){null!=this.get("playervars")&&L.syncAfterResume()},getDrawPromise:function(){return null==this.drawPromise&&(this.drawPromise=T.after.apply(T,E.invokeMap(this.scenes().filter(H),"getDrawPromise"))),this.drawPromise},onDrawSlidesCreated:function(){var t=this;this.getDrawPromise().then((function(){t.createSlideIndices()}))},getFlatSlides:function(t){var e=null!=t?H:Boolean;return E(this.scenes().filter(e)).invokeMap("getAllSlides").flatten().value()},getUniqueSlides:function(){var t=this.getFlatSlides(!0),e={};return t.reduce((function(t,i){var n=i.getViewGroupId();return i.get("trackViews")&&null==e[n]&&(e[n]=!0,t.push(i)),t}),[])},createSlideIndices:function(){var t=0;this.scenes().forEach((function(e){e.slides().forEach((function(e){e.prop("Index",t++)})),e.slidedraws().forEach((function(e){var i=e.sliderefs();e.slides().forEach((function(e){e.prop("Index",t+E.findIndex(i,{id:e.id}))})),t+=i.length}))}))},onCustomlink:function(t){this.executePlayerEvent(t)},onActionlink:function(t){var e=A.getPath(E.find(this.get("actionlinks"),{id:t}),"actions");null==e?F("onActionLink","No action link with id",M.backtick(t)):y.executeActions(e,{context:this})},eventByName:function(t){return E.find(this.events(),(function(e){return e.eventname===t||e.eventName===t}))},onObjectAction:function(t){var e=this.eventByName(t);null!=e&&y.executeActions(e.actions,{context:this})},onBeforeSlideJump:function(t){var e=this.events().find((function(t){return"onbeforeslidejump"===t.kind}));null!=e&&y.executeActions(e.actions,t)},onInterfaceError:function(t){var e=this.get("errorMsgs").external_interface;this.prop("LastErrorFeature",t),V.trigger(R.request.NEXT_SLIDE,e.slideId,e.window)},onWindowClosed:function(){var t=DS.windowManager.getCurrentWindowSlide();if(null!=t){var e=A.stripPlayer(t.absoluteId);this.prop("CurrentSlideId",e)}},onSlideChanged:function(t,e){e||this.prop("CurrentSlideId",t)},isPreview:E.memoize((function(){return!!A.getPath(this,"preview.enabled")}))})}.call(e,i,e,t))||(t.exports=n)},9472:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(5653),n=i(543),r=i(4282),o=i(4436),s=i(6),a=DS._,l=DS.vow;return DS.BaseModel.extend({isScene:!0,mixins:[o,s],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slides:e,slidedraws:n,variables:r},resolveables:["slides","slidedraws","variables","actionGroups"],shorthand:["startingSlide","isMessageScene","sceneNumber"],initialize:function(){this.usedRefs=[]},addRef:function(t){this.usedRefs.push(t)},getRefs:function(){return this.usedRefs},hasDraws:function(){return this.slidedraws().length>0},resolveDfd:function(){this.drawDfd.resolve()},getDrawPromise:function(){var t=this.slidedraws().invoke("getSlidePromise");return this.drawDfd=l.Deferred(),l.after.apply(l,t).then(this.resolveDfd.bind(this)),this.drawDfd.promise()},getAllSlides:function(){var t=this.hasDraws()?a(this.slidedraws().pluck("slides")).invokeMap("slice").flatten().value():[];return this.slides().slice().concat(t)}})}.call(e,i,e,t))||(t.exports=n)},5809:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(6),r=DS._,o=DS.utils,s=DS.resolver,a=DS.constants,l=DS.BaseModel,c=DS.events,u=DS.pubSub,h=DS.flagManager,d=l.extend({mixins:[n],playerPropNames:{Score:0,PercentScore:0,Status:a.statuses.INCOMPLETE,Completed:!1},shorthand:["type","scoreRefs"],subscriptions:(e={},e[c.slide.VIEWED]="incrementViewed",e[c.slide.SLIDE_NUMBERS_UPDATED]="reportViewedIfPastThreshold",e[c.player.RESET]="reset",e),initialize:function(){this.viewedSlideGroups={},this.viewedSlides=0,u.once(c.data.INITIALIZED,this.setupRefs.bind(this))},setupRefs:function(){this.isExpandedTrackingAvailable=h.multipleQuizTracking,this.scoreRef=null!=this.scoreRefs()&&this.scoreRefs().length>0&&this.scoreRefs()[0],this.linkRef()},hasScoreRef:function(){return!!this.scoreRef},linkRef:function(){this.hasScoreRef()&&(this.quiz=this.getQuiz(this.scoreRef.ref),this.quiz.setScoring(this))},incrementViewed:function(t){this.viewedSlideGroups[t.getViewGroupId()]||(this.viewedSlideGroups[t.getViewGroupId()]=!0,this.viewedSlides++,this.reportViewedIfPastThreshold())},reportViewedIfPastThreshold:function(){this.isPastViewThreshold()&&this.isView()&&(u.trigger(c.course.VIEWED,this),this.updateStatus(!1))},getQuiz:function(t){return s.resolvePath(o.prefixWithPlayer(t),this)},isCourseComplete:function(){return this.isView()&&this.isPastViewThreshold()||this.isAction()&&this.isPassed()||!(!this.quiz||!this.quiz.getIsComplete())},isPastViewThreshold:function(){var t=this.get("viewThreshold"),e=this.viewedSlides;if(this.isExpandedTrackingAvailable){var i={menu:"menuSlidesViewed","project-numbered":"projectSlidesViewed"}[this.get("slidesViewedMode")];if(null!=i){var n=DS.presentation.playerVars().variables().get(i);null!=n&&(e=n.value())}}return e>=t},weightScore:function(t){return o.fix(t/this.get("weight"),2)},getStatus:function(){var t,e,i=a.statuses.INCOMPLETE;return this.isCourseComplete()&&(this.isView()||this.isAction()||this.isType("survey")?i=this.get("passStatus"):this.isType("quiz")&&(t=this.quiz.prop("PercentScore")>=this.quiz.passPercent(),i=this.get(t?"passStatus":"failStatus"),!this.scoreRef.mustpass&&t||(e=this.quiz.isPassed()?"passStatus":"failStatus",i=this.get(e)))),i},updateStatus:function(t){var e=!t,i=this.getStatus();this.prop("Status",i),e&&u.trigger(c.status.UPDATED)},updateScore:function(t){var e=0,i=0;this.quiz===t?(this.quiz.maxPoints>0&&(e=this.quiz.prop("Score"),i=this.quiz.prop("PercentScore")),this.prop({Score:e,PercentScore:i}),this.updateStatus()):this.quiz.updateScore()},setComplete:function(t){this.hasScoreRef()&&this.prop({Completed:this.quiz.getIsComplete()})},reset:function(){null!=this.quiz&&this.prop({Status:this.getStatus(),Score:this.quiz.prop("Score"),Completed:this.quiz.prop("Completed")})},checkCourseComplete:function(){var t=this.prop("Completed");this.updateStatus(),this.isCourseComplete()&&(this.setComplete(),t||this.isView()||u.trigger(c.course.COMPLETED,this,t))},isPassed:function(){return this.prop("Status")===this.get("passStatus")},getPercentScore:function(){return o.pctToDec(this.quiz.prop("PercentScore"))},markAttemptsSent:function(){this.quiz&&this.quiz.markAttemptsSent()},getViewedStatus:function(){return this.get(this.isPastViewThreshold()?"passStatus":"failStatus")}});return r.extend(d.prototype,{isView:r.partial(d.prototype.isType,"view"),isAction:r.partial(d.prototype.isType,"action"),isSurvey:r.partial(d.prototype.isType,"survey")}),d}.call(e,i,e,t))||(t.exports=n)},8529:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(9910),r=i(3697),o=i(7945),s=DS._,a=DS.utils,l=DS.resolver,c=a.createSuper(r),u=s.merge(c("shortEvents"),{self:(e={},e[o.UPDATE_SCROLL_POS]="updateScrollPos",e[o.UPDATE_SCROLL_HEIGHT]="updateScrollHeight",e)});return r.extend({mixins:[n],shorthand:["background","contentheight","contentwidth"],isGroupingContainer:!0,shortEvents:u,updateScrollPos:function(t,e){this.trigger("updateScrollPos",l.getRef(t.pos,e.context))},updateScrollHeight:function(t,e){this.contentheight(l.getRef(t.height,e.context)),this.trigger("updateScrollHeight")},getPathRef:function(){var t=this.background().vectorData;return t?t.pr:{}},getBounds:function(){var t=s(this.background().vectorData).pick("top","right","bottom","left").value(),e={xPos:t.left,yPos:t.top,right:t.right,bottom:t.bottom,fullX:t.left,fullY:t.top};return e.height=e.fullHeight=Math.abs(e.bottom-e.yPos),e.width=e.fullWidth=Math.abs(e.right-e.xPos),e}})}.call(e,i,e,t))||(t.exports=n)},4858:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4214),n=DS._,r=DS.utils,o=DS.constants,s=(DS.BaseModel,n.extend(n.range(10).reduce((function(t,e){return t["_pos"+e]={type:o.varTypes.STRING,value:"",resume:!1},t}),{}),{ItemOrder:{type:o.varTypes.STRING,value:""}}));return e.extend({variableProps:s,initialize:function(){this.hiderParents=[],this.setupItemsList()},setupItemsList:function(){var t;this.itemsListOrder=r.getPath(this,"data.itemlist").slice(),this.itemsIdx=this.itemsListOrder.reduce((function(t,e,i){return t[e.itemdata]=i,t}),{}),this.itemslist=n.shuffle(this.itemsListOrder),t=this.itemslist.reduce(function(t,e,i){return t+this.itemsIdx[this.itemslist[i].itemdata]}.bind(this),""),this.prop("ItemOrder")||this.prop("ItemOrder",t)},getIndexByData:function(t){return this.itemsIdx[t]}})}.call(e,i,e,t))||(t.exports=n)},7644:function(t,e,i){var n;n=function(t){"use strict";var e=i(4214),n=i(3697),r=DS._,o=DS.utils,s=DS.events,a=o.createSuper(e),l=function(t,e){t.prop("ShuffleXPos",e),t.prop("RawXPos",e)},c=function(t,e){t.prop("ShuffleYPos",e),t.prop("RawYPos",e)},u=function(t,e,i){return r.sortBy(i,t).every((function(i,n,r){var o=r[n-1];return!o||i[t]>=o[t]+.75*o[e]}))},h=r.partial(u,"top","height"),d=r.partial(u,"left","width"),p=function(t,e,i,n,o){var s=t[n],a=this.getCorrectBounds(s),l=t[n-1],c=l&&this.getCorrectBounds(l),u=r.partial(e.updateDefaultCoord,s),h=r.partial(e.updateAltCoord,s);if(0===n)u(i[e.origin]),o.length>1&&"endpoint"===o[1].altAlign?h(i[e.altEndpoint]-a[e.dimension]):h(i[e.altOrigin]);else switch(u(c[e.endpoint]+i.defaultSpacing),i.altAlign){case"origin":h(c[e.altOrigin]);break;case"endpoint":h(c[e.altEndpoint]-a[e.dimension]);break;case"oOffset":h(c[e.altOrigin]+i.altSpacing);break;case"eOffset":h(c[e.altEndpoint]+i.altSpacing)}},f=function(t,e,i){var n=t[i];l(n,e.left),c(n,e.top)},g=r.defaults({resolveAsParent:!1,groupObjects:!0},a("abilities")),m=n.extend({abilities:g,initialize:function(){a("initialize").apply(this,arguments),this.shouldShuffle=!0,this.listenTo(this.getSlide(),s.resume.APPLIED,this.markAsResumed),this.listenTo(this.getSlide(),s.resume.COMPLETE,this.resumeComplete),this.get("shuffle")&&this.setShuffleBounds().determineSpacing().sortBoundsFromSpacing().shuffleAndLayout()},markAsReset:function(){this.shouldShuffle=!0},markAsResumed:function(){this.shouldShuffle=!1},resumeComplete:function(){this.shouldShuffle&&this.shuffleAndLayout()},shuffleAndLayout:function(){return this.get("shuffle")&&this.shuffleObjects().setSpacing().setShuffledPositions().setTabIndices(),this},setShuffleBounds:function(){return this.originalBounds=this.objects().map(this.getCorrectBounds),this},getShuffledArray:function(){return this.shuffledObjectIndices.map(function(t){return this.objects().at(t)}.bind(this))},shuffleObjects:function(){var t=r.shuffle(this.objects().slice());return this.repositionLockedItems(t),this.shuffledObjectIndices=t.map(function(t){return this.objects().indexOf(t)}.bind(this)),this},repositionLockedItems:function(t){this.objects().forEach(function(e,i){if(function(t){return o.isTrue(t.get("shuffleLock"))}(e)){var n=r.findIndex(this.originalBounds,{idx:i}),s=t[n],a=t.indexOf(e);t[n]=t[a],t[a]=s}}.bind(this))},determineSpacing:function(){return h(this.originalBounds)?this.spacing="vertical":d(this.originalBounds)?this.spacing="horizontal":this.spacing="none",this},sortBoundsFromSpacing:function(){var t="vertical"===this.spacing?"top":"left";return this.originalBounds=r.sortBy(this.originalBounds,t),this},setSpacing:function(){if("none"===this.spacing)return this.positionCallback=r.partial(f,this.getShuffledArray()),this;var t=this.originalBounds,e="vertical"===this.spacing,i=e?c:l,n=e?l:c,o=e?"top":"left",s=e?"left":"top",a=e?"bottom":"right",u=e?"right":"bottom",h=e?"height":"width";t.forEach((function(e,i){var n=t[i-1];n&&(e.defaultSpacing=e[o]-n[a],e[s]===n[s]?e.altAlign="origin":e[u]===n[u]?e.altAlign="endpoint":e[s]>n[u]?(e.altAlign="oOffset",e.altSpacing=e[s]-n[s]):(e.altAlign="eOffset",e.altSpacing=e[s]-n[u]))}));var d={updateDefaultCoord:i,updateAltCoord:n,origin:o,altOrigin:s,endpoint:a,altEndpoint:u,dimension:h};return this.positionCallback=r.partial(p.bind(this),this.getShuffledArray(),d),this},setShuffledPositions:function(){return this.originalBounds.forEach(this.positionCallback),this},setTabIndices:function(){var t=this,e=function t(e,i){e.forEach((function(e){i(e),null!=e.objects&&t(e.objects(),i)}))},i=function(t){return!1!==t.get("tabEnabled")||"textinput"===t.kind()},n=this.originalBounds.map((function(e){return t.objects().at(e.idx)})),r=this.shuffledObjectIndices.map((function(e){return t.objects().at(e)})),o=[],s=0;return e(n,(function(t){var e=t.get("tabIndex");-1!==e&&i(t)&&o.push(e)})),e(r,(function(t){-1!==t.get("tabIndex")&&i(t)&&t.prop("tabIndex",o[s++])})),this}});return m}.call(e,i,e,t),void 0===n||(t.exports=n)},6185:function(t,e,i){var n;n=function(t){"use strict";var e=i(7945),n=i(7875),r=i(8289),o=i(8656),s=i(9910),a=i(6),l=i(3450),c=i(1060),u=i(4282),h=i(4680),d=i(107),p=i(8287),f=i(1122),g=i(1958),m=i(6536),v=DS._,S=DS.BaseModel,y=DS.playerGlobals,b=DS.Chunk,w=DS.pubSub,x=DS.events,D=DS.constants,C=DS.utils,E=DS.vow,P={};P[D.statuses.INCOMPLETE]=1,P[D.statuses.INCORRECT]=2,P[D.statuses.CORRECT]=3,P[D.statuses.NEUTRAL]=4;var T,I,A=function(t,e){return P[t]-P[e]},L=S.extend({isSlide:!0,containsVideoAssets:null,containsZoomRegion:null,mixins:[n,r,l,a,o,s],shorthand:["fullId","currentTimeline","resume","events","actionGroups","background","includeInSlideCounts","slideNumberInScene"],playerPropNames:{Viewed:!1,WindowId:null,LastKeyCodeString:null,LastKeyCode:-1,LastKeyValue:null,LastKeyCtrl:!1,LastKeyShift:!1,LastKeyAlt:!1},resolveables:["slideLayers","variables","actionGroups","interactions"],resolvers:{slideLayers:function(t,e){var i=e.getBaseLayer();return i.objects().get(t)||i.audiolib().get(t)||i.objects().findNestedObject(t)}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{slideLayers:c,variables:u,interactions:h},shortEvents:{self:(I={},I[e.ZOOMPAN]="zoomPan",I),slideLayers:function(){var t={};return t[x.timeline.CHANGED]="onTimelineChanged",t[x.slide.ALL_TIMELINES_COMPLETE]="onAllTimelinesEnded",t}(),interactions:function(){var t={};return t[x.interaction.EVALUATED]="onInteractionEvaluated",t}()},subscriptions:(T={},T[x.slide.PAUSE_TIMELINE]="onPauseTimeline",T[x.slide.PLAY_TIMELINE]="onPlayTimeline",T),initialize:function(t){var e=[this.parent.id,this.id].join(D.PATH_DELIMITER);this.coreState=v.clone(t),v.assign(this.coreState,{fullId:e,interactions:this.interactions()}),this.elapsedTime=0,this.viewed=!1,this.quizzes=[],this.loadedDfd=E.Deferred(),this.fullId(e),this.onResetCurrentTimelineDelegate=this.onResetCurrentTimeline.bind(this),this.onTimelineCompleteDelegate=this.onTimelineComplete.bind(this),this.layerTimelinesCompleted=[]},title:function(){var t=this.get("title");if(DS.flagManager.multiLangSupport){var e=this.get("titleL10nRef");t=DS.localizationManager.getStringFromRef(e)||t}return DS.flagManager.aiCourseTranslation?DS.translationStore.getUpdatedTextData("slideName","".concat(this.id,"-Name"),t):t},buildFlatDepths:function(){var t=this;this.slideLayers().forEach((function(e){t.currLayerDepth=0,t.flattenObjDepths(e.objects()),e.depthOffset=t.currLayerDepth}))},flattenObjDepths:function(t){var e=this;t.sortBy((function(t){return t.prop("depth")})).forEach((function(t){t.layerDepth=e.currLayerDepth++,null!=t.objects&&e.flattenObjDepths(t.objects())}))},beforeSlideOut:function(){this.storeInteractionResults(),this.destroyed=!0,this.removeVariableChangeSubscriptions()},resetModel:function(){null!=this.url()&&C.stripPlayer(this.absoluteId)!==y.presentation.prop("CurrentSlideId")&&(this.killEverything(),this.loadedDfd=E.Deferred(),this.clear({silent:!0}).set(this.coreState,{silent:!0}).buildAssociations().resetCurrentTimeline().rebindShortEvents())},resetCurrentTimeline:function(t){return this.setCurrentTimeline(this.getBaseLayer().timeline(),t),this},url:function(){return this.get("html5url")},backgroundImageUrl:function(){return d.getAssetUrl(this.background().imagedata.assetId)},isLoaded:function(){return E.isResolved(this.loadedDfd)},isMessageSlide:function(){return this.getScene().isMessageScene()},load:function(){var t,e=this.loadedDfd,i=p.load(this),n=f.load(this.get("globalAudioId"));return this.isLoaded()?(e=E.Deferred(),E.when(i,n).then(e.resolve.bind(e,this))):(t=e.resolve.bind(e,this),this.isMessageSlide()?t():E.when(this.fetch(),i,n).then(t)),e.promise()},loadSlideAssets:function(){d.clearAllAssets();var t=y.presentation.slideMap().getRefById(this.absoluteId);return null!=t?t.loadAssets(!0):E.Deferred().resolve()},getBaseLayer:function(){return this.slideLayers().getBaseLayer()},getScene:function(){return this.getClosestAncestor((function(t){return t.isScene}))},getSlideDraw:function(){return this.getClosestAncestor((function(t){return t.isSlideDraw}))},getSceneOrDraw:function(){return this.getSlideDraw()||this.getScene()},getViewGroupId:function(){var t=this.get("viewGroupId");return t.length>0?t:this.id},getRelativeId:v.constant(D.refs.CURRENT_SLIDE),getHitType:v.constant(D.SLIDE_HIT),getTransitionAnimation:function(){if(this.get("showAnimationId"))return this.getBaseLayer().animations().find({id:this.get("showAnimationId")})},zoomPan:function(t,e){this.trigger("zoompan",{action:t,event:e})},triggerAction:function(t){return r.triggerAction.apply(this,arguments),r.triggerAction.apply(this.getBaseLayer(),arguments),this},onTimelineChanged:function(t){this.setCurrentTimeline(t)},onAllTimelinesEnded:function(){this.getClosestThisRef().executePlayerEvent("onallopentimelinescomplete")},setAsViewed:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.viewed=!0,this.prop("Viewed",!0),this.interactions().forEach((function(t){t.setAsViewed(!0)})),!t&&this.get("trackViews")&&w.trigger(x.slide.VIEWED,this),this},restoreViewed:function(){return this.viewed=!0,this.interactions().forEach((function(t){t.viewed=!0})),this},hasInteractions:function(){return this.interactions().length>0},setQuiz:function(t){this.quizzes.push(t)},onInteractionEvaluated:function(t,e){this.updateInteractionData(),e||this.prepareResumeData({retainState:!0})},storeInteractionResults:function(){return this.interactions().forEach((function(t){t.initialAttemptCount===t.prop("AttemptCount")&&(t.responsesBuiltOnExit=!0,t.updateUserResponse())})),this},getInteractionAttempted:function(){var t=!1,e=this.interactions&&this.interactions();return e&&e.length>0&&(t=e.reduce((function(t,e){return t&&e.prop("AttemptCount")>0}),!0)),t},getInteractionStatus:function(){var t,e,i=this.interactions&&this.interactions();return i&&i.length>0&&(e=i.reduce((function(t,e){return t[e.prop("Status")]=!0,t}),{}),t=Object.keys(e).sort(A)[0]),t},getVariableChangeSubscriptions:function(){return null==this.varAndPropSubscriptions&&(this.varAndPropSubscriptions=null==this.events()?[]:this.setVarAndPropListeners(),this.slideLayers().forEach(function(t){null!=t.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,t.setVarAndPropListeners()),t.objectIndex.forEach(function(t){null!=t.events()&&Array.prototype.push.apply(this.varAndPropSubscriptions,t.setVarAndPropListeners())}.bind(this))}.bind(this))),this},removeVariableChangeSubscriptions:function(){return null!=this.varAndPropSubscriptions&&(this.varAndPropSubscriptions.forEach((function(t){t.listener.stopListening(t.obj,t.event,t.callback)})),this.varAndPropSubscriptions=null),this},calculateTotalScale:function(){var t=DS.flagManager.slideLevelScale?C.getPath(this.currView,"props.slideWinScale",1):C.getPath(this.currView,"props.winScale",1);return 1/(t*=null!=this.pinchZoomScale?this.pinchZoomScale:1)},setCurrentTimeline:function(t){var e=this.currentTimeline();return null!=e&&(e.off(x.timeline.RESET,this.onResetCurrentTimelineDelegate),e.off(x.timeline.COMPLETE,this.onTimelineCompleteDelegate)),this.currentTimeline(t),t.on(x.timeline.RESET,this.onResetCurrentTimelineDelegate),t.on(x.timeline.COMPLETE,this.onTimelineCompleteDelegate),t.completed&&this.onTimelineComplete(),this.trigger(x.slide.CURRENT_TIMELINE,t,this),this},onPauseTimeline:function(){this.wasPlaying=[],this.slideLayers().forEach(function(t){t.getIsTimelinePlaying()&&this.wasPlaying.push(t)}.bind(this)),this.slideLayers().pauseAll(!0)},onPlayTimeline:function(){this.wasPlaying&&this.wasPlaying.forEach((function(t){t.timeline().play()}))},onResetCurrentTimeline:function(){var t=this.getBaseLayer().timeline(),e=this.currentTimeline();t===e?this.restart():(this.slideLayers().find((function(t){return t.timeline()===e})).prepareResumeData().resetBeforeView().applyResumeData(),e.play())},getLayerWithTimeline:function(t){return this.slideLayers().find((function(e){return e.timeline()===t}))},onTimelineComplete:function(t){var e=this.getLayerWithTimeline(t);null==e||this.layerTimelinesCompleted.includes(e.index())||this.layerTimelinesCompleted.push(e.index())},currentTimelineCompletedOnce:function(){var t=this.currentTimeline(),e=this.getLayerWithTimeline(t);return null!=e&&(t.completed&&this.onTimelineComplete(t),this.layerTimelinesCompleted.includes(e.index()))},setLayerTimelinesData:function(t){var e=new b({fullString:t});this.layerTimelinesCompleted=[];var i=Number(e.encodedString());for(e=e.reChunk();i>0;i--)this.layerTimelinesCompleted.push(Number(e.encodedString())),e=e.reChunk()},getLayerTimelinesData:function(){return b.create(this.layerTimelinesCompleted.length)+this.layerTimelinesCompleted.map(b.create).join("")},restart:function(){return this.prepareResumeData().resetBeforeView().applyResumeData(),this.slideLayers().invoke("resetObjectTransforms"),this.slideLayers().invoke("resetJumping"),this.beginPlayback()},reset:function(){return this.resetBeforeView(),this.beginPlayback()},beginPlayback:function(){return this.executePlayerEvent("onbeforeslidein"),this.executePlayerEvent("ontransitionin"),this.executePlayerEvent("ontransitionincomplete"),this.currentTimeline().play(),this.executePlayerEvent("onslidestart"),this},killEverything:function(){return this.trigger(x.slide.TEARDOWN),g.clearSlideCache(this.id),m.clearSlideCache(this.id),this.slideLayers().killEverything(),this},hasZoomRegion:function(){return null==this.containsZoomRegion&&(this.containsZoomRegion=this.slideLayers().some((function(t){return t.hasZoomRegion()}))),this.containsZoomRegion},hasVideoAssets:function(){if(null==this.containsVideoAssets){var t=y.presentation.slideMap().getRefById(this.absoluteId);this.containsVideoAssets=t.hasVideoAssets()}return this.containsVideoAssets}});return L}.call(e,i,e,t),void 0===n||(t.exports=n)},4343:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(7945),o=i(5653),s=i(4282),a=i(8289),l=i(6),c=i(4436),u=i(8359),h=DS._,d=DS.utils,p=DS.pubSub,f=DS.events,g=DS.vow,m=DS.resolver,v=DS.constants,S=DS.BaseModel,y=function(t,e,i){var n=h.partial(h.find,e);return i.filter((function(e){return null!=n({id:e.id})===t}))};return S.extend({isSlideDraw:!0,mixins:[c,a,l],resolveables:["slides","actionGroups","variables"],shorthand:["sliderefs","exitaction","slides","shufflecount","shuffle","actionGroups","slideNumber","slideNumberInScene"],shortEvents:{self:(n={},n[r.SET_DRAW_REVIEW]="onSetDrawReview",n)},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},associations:{variables:s},subscriptions:(e={},e[f.player.RESET]="generateDraw",e),initialize:function(){this.slideDfd=g.Deferred(),p.once(f.data.INITIALIZED,this.createDraw.bind(this))},createDraw:function(){this.generateDraw().fixRefIds(),this.slideDfd.resolve(this.slides())},fixRefIds:function(){var t=[this.parent.id,this.id].join(v.PATH_DELIMITER);this.slides().forEach((function(e){e.fullId(t)}))},getScene:function(){return this.getClosestAncestorByKind("scene")},getTopSlide:function(){return h.first(this.sliderefs())},getBottomSlide:function(){return h.last(this.sliderefs())},hasLockedTopSlide:function(){return this.getTopSlide().linkprev},hasLockedBottomSlide:function(){return this.getBottomSlide().linknext},startingSlide:function(){return d.stripPlayer(this.slides().first().absoluteId)},getNextSlideId:function(t){var e=t.nextSibling();return e&&e.absoluteId},getFirstSlide:function(){return this.slides().first()},performExitAction:function(){this.trigger(f.draw.EXIT),u.executeAction(this.exitaction(),{context:this})},getTop:function(){var t=this.sliderefs(),e=0,i=[];if(this.hasLockedTopSlide())for(i.push(this.getTopSlide());i.length&&h.last(i).linknext&&t[e+1];)i.push(t[++e]);return i},getBottom:function(){var t=this.sliderefs(),e=t.length-1,i=[];if(this.hasLockedBottomSlide())for(i.push(this.getBottomSlide());h.first(i).linkprev&&t[e-1];)i.unshift(t[--e]);return i},getTrimmedSlides:function(){return this.trimSpecial(this.sliderefs().slice())},trimSpecial:function(t){for(;t.length&&t[0].linkprev;)t.shift();for(;t.length&&h.last(t).linknext;)t.pop();return t},getMiddle:function(t,e){if(e<=0)return[];var i,n,r,o=this.shuffle(),s=[],a=this.getScene().getRefs(),l=h.partial(y,!1,a),c=h.partial(y,!0,a),u=l(t),d=function(t){return o?Math.floor(Math.random()*t):0};if(u.length<e)for(r=c(t);u.length<e;)u.push.apply(u,r.splice(d(r.length),1));for(;s.length<e&&u.length;){for(i=u[n=d(u.length)];0!=n&&i.linkprev;)i=u[--n];for(;i;)s.push.apply(s,u.splice(n,1)),i=i.linknext&&u[n]}return s},getIncludedSlides:function(t){return t.filter((function(t){return t.shuffleinclude}))},generateDraw:function(){var t,e,i,n=this.getTop(),r=this.getBottom(),o=this.getTrimmedSlides(),s=this.getIncludedSlides(o);return o=h.xor(o,s),e=(this.get("shuffle")?this.shufflecount():this.sliderefs().length)-(n.length+r.length+s.length),t=this.getMiddle(o,e),i=n.concat(s,t,r),this.generateSlides(i),this},generateSlides:function(t){this.trigger(f.draw.RESET,this);var e=this.get("navindex"),i=this.resolveSlides(t);return i.forEach((function(t){t.navIndex=e})),this.set("slides",new o(i,{parent:this})),t.forEach(function(t){this.getScene().addRef(t)}.bind(this)),this.createOrderArray(t),this.trigger(f.draw.RESET_COMPLETE,this),p.trigger(f.draw.RESET_COMPLETE),this},resolveSlides:function(t){return t.map(function(t){var e=d.prefixWithPlayer(t.id);return h.cloneDeep(m.resolvePath(e,this))}.bind(this))},getSlidePromise:function(){return this.slideDfd.promise()},onSetDrawReview:function(t){this.isInReview=t.review}})}.call(e,i,e,t))||(t.exports=n)},2748:function(t,e,i){var n;n=function(t){"use strict";var e=i(4214),n=(DS._,DS.utils),r=DS.events,o=n.createSuper(e),s=e.extend({shorthand:["background"],initialize:function(){o("initialize").apply(this,arguments),this.getLayer().once(r.data.UPDATED,this.onLayerDataUpdated.bind(this))},getPathRef:function(){return this.background().vectorData.pr},onLayerDataUpdated:function(){var t=this.getClosestParentRef();t.isGroupingSlideObject&&this.listenTo(t,"hide",this.onParentGroupHide.bind(this))},onParentGroupHide:function(){this.prop("OnStage",!1),this.trigger("hide")}});return s}.call(e,i,e,t),void 0===n||(t.exports=n)},3424:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(7945),r=(i(8359),i(7875)),o=i(9910),s=i(8656),a=i(4595),l=i(6),c=i(107),u=i(8289),h=i(8634),d=i(2136),p=i(4282),f=i(8873),g=i(4964),m=DS,v=m._,S=m.BaseModel,y=m.events,b=m.resolver,w=m.pubSub,x=m.utils,D="custom",C=S.extend({mixins:[r,u,a,l,s,o],shorthand:["isBaseLayer","pauseParent","modal","resume","depth","background","events","actionGroups"],resolveables:["objects","actionGroups","audiolib","variables"],resolvers:{objects:function(t,e){return e.findNestedObject(t)}},shortEvents:{timeline:(e={},e[y.timeline.COMPLETE]="onTimelineComplete",e[y.timeline.BEFORE_SEEK_UPDATE]="onBeforeSeekUpdate",e[y.timeline.AFTER_SEEK_UPDATE]="onAfterSeekUpdate",e),self:function(){var t={};return t[n.SHOW_SLIDELAYER]="show",t[n.HIDE_SLIDELAYER]="hide",t[n.SET_ACTIVE_TIMELINE]="setActiveTimeline",t[n.PAUSE_TIMELINE]="onPauseTimeline",t[n.PAUSE_ANIMATIONS]="pauseTimeline",t[n.RESUME_TIMELINE]="resumeTimeline",t[n.SEEK_TIMELINE]="onSeekTimeline",t}()},abilities:function(){return{resolveAsThis:!this.isBaseLayer(),beEventTarget:!this.isBaseLayer(),resolveAsParent:!this.isBaseLayer()}},associations:{objects:d,audiolib:h,timeline:f,variables:p,animations:g},isSlideLayer:!0,containsZoomRegions:null,initialize:function(){this.startDepth=0,this.abilities=this.abilities(),this.isSeeking=!1,this.isBaseLayer()&&(this.depth(0),this.baseLayerPauses=[]),this.createObjectIndex()},onSeekTimeline:function(t){var e=t.position;v.isEmpty(t.variableGuid)||(e=1e3*b.resolvePath(t.variableGuid).value()),t.useRelativeTime&&(e+=this.timeline().elapsedTime()),this.isSeeking||this.timeline().seek(e)},onBeforeSeekUpdate:function(){this.isSeeking=!0},onAfterSeekUpdate:function(){this.isSeeking=!1},hasBackground:function(){return!!this.background()},backgroundImageUrl:function(){return c.getAssetUrl(this.background().imagedata.assetId)},getWndBlockerBackground:function(){var t=this.get("background");return 1===x.getPath(t,"fill.colors.length")?x.rgbify(t.fill.colors[0].rgb,t.fill.colors[0].alpha/100):""},isPenetrable:function(){return!this.modal()},hideAllObjectsOnDisplay:function(){var t=this.get("hideobjectsondisplay")||[];return t.length>0&&t.length==this.parent.currView.getSlideObjectViews().length},setAsTopMostLayer:function(t){var e=this;return t&&this.get("modal")&&(this.lastModalFocus=this.parent.currView.getCurrentShadowFocus()),DS.flagManager.dropInAcc?requestAnimationFrame((function(){e.determineObjectVisibility(t)})):this.determineObjectVisibility(t),this.executePlayerEvent(t?"ontopmostlayer":"endtopmostlayer"),this},determineObjectVisibility:function(t){return(this.get("hideobjectsondisplay")||[]).forEach(function(e){b.resolvePath(e.value,this).setHiddenByLayer(!t,this.id)}.bind(this)),this},toggleVisibility:function(t,e,i){var n="show"===t,r=n?"shown":"hidden",o=null!=i&&i.transition===D,s=function(){i&&"oncomplete"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger(r,this),this.visibleState=n,this.executePlayerEvent("ontransitionincomplete")}.bind(this);if(n){if(this.setAsViewed(),this.shownInCurrentView=!0,i&&"onstart"===i.hideOthers&&this.trigger("hideOtherLayers",this),this.trigger("activated",this),this.isOpen)return this;this.resume()||this.wasForcedResumed||this.resetResume(),this.timeline().pause(),this.isOpen=!0}else{if(this.wasForcedResumed=!1,!this.isOpen)return this;this.isOpen=!1}if(this.cancelTransition(),o){var a=this.animations().get(i.animationId);this.trigger(t+D,i,this,a,s)}else s();return this},setActiveTimeline:function(t){var e=b.getRef(t.objRef,this),i=b.resolvePath(e,this),n=i.isSlide?i.slideLayers().getBaseLayer():i,r=n.timeline();return this.trigger(y.timeline.CHANGED,r),w.trigger(y.layer.TIMELINE_ACTIVATED,n),this},cancelTransition:function(){this.trigger("cancelTransition")},pauseTimeline:function(t){this.timeline().pause(t)},resumeTimeline:function(){(this.isOpen||this.isBaseLayer())&&(w.trigger(y.timeline.CURRENT_TIMELINE,this.timeline()),this.timeline().play())},getIsTimelinePaused:function(){return this.getHasTimelineStarted()&&!this.getIsTimelinePlaying()},getIsTimelinePlaying:function(){return this.timeline().isPlaying()},getHasTimelineStarted:function(){return this.timeline().hasStarted()},getHasTimelineFinished:function(){return this.timeline().hasFinished()},pauseTimelineFromLayer:function(t){this.isBaseLayer()&&(this.baseLayerPauses.push(t),this.baseLayerPauses=v.uniq(this.baseLayerPauses),1===this.baseLayerPauses.length&&(this.shouldPlayOnCloseLayer=!this.getIsTimelinePaused(),this.pauseTimeline()))},resumeTimelineFromLayer:function(t){this.isBaseLayer()&&(this.baseLayerPauses=v.without(this.baseLayerPauses,t),0===this.baseLayerPauses.length&&this.shouldPlayOnCloseLayer&&this.resumeTimeline())},isTimelineLayerPlayable:function(){return 0===this.baseLayerPauses.length},onTimelineComplete:function(){w.trigger(y.preview.NOTIFY,this.isBaseLayer()?"PREVIEW_SLIDE_COMPLETE":"PREVIEW_SLIDELAYER_COMPLETE"),this.getClosestThisRef().executePlayerEvent("ontimelinecomplete"),this.collection.onTimelineComplete()},pauseVideos:function(t){t.each(function(t){t.isKind("video")?t.trigger(y.layer.PAUSE_TIMELINE):t.isGroupingSlideObject&&this.pauseVideos(t.objects())}.bind(this))},onPauseTimeline:function(){this.pauseVideos(this.objects())},createObjectIndex:function(){var t=0;this.objectIndex=[],this.objDecendants=[];var e=function(i){i.forEach(function(i){var n=i.isKind("shufflegroup");n||(this.objectIndex.push(i),i.setSlideIndex(t++),this.objDecendants.push(i)),i.objects&&e(i.objects()),n&&this.objDecendants.push(i)}.bind(this))}.bind(this);return e(this.objects()),this},getObjectByIndex:function(t){return this.objectIndex[t]},setAsViewed:function(){return this.viewed=!0,this},isViewed:function(){return this.viewed},onAfterResumeBuilt:function(t){this.isBaseLayer()||t||!this.currView.state.renderChildren||this.timeline().silentReset()},setAsShowable:function(){this.isShowable=!0},hasZoomRegion:function(){return null==this.containsZoomRegions&&(this.containsZoomRegions=this.timeline().events().some((function(t){return t.actions.some((function(t){return"zoompan"==t.kind}))}))),this.containsZoomRegions},killEverything:function(){this.currView&&this.currView.state.renderChildren&&this.objects().invoke("killMounted"),this.resetSubscriptions().stopListening().off(),this.timeline().killEverything(),this.objects().invoke("killEverything"),this.clear()},resetObjectTransforms:function(){this.objectIndex.forEach((function(t){null!=t.currView&&t.setTransformDirty()}))},resetJumping:function(){this.objectIndex.forEach((function(t){null!=t.currView&&(t.currView.jumping=!1)}))}}),E=C.prototype;return E.show=v.partial(E.toggleVisibility,"show","ontopmostlayer"),E.hide=v.partial(E.toggleVisibility,"hide","endtopmostlayer"),C}.call(e,i,e,t))||(t.exports=n)},8135:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(3200),o=i(5892),s=DS._,a=DS.playerGlobals,l=DS.utils,c=DS.BaseModel,u=DS.detection,h=DS.events,d=DS.resolver,p=DS.pubSub,f=DS.constants;return c.extend({shorthand:["queueSize"],associations:{slideRefs:r},subscriptions:(n={},n[h.loader.SILENCE]="onSilenceLoader",n[h.slide.READY]="onSlideLoaded",n),initialize:function(){this.loaders=[],this.silenceLoader=!1,this.slideLoaded=!1,this.once("change:queueSize",this.onQueueSizeUpdate.bind(this))},onQueueSizeUpdate:function(){e=u.capabilities.isMemoryDeficientDevice?0:this.queueSize()},onSilenceLoader:function(){this.silenceLoader=!0},showLoader:function(t){var e;this.slideLoaded||this.silenceLoader||(e=f.DESKTOP_LOADER_DELAY*(u.browser.isIE?2:1),this.lastSlideId!=t&&p.trigger(h.loader.SHOW,e),this.lastSlideId=t),this.silenceLoader=!1},getStrippedId:function(t){var e,i=(e=t,d.resolvePath(e,a.presentation));return l.stripPlayer(i.isScene?i.slides().first().absoluteId:t)},setCurrentSlide:function(t){this.currentSlideId=this.getStrippedId(t),this.slideLoaded=!1,this.loadQueue=[];var e=this.getReachables(this.currentSlideId);this.stopCurrentLoaders(e),this.offloadUnreachableAssets(e),this.currentReachables=e,this.showLoader(t)},stopCurrentLoaders:function(t){this.loaders.length>0&&this.loaders.forEach(function(e){null!=e&&null==s.find(t,{id:e.refId})&&e.dfds.forEach((function(t){t.reject()}))}.bind(this)),this.loaders=[]},offloadUnreachableAssets:function(t){null!=this.currentReachables&&s.difference(this.currentReachables,t).forEach((function(t){t.offloadAssets()}))},onSlideLoaded:function(){s.first(this.currentReachables).setSlideDataLoaded(),this.loadQueue=s.tail(this.currentReachables),this.slideLoaded=!0,this.loadIdx=0,this.preloadNextSlideData()},preloadNextSlideData:function(){this.slideLoaded&&(this.loadIdx<this.loadQueue.length?this.loadQueue[this.loadIdx].loadSlideData().always(function(){this.loadIdx++,this.preloadNextSlideData()}.bind(this)):this.preloadNextSlide())},preloadNextSlide:function(){if(this.slideLoaded&&0!==this.loadQueue.length){var t=this.loadQueue.shift(),e=t.loadAssets();e.refId=t.id,this.loaders.push(e),e.then(this.preloadNextSlide.bind(this))}},getReachables:function(t){var i,n=0,r=[];if(null!=(i=this.getRefById(t)))for(r.push(i);n<r.length&&r.length<=e;)r.push.apply(r,r[n].getReachableSlides().map(function(t){return this.getRefById(t.absoluteId)}.bind(this))),r=s.uniq(r),n++;return s.take(r,e+1)},getRefById:function(t){return this.slideRefs().find({id:l.stripPlayer(t)})},addReviewRef:function(t){if(null==this.getRefById(t.absoluteId)){var e=this.getRefById(t.id);if(null!=e){var i=new o(s.assign({},e.attributes,{id:l.stripPlayer(t.absoluteId)}));this.slideRefs().add(i)}}}})}.call(e,i,e,t))||(t.exports=n)},4214:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e,n,o=i(7945),s=(i(1630),i(9789),i(4282)),a=i(8377),l=i(4964),c=i(8289),u=i(6),h=i(7875),d=i(8656),p=i(631),f=i(8359),g=i(2686),m=DS._,v=DS.utils,S=DS.constants,y=DS.events,b=(DS.vow,DS.resolver),w=DS.BaseModel,x=(DS.Chunk,DS.pubSub),D=DS.detection,C="_default",E="custom",P=/hotspot.*marker/,T=/tooltip/,I=/value":"[^,]*_tooltip/,A=/(Incorrect|Correct)Review/,L=1e3,M={webobject:[{name:"_remotedata",type:S.varTypes.STRING,value:""}]},k=w.extend({mixins:[c,h,p,u,d],resolveables:["variables","actionGroups"],abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0,groupObjects:!1},associations:{variables:s,textLib:a,animations:l},shorthand:["kind","data","states","alpha","xPos","yPos","rotateXPos","rotateYPos","rotation","width","height","imagelib","dragdrop","dragrotation","dragpath","resume","depth","scaleX","scaleY","xOffset","yOffset","events","actionGroups"],playerPropNames:{DragOverId:null,DropTargetId:null,LastKeyAlt:!1,LastKeyCode:-1,LastKeyShift:!1,LastKeyCtrl:!1,LastKeyValue:null,Moved:null,ReviewMode:null,Text:null,Expanded:!1,DragConnectData:"",SelectedItemData:"",TimelineControlled:!0,DragConnected:!1,Enabled:!0,MouseOver:!1,ObjectState:C,OnStage:!1,HiddenByLayer:!1,model:{Alpha:"alpha",depth:"depth",height:"height",InitXPos:"xPos",InitYPos:"yPos",InitDepth:"depth",nXPos:"xPos",nYPos:"yPos",RawXPos:"xPos",RawYPos:"yPos",rotateXPos:"rotateXPos",rotateYPos:"rotateYPos",Rotation:"rotation",ScaleX:"scaleX",ScaleY:"scaleY",ShuffleXPos:"xPos",ShuffleYPos:"yPos",tabIndex:"tabIndex",width:"width"}},subscriptions:(n={},n[y.player.RESET]="onPlayerReset",n),shortEvents:{self:(e={"change:xPos change:yPos":"onPositionUpdate"},e[o.SHOW]="show",e[o.HIDE]="hide",e[o.SET_OBJ_STATE]="setState",e[o.BRING_TO_FRONT]="bringToFront",e[o.SET_ENABLED]="setEnabled",e[o.STORE_RESUME_DATA]="storeResumeData",e[o.RESTORE_RESUME_STATE]="restoreResumeState",e[o.GET_MOUSE_POSITION]="getMousePosition",e[o.MOVE_TO]="moveTo",e[o.SET_REVIEW]="setReview",e)},isSlideObject:!0,initialize:function(){this.addExtraVariables().setupToggleVisibilityState(),this.getLayer().once(y.data.UPDATED,this.bindTimelineEvents.bind(this)),this.hiderParents=[],this.showFns=[],this.containsGif=g.containsGif(this.imagelib()),this.isVectorShape()&&this.isCorrectIncorrectReview()&&this.set("accType","button")},shouldUpdateGif:function(){return!(!this.containsGif||!this.prop("OnStage"))},addExtraVariables:function(){return(M[this.kind()]||[]).forEach(function(t){this.variables().addVariable(t)}.bind(this)),this},bindTimelineEvents:function(){var t=this.getLayer().timeline();this.listenTo(t,y.timeline.BEFORE_SEEK_UPDATE,this.onBeforeSeekUpdate.bind(this)),this.listenTo(t,y.timeline.AFTER_SEEK_UPDATE,this.onAfterSeekUpdate.bind(this))},isInDefaultState:function(){return this.prop("ObjectState")===C},isDraggable:function(){return!(!this.dragdrop()||!this.dragdrop().dragenabled)},isDroppable:function(){return!(!this.dragdrop()||!this.dragdrop().dropenabled&&!this.dragdrop().dragoverenabled)},isSlideable:function(){return!!this.dragpath()},isZoomable:function(){return!!this.get("zoomdata")},isWebObject:function(){return this.isKind("webobject")},isTweenable:function(){return!(!this.animations()||this.animations().isEmpty())},getTweenableClass:function(){return D.browser.isChrome||!this.isTweenable()?"":"tweenable"},isAtNewDepth:function(){return this.depth()!==this.prop("depth")},isShuffled:function(){return this.xPos()!==this.prop("ShuffleXPos")||this.yPos()!==this.prop("ShuffleYPos")},isScaled:function(){return this.scaleX()!==this.prop("ScaleX")||this.scaleY()!==this.prop("ScaleY")},isRotated:function(){return this.rotation()!==this.prop("Rotation")},isAlphaed:function(){return this.alpha()!==this.prop("Alpha")},isInNewPosition:function(){return this.prop("ShuffleXPos")!==this.prop("RawXPos")||this.prop("ShuffleYPos")!==this.prop("RawYPos")},isHotSpotMarker:function(){return P.test(this.id)},isToolTip:function(){return T.test(this.id)},isCorrectIncorrectReview:function(){return A.test(this.id)},isObscurableBySelf:function(){if(this.isStateGroupSlideObject)return!1;var t,e,i,n=m.find(this.events(),{kind:"onrollover"});return n&&(t=JSON.stringify(n.actions),e=function(t){var e=!1,i=["thenActions","elseActions"];if(t.actions)return t.actions.some((function t(n){return"if_action"===n.kind?i.forEach((function(i){e=e||n[i]&&n[i].some((function(e){return!(!e.kind.startsWith("show")||"_this"===e.objRef.value)||"if_action"===e.kind&&t(e)}))})):n.kind.startsWith("show")&&"_this"!=n.objRef.value&&(e=!0),e}));return!1}(n),i=I.test(t)),e&&!i},isRotatable:function(){return null!=this.dragrotation()},hasAnimated:function(){return this.isRotated()||this.isAlphaed()||this.isScaled()||this.isInNewPosition()},getAnimationResumeState:function(){return m.reduce(["RawXPos","RawYPos","ScaleX","ScaleY","Rotation","Alpha"],function(t,e){return t[e]=this.prop(e),t}.bind(this),{})},getPathRef:function(){return this.getCurrentStateData().vectorData.pr},getPathLib:function(){return this.getPathRef().l},commandsetId:function(){return this.getPathRef().i},getRelativeId:function(){if(null!=this.relativeId)return this.relativeId;var t=this.getLayer(),e=t.parent;return t=t.isBaseLayer()?e:t,this.relativeId=this.absoluteId.substr(t.absoluteId.length+1)},getHitType:function(){var t;return null!=this.hitType?this.hitType:(t=this.isVectorShape()||this.isSvgImage()?S.SVG_HIT:!this.isGroupingSlideObject||this.isKind("scrollarea")||this.isKind("expandinglabel")?S.RECT_HIT:S.GROUP_HIT,this.hitType=t)},getStateFromVar:function(){return m.find(this.states(),{name:this.prop("ObjectState")})},getStateFromName:function(t){return m.find(this.states(),{name:t})},getStateFromIndex:function(t){return this.states()[t].name},getCurrentStateIndex:function(){return this.states().indexOf(this.getStateFromVar())},getCurrentStateData:function(){return this.isInDefaultState()?this.data():this.getStateFromVar().data},getPosition:function(){return{top:this.prop("RawYPos"),left:this.prop("RawXPos")}},getShapeMask:function(){var t=this.get("shapemaskId");return m.isEmpty(t)?null:b.resolvePath(t,this)},hasVarText:function(){return this.textLib().some((function(t){return"richvartext"===t.get("type")}))},hasLocalizedText:function(){return null==this.hasL10nText&&(this.hasL10nText=this.textLib().some((function(t){return null!=t.get("vartextL10nRef")}))||[].concat(r((this.states()||[]).map((function(t){return t.data}))),[this.data()]).some((function(t){return null!=v.getPath(t,"vectorData.altTextL10nRef")}))),this.hasL10nText},fixZeroBoundsMetrics:function(t){return 0!==t.strokewidth||0!==t.width&&0!==t.height||(t.strokewidth=.5),t},getCurrentStateMetrics:function(){var t=(this.getCurrentStateData()||{}).html5data,e={xPos:0,yPos:0,width:this.get("width"),height:this.get("height"),strokewidth:0};return this.hasVarText()&&0===t.width&&0===t.height&&(t.width=e.width,t.height=e.height),this.fixZeroBoundsMetrics(m.extend(e,t))},getBounds:function(){var t=this.getCurrentStateMetrics(),e=t.strokewidth,i=2*e;return t.strokewidth*=2,m.extend(t,{fullX:Math.ceil(t.xPos-e),fullY:Math.ceil(t.yPos-e),fullWidth:t.width+i,fullHeight:t.height+i})},getSlide:function(){return this.getClosestAncestor((function(t){return!!t.isSlide}))},getLayer:function(){return this.getClosestAncestor((function(t){return null!=t.isBaseLayer}))},moveTo:function(t,e){var i,n,r=b.getRef(t.xOffset,e.context),o=b.getRef(t.yOffset,e.context),s=b.getRef(t.xPos,e.context),a=b.getRef(t.yPos,e.context);i=s+(r=t.addoffsetx?r:-r),n=a+(o=t.addoffsety?o:-o),this.trigger("moveTo",i,n)},getMousePosition:function(t){this.trigger("getMousePosition",t)},setState:function(t,e){var i=b.getRef(t.stateRef,e.context,e);return this.prop("ObjectState",i),this},setReview:function(t){this.prop("ReviewMode",t.enabled.value),this.trigger("setReview",t.enabled.value)},setStateFromIndex:function(t){this.prop("ObjectState",this.getStateFromIndex(t))},setTransformDirty:function(){this.transformDirty||(this.transformDirty=!0,this.trigger(y.slideObject.TRANSFORM_DIRTY))},setEnabled:function(t){this.prop("Enabled",t.enabled.value)},setSlideIndex:function(t){this.prop("slideIndex",t)},getFlattenedDepth:function(){return this.getLayer().startDepth+this.layerDepth},bringToFront:function(t){this.prop("depth",L++)},setHiddenByLayer:function(t,e){var i=this.currView;this.hiderParents=t?m.without(this.hiderParents,e):m(this.hiderParents).push(e).uniq().value(),this.prop("HiddenByLayer",this.hiderParents.length>0),null!=i&&(m.isFunction(i.updateTrueVisibility)?i.updateTrueVisibility():i.props.parent&&m.isFunction(i.props.parent.updateTrueVisibility)&&i.props.parent.updateTrueVisibility())},adjustVariables:function(){m.toArray(arguments).forEach(function(t){this.adjustVariable(t.name,t.value)}.bind(this))},adjustVariable:function(t,e){var i=this.getClosestParentRef(),n={kind:"adjustvar",variable:t,operator:"set",value:{type:"number",value:e}};f.executeAction(n,{context:this}),i.executePlayerEvent("onvarchanged")},getInitParentContainer:function(){return this.parent.isKind("shufflegroup")?this.parent.parent:this.parent},getParentContainer:function(){var t=this.getInitParentContainer();return null!=t.getChildParent?t.getChildParent(this):t},reparentChild:function(t){var e=this.getInitParentContainer();null!=e.reparentChild&&e.reparentChild(this,t)},reattachChild:function(){var t=this.getInitParentContainer();null!=t.reattachChild&&t.reattachChild(this)},storeResumeData:function(t,e){b.resolvePath(t.varref,e.context).value(this.getFullResumeData(!0))},restoreResumeState:function(t,e){var i=b.resolvePath(t.varref,e.context),n=t.limited,r=n?"setResumeDataLimited":"setResumeData";this.resetObjectBeforeResume(n),this[r](i.value()).forceUpdateResume()},resetForSeek:function(){var t=this.currView;this.trigger("clearAnimations"),this.trigger("unparentForSeek"),this.resetPropsExcept(["Enabled","ReviewMode","HiddenByLayer","depth","ShuffleXPos","ShuffleYPos"]),this.prop({RawXPos:this.prop("ShuffleXPos"),RawYPos:this.prop("ShuffleYPos")}),null!=t&&(m.isFunction(t.applyStylesDirectly)?t.applyStylesDirectly():t.props.parent&&m.isFunction(t.props.parent.applyStylesDirectly)&&t.props.parent.applyStylesDirectly())},onBeforeSeekUpdate:function(){this.prop("TimelineControlled")&&this.prop("OnStage")&&(this.shouldHideOnSeek=!0,this.resetForSeek())},onAfterSeekUpdate:function(){this.shouldHideOnSeek&&(this.hiding=!1,this.prop("updateGifOnShow",!0),this.trigger("hide"))},setupToggleVisibilityState:function(){this.hideShowState=null},toggleVisibility:function(t,e,i,n){var r=function(){i=i||{},n=n||{};var r,o=this.prop("OnStage"),s=this.prop("TimelineControlled"),a="show"===t,l=!!n.isSeekAction,c=null!=i&&i.transition===E,u=a?"shown":"hidden",h=function(){a||(this.hiding=!1,this.prop("OnStage",!1)),this.trigger(u),this.executePlayerEvent(e+"complete"),x.trigger(y.slideObject.TOGGLE_VISIBILITY)}.bind(this),d=(i.animationId,n.time,function(){r=this.animations().get(i.animationId),this.trigger(t+E,a,n,r,h)}.bind(this)),p=null!=n.timelineLabel;if(this.shouldHideOnSeek=this.shouldHideOnSeek&&!a,(!a&&!p||l&&0===n.currentTime)&&this.prop("updateGifOnShow",!0),!s&&p&&a&&l&&(n.beforeSeekTime<n.time||n.time===n.currentTime))this.resetForSeek();else if(!a&&!o||a&&o&&!this.hiding||l&&!s&&n.beforeSeekTime>n.time)return;this.hideShowState=i.kind,this.prop("TimelineControlled",p),this.trigger(t),a?this.prop("OnStage",!0):this.hiding=!0,this.executePlayerEvent(e),c?d():h()}.bind(this);return null!=this.currView?r():(this.showFns||(this.showFns=[]),this.showFns.push(r)),this},onTweenUpdate:function(t){this.trigger(y.tween.UPDATE,t)},onPlayerReset:function(){},killMounted:function(){return this.resetSubscriptions(),this},killEverything:function(){return this.off(),this}}),R=k.prototype;return R.show=m.partial(R.toggleVisibility,"show","ontransitionin"),R.hide=m.partial(R.toggleVisibility,"hide","ontransitionout"),R.isVectorShape=m.partial(R.isKind,"vectorshape"),R.isSvgImage=m.partial(R.isKind,"svgimage"),k}.call(e,i,e,t),void 0===n||(t.exports=n)},5892:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(107),r=DS._,o=DS.BaseModel,s=DS.resolver,a=DS.events,l=DS.utils,c=DS.vow,u=DS.detection,h=DS.superagent,d=function(t){return s.resolvePath(t,s.getPresentationContext())},p={slide:"getSlideLinkSlide",slidedraw:"getDrawLinkSlide",action:"getActionLinkSlide"},f=o.extend({shorthand:["assetIds"],subscriptions:(e={},e[a.data.INITIALIZED]="onDataInitialized",e),initialize:function(){this.slideDataLoaded=!1},loadSlideData:function(){var t=c.Deferred();return this.slideDataLoaded||u.env.isFileProtocol||this.deletedDrawRef?t.resolve():h.get(this.getSlide().url()).accept("application/javascript").end(function(e){e?t.reject(e):(this.setSlideDataLoaded(),t.resolve())}.bind(this)),t.promise()},setSlideDataLoaded:function(){this.slideDataLoaded=!0},onDataInitialized:function(){"slidedraw"===this.get("type")&&(this.draw=d(this.get("id")),this.listenTo(this.draw,a.draw.RESET_COMPLETE,this.buildDrawRefs.bind(this)))},hasVideoAssets:function(){return this.assetIds().slice().some((function(t){return"video"===n.getAsset(t).type()}))},loadAssets:function(t){return n.loadAssets(this.assetIds().slice(),t)},offloadAssets:function(){n.offloadAssets(this.assetIds().slice())},getSlide:function(){return d(null!=this.draw?this.draw.getFirstSlide():this.get("id"))},buildDrawRefs:function(){var t,e=this.draw.startingSlide();for(this.clearLastDrawRefs();null!=e;)t=d(e),this.addDrawSlideToCollection(t),e=this.draw.getNextSlideId(t)},clearLastDrawRefs:function(){null!=this.drawRefs&&this.drawRefs.forEach(function(t){this.collection.remove(t),t.deletedDrawRef=!0}.bind(this)),this.drawRefs=[]},addDrawSlideToCollection:function(t){var e,i=this.collection.get(t.id);null!=i&&(e=new f(r.assign({},i.attributes,{id:l.stripPlayer(t.absoluteId),drawOwner:this.draw})),this.collection.add(e),this.drawRefs.push(e),e.deletedDrawRef=!1)},getReachableSlides:function(){return r.filter((this.get("linksTo")||[]).map(function(t){return this[p[t.type]](t)}.bind(this)),(function(t){return null!=t&&!t.isMessageSlide()}))},getSlideLinkSlide:function(t){for(var e=d(t.id);null!=e&&!e.isSlide;)if(e.isScene)e=d(e.startingSlide());else{if(!e.isSlideDraw)return null;e=e.getFirstSlide()}return e},getDrawLinkSlide:function(t){return l.getPath(d(t.id),"getFirstSlide")},getActionLinkSlide:function(t){var e,i=this.get("drawOwner");return"playnextdrawslide"===t.id&&null!=i?(e=i.getNextSlideId(this.getSlide()),r.isEmpty(e)?null:d(e)):null}});return f}.call(e,i,e,t))||(t.exports=n)},7498:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4214),n=i(3697),r=i(8359),o=DS._,s=DS.utils,a=DS.resolver;s.createSuper(e);return n.extend({shorthand:["actionstates"],isStateGroupSlideObject:!0,setState:function(t,e){var i=o.find(this.actionstates(),{name:a.getRef(t.stateRef,e.context,e)});return i&&(this.prop("ObjectState",i.name),o.isEmpty(i.actions)||r.executeActions(i.actions,o.extend(e,{context:this}))),this},isEnabled:function(){return this.prop("Enabled")},getIsSlideableParent:function(){return this.objects().some((function(t){return!!t.dragpath()}))},getStateFromIndex:function(t){return this.actionstates()[t].name},getCurrentStateIndex:function(){return this.actionstates().indexOf(this.getStateFromVar())},getIsExpandingLabel:function(){return this.isExpandingLabel=this.isExpandingLabel||!!this.objects().findWhere({kind:"expandinglabel"}),this.isExpandingLabel},getStateFromVar:function(){var t=this.get("actionstates");return t&&o.find(t,{name:this.prop("ObjectState")})},getStateFromName:function(t){var e=this.get("actionstates");return e&&o.find(e,{name:t})},getClickDef:function(){var t=this.getStateFromVar();return t&&t.clickdef}})}.call(e,i,e,t))||(t.exports=n)},435:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(4214),r=i(7945),o=(DS._,DS.constants),s=DS.events;return n.extend({shorthand:["background"],shortEvents:{self:(e=n.prototype.shortEvents.self,e[r.SET_FOCUS]="setFocus",e)},variableProps:{Text:{type:o.varTypes.STRING,value:""}},getPathRef:function(){return this.background().vectorData.pr},setFocus:function(){null==this.currView?this.needsFocus=!0:(this.trigger(s.slideObject.FOCUS),this.needsFocus=!1)},placeHolderText:function(){var t=this.get("placeholder");return DS.flagManager.multiLangSupport&&DS.localizationManager.getStringFromRef(this.get("placeholderL10nRef"))||t}})}.call(e,i,e,t))||(t.exports=n)},5953:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9789),n=DS.BaseModel,r=e.extend({model:n.extend({idAttribute:null})}),o=function(t,e){return null==t?e:DS.translationStore.getUpdatedTextData("textLibItem",t,e)};return n.extend({shorthand:["type","xPos","yPos","width","height","valign","wordwrap","textshadow"],associations:{linkdata:r},vartext:function(){if(DS.flagManager.multiLangSupport){var t=this.get("vartextL10nRef"),e=DS.localizationManager.getStringFromRef(t);if(null!=e)return DS.flagManager.aiCourseTranslation?o(this.get("textLibItemId"),e):e}return DS.flagManager.aiCourseTranslation?o(this.get("textLibItemId"),this.get("vartext")):this.get("vartext")}})}.call(e,i,e,t))||(t.exports=n)},6724:function(t,e,i){var n;n=function(t){"use strict";var e=i(4214),n=DS,r=(n._,n.events),o=n.utils,s=n.constants,a=o.createSuper(e),l=e.extend({initialize:function(){this.indexValues=[],this.labelValues={},this.hiderParents=[]},variableProps:{VisitedMarkers:{type:s.varTypes.STRING,value:""},MarkerInView:{type:s.varTypes.NUM,value:0},CameraLat:{type:s.varTypes.NUM,value:0},CameraLon:{type:s.varTypes.NUM,value:0}},resetObjectBeforeResume:function(){var t=a("resetObjectBeforeResume").apply(this,arguments);return this.trigger(r.threeSixtyImage.RESET_VIEW),this.shouldApplyResumeData=!1,t},buildResumeData:function(){return this.trigger(r.threeSixtyImage.UPDATE_RESUME_PROPS),a("buildResumeData").apply(this,arguments)},setResumeData:function(){a("setResumeData").apply(this,arguments);var t=this.getVisitedMarkers(),e=t.indexValues,i=t.labelValues;this.indexValues=e,this.labelValues=i,this.trigger(r.threeSixtyImage.APPLY_RESUME_DATA),null==this.currView&&(this.shouldApplyResumeData=!0)},getVisitedMarkers:function(){for(var t=this.prop("VisitedMarkers"),e=[],i={},n=0;n<t.length;n+=3){var r=parseInt("0x"+t[n]+t[n+1],16);e.push(r),i[r]=parseInt(t[n+2],10)}return{indexValues:e,labelValues:i}},updateLabelState:function(t,e){this.labelValues[t]=e?1:0},addVisitedMarker:function(t){this.indexValues.push(t),this.setVisitedMarkers(),DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?this.currView.refs.innard.dropInView.image3d.visitedMarkersChanged():this.currView.refs.innard.image3d.visitedMarkersChanged()},setVisitedMarkers:function(){for(var t="",e=0;e<this.indexValues.length;e++){var i=this.indexValues[e].toString(16),n=this.labelValues[this.indexValues[e]]||0;i.length<2&&(i="0"+i),t+=i+n}this.prop("VisitedMarkers",t)}});return l}.call(e,i,e,t),void 0===n||(t.exports=n)},8873:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(8359),r=DS._,o=DS.utils,s=DS.events,a=DS.BaseModel,l=DS.Chunk,c=DS.AnimationTimeline,u=DS.pubSub,h={},d=a.extend({shorthand:["duration","events"],shortEvents:{self:{"change:duration":"onChangeDuration"}},subscriptions:(e={},e[s.detection.VISIBILITY_SHOWN]="onVisibilityShown",e[s.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",e),initialize:function(){r.bindAll(this,"update","triggerPlaybackStateChange","onComplete"),this.timeline=new c({onUpdate:this.update}),this.labels=[],this.silent=!1,this.setUpTimelineDuration().setUpClamp().setupEvents().setRenderDirty()},setUpTimelineDuration:function(){return this.timeline.totalTime(this.duration()),this},timelineDuration:function(){return this.timeline.duration},setUpClamp:function(){return this.clampTime=r.partial(o.clamp,0,this.duration()||0),this},elapsedTime:function(){return this.timeline.time()},hasFinished:function(){return 1===this.progress()},hasStarted:function(){return this.progress()>0},update:function(){return 1!==this.progress()||this.completed||(this.completed=!0,this.onComplete()),this.trigger(s.timeline.TICK,this.progress()),this},play:function(){return this.timeline.play(),this.render(),this.trigger(s.timeline.PLAYING),u.trigger(s.course.PLAYING,{timeline:this}),this},pause:function(t,e){return t||this.render(),this.timeline.pause(),this.trigger(s.timeline.PAUSED,e),u.trigger(s.course.PAUSED,{timeline:this,fromTimelineUI:e}),this},render:function(){this.renderDirty&&(this.renderDirty=!1,this.seek(this.resetValue||0))},progress:function(t){if(null==t)return o.clamp(0,1,this.timeline.currentTime/this.duration());this.seek(Math.floor(t*this.duration()))},togglePlayback:function(){return this[this.isPlaying()&&!this.hasFinished()?"pause":"play"](!1,!0),this},onSeekStart:function(){this.isSeeking||(this.trigger(s.timeline.SEEK_START,this.seekPlaybackState),this.seekPlaybackState=this.playbackState(),this.isSeeking=!0),this.pause(!0)},onSeekEnd:function(){this.trigger(s.timeline.SEEK_END,this.seekPlaybackState),"playing"===this.seekPlaybackState?this.play():this.pause(),this.isSeeking=!1},seek:function(t){return t=this.clampTime(t),this.beforeSeekTime=this.elapsedTime(),this.trigger(s.timeline.BEFORE_SEEK_UPDATE),this.timeline.reset(),this.timeline.seek(t),this.update(),this.trigger(s.timeline.AFTER_SEEK_UPDATE,t),this.lastSeekTime=t,this.completed=!1,this},reset:function(){return DS.pubSub.trigger(s.timeline.BEFORE_RESET),this.trigger(s.timeline.BEFORE_RESET),this.trigger(s.timeline.RESET),this},silentReset:function(){return this.timeline.silent=!0,this.timeline.seek(0,!0),this.timeline.pause(),this.timeline.silent=!1,this},isPlaying:function(){return this.timeline.isActive()},setupEvents:function(){var t=this.events();return null!=t&&t.forEach(function(t){var e=r.uniqueId("timeline-"),i=t.time;this.timeline.add(e,i),this.timeline.add(function(){this.triggerTimelineEvent(t,e)}.bind(this),e),this.labels.push(e),h[e]=this}.bind(this)),this},triggerTimelineEvent:function(t,e){var i={context:this.getClosestThisRef(),timelineLabel:e,isSeekAction:this.isSeeking,beforeSeekTime:this.beforeSeekTime||0,time:t.time,currentTime:this.elapsedTime()};n.executeActions(t.actions,i)},playbackState:function(){return this.hasFinished()?"ended":this.isPlaying()?"playing":"paused"},onComplete:function(){this.trigger(s.timeline.ENDED),this.trigger(s.timeline.COMPLETE,this)},triggerPlaybackStateChange:function(){this.trigger(s.timeline[this.playbackState().toUpperCase()])},addChildTimeline:function(t,e){return this.timeline.add(t,e),this},removeChildTimeline:function(t){return null!=this.timeline&&this.timeline.remove(t),this},removeLabel:function(t){this.timeline.remove(t)},getResumeData:function(){return l.toSignedString64(this.elapsedTime())},resetResume:function(){this.resetValue=0,this.setRenderDirty()},setResumeData:function(t){this.resetValue=l.fromSignedString64(t),this.setRenderDirty().pause()},getResetValue:function(){return this.resetValue||0},clearResetValue:function(){return this.resetValue=0,this.setRenderDirty(),this},setRenderDirty:function(){return this.renderDirty=!0,this},onChangeDuration:function(){this.setUpTimelineDuration().setUpClamp()},destroy:function(){this.labels.forEach((function(t){h[t]=null}))},onVisibilityShown:function(){this.wasPlaying&&(this.wasPlaying=!1,this.play())},onVisibilityHidden:function(){this.isPlaying()&&(this.wasPlaying=!0,this.pause())},killEverything:function(){this.resetSubscriptions().stopListening().off(),this.timeline.kill(),this.timeline=null}},{getTimelineFromLabel:function(t){return h[t]}});return d}.call(e,i,e,t))||(t.exports=n)},6491:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(4884),n=i(9233),r=i(880),o=i(2494),s=i(920),a=i(2886),l=i(3764),c=DS._;DS.utils;return DS.BaseModel.extend({associations:{scale:o,position:n,rotation:r,alpha:e,mask:a,colors:l,skew:s},initialize:function(){c.bindAll(this,"build"),this.delay=this.get("time")},build:function(){var t=this,e=c.reduce(this.associations,(function(e,i,n){var r=t[n]().getAttrConfig(t.delay);return null!=r&&(e[n]=r),e}),{});return{delay:this.delay,duration:this.get("duration"),tweenAttrs:e}}})}.call(e,i,e,t))||(t.exports=n)},2470:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(7945),r=i(8289),o=DS,s=o._,a=o.constants,l=o.events,c=o.BaseModel,u=o.pubSub,h=o.errorManager,d=o.resolver,p=o.Chunk,f=o.localizationManager,g=h.throwError("Variable"),m=h.backtick,v={"^":"^0","&":"^1","'":"^2","+":"^3","\n":"^4","\r":"^5","?":"^6",",":"^7","%":"^8","\\":"^9",'"':"^A","‘":"^B","’":"^C","“":"^D","”":"^E"},S=s.invert(v),y=function(t,e){return s.reduce(t,(function(t,e,i){return t.split(i).join(e)}),e.toString())},b=s.partial(y,v),w=s.partial(y,S),x=function(t){return parseFloat(t.toPrecision(7))},D=function(t,e){return x(parseFloat(t)+parseFloat(e))},C=function(t,e){return x(parseFloat(t)-parseFloat(e))},E=function(t,e){return Number.isInteger(t)&&Number.isInteger(e)?t*e:x(parseFloat(t)*parseFloat(e))},P=function(t,e){return x(parseFloat(t)/parseFloat(e))},T=function(t,e){return e},I=function(t){return!t},A={number:{set:function(t,e){return""===t&&isNaN(e)?t:e},add:function(t,e){return""===t&&(t=0),D(t,e)},sub:function(t,e){return""===t&&(t=0),C(t,e)},mult:function(t,e){return""===t&&(t=0),E(t,e)},div:function(t,e){return""===t&&(t=0),P(t,e)},toggle:I},string:{add:function(t,e){return"".concat(t).concat(e)},sub:C,mult:E,div:P,set:T,toggle:I},boolean:{add:D,sub:C,mult:E,div:P,set:T,toggle:I}},L=c.extend({isVar:!0,idAttribute:"name",mixins:[r],shorthand:DS.flagManager.multiLangSupport?["value","name","resume"]:["value","name","type","resume"],shortEvents:{self:(e={},e[n.ADJUST_VAR]="adjust",e)},playerPropNames:{InitValue:null},initialize:function(){this.isRandomValue()&&this.value(this.getRandom(this.value())),DS.flagManager.multiLangSupport&&this.isLocalizedValue()&&this.initLocalizedValue(),this.initValue=this.value()},hasInitValue:function(){return this.initValue===this.value()},adjust:function(t,e){var i,n=function(t,e){return null!=t.value?d.getRef(t.value,e.context,e):d.resolvePath(t.variable,e.context)}(t,e),r=this.type()||"boolean",o=t.operator;return A[r][o]||g("adjust","Invalid adjustment operator",m(o)),this.isRandomValue(n)&&(n=this.getRandom(n)),i=A[r][o](this.value(),n),this.changeValue(i,t),this},changeValue:function(t,e){var i=this.value();i!==t&&(this.value(t,{relatedAction:e}),u.trigger(l.variable.CHANGED,this.absoluteId,t,i))},getEncodedString:function(t){return t=t||this.value(),this.hasInitValue()?"^":b(t)},decodeAndSetValue:function(t){return"^"!==t&&this.value(w(t),{silent:!0}),this},getEncodedValue:function(){var t=this.isString()?this.getEncodedString.bind(this):p.toSignedFloatString64;return p.create(t(this.value()))},setEncodedValue:function(t){return this.isString()?this.decodeAndSetValue(t):this.value(p.fromSignedFloatString64(t),{silent:!0}),this},resetValue:function(){this.wipe()},wipe:function(){this.value(this.initValue,{silent:!0}),this.trigger(l.variable.REFRESH_VIEW)},initLocalizedValue:function(){var t=this;this.localizationRef=this.value();var e=this.localizationRef.tableId;if(f.isTableLoaded(e))this.value(this.getLocalizedValue()),this.initValue=this.value();else var i=u.addListener(l.localization.TABLE_LOADED,(function(n){n===e&&(t.value(t.getLocalizedValue()),t.initValue=t.value(),i())}));u.addListener(l.localization.LANGUAGE_UPDATED,(function(){t.hasInitValue()&&(t.value(t.getLocalizedValue()),t.initValue=t.value())}))},getLocalizedValue:function(){return f.getStringFromRef(this.localizationRef)},isLocalizedValue:function(){return"stringL10nRef"===this.get("type")},isRandomValue:function(t){return null==t&&(t=this.value()),this.isNumber()&&d.isRandomToken(t)},getRandom:function(t){var e,i,n,r=t;return s.isString(t)&&"RAND"===(e=t.split("|"))[0]&&(i=parseInt(e[1],10),n=parseInt(e[2],10)+1,r=Math.floor(Math.random()*(n-i))+i),r}}),M=L.prototype;return DS.flagManager.multiLangSupport&&(M.type=function(){return this.isLocalizedValue()?"string":this.get("type")},M.isType=function(t){return this.type()===t}),M.isString=s.partial(M.isType,a.varTypes.STRING),M.isBoolean=s.partial(M.isType,a.varTypes.BOOL),M.isNumber=s.partial(M.isType,a.varTypes.NUM),L}.call(e,i,e,t))||(t.exports=n)},9710:function(t,e,i){var n;void 0===(n=function(t){"use strict";return DS.BaseModel.extend({})}.call(e,i,e,t))||(t.exports=n)},1958:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.resolver,n=DS.windowManager,r=DS.animationClock,o=/\./,s={},a=!1,l={},c=function(t){var e=t.getLayer(),i=e.parent;return{slideId:i.id,layerId:(e.isBaseLayer()?i:e).id}},u=function(t,e){var i=c(t),n=i.slideId,r=i.layerId,o=t.getRelativeId(),a=s[n]&&s[n][r];return e?(null==a&&(a={eventables:{},targets:{},relatives:{},lookup:{}},s[n]=s[n]||{},s[n][r]=a),null==a.eventables[o]&&(a.eventables[o]={sets:[],dirty:!1,eventStates:[]}),a):a},h=function(t,e,i){var n,r=function(e){e.isCollideable=!0;var n=e.getRelativeId(),r=t.relatives[n];null==r&&(r=t.relatives[n]={}),(r=r||{})[i]=i};if(e.isGroupingSlideObject&&function t(e){var i,n,o=e.getChildren(),s=o.length;for(i=0;i<s;i++)n=o[i],r(n),n.isGroupingSlideObject&&t(n)}(e),o.test(i))for(n=e.parent;null!=n&&!n.isKind("slidelayer");)r(n),n=n.parent};return{registerCollisions:function(t){t.collisionsCached||(t.collisionsCached=!0,null!=t.events()&&function(t){var e,n,r,o,s,a,l,c,d,p,f,g,m,v,S,y=t.events(),b=y.length,w={};for(s=0;s<b;s++)if("ononscreen"!==(m=(l=y[s]).kind)&&"onoffscreen"!==m||(l={kind:m="ononscreen"===m?"oncollisionstart":"oncollisionend",targets:["_currentSlide"],actions:l.actions}),"oncollisionstart"===m||"oncollisionend"===m)for(null==n&&(e=t.getRelativeId(),r=(n=u(t,!0)).eventables[e].sets,o=n.eventables[e].eventStates,t.isCollideable=!0,h(n,t,e)),c={lastHit:!1,event:l,targets:[]},o.push(c),p=(d=l.targets).length,a=0;a<p;a++)v=(f=i.resolvePath(d[a],t)).getRelativeId(),c.targets.push(f),null==w[v]&&(w[v]=!0,f.isCollideable=!0,h(n,f,v),null==(g=n.targets[v])&&(g=n.targets[v]={dirty:!1,sets:[]}),S={targetModel:f,eventableModel:t,lastCollision:!1,currCollision:!1},r.push(S),g.sets.push(S),null==n.lookup[e]&&(n.lookup[e]={}),n.lookup[e][v]=S)}(t))},getCollisionSets:function(t){if(t.isCollideable&&null!=t.currView){var i,n,r,o,s,a,l=[],c=t.getRelativeId(),h=u(t),d=h.relatives[c],p=h.eventables[c],f=h.targets[c];if(null!=p&&(l=p.sets,p.dirty=!1),null!=h.targets[c]&&(l=l.concat(f.sets),f.dirty=!1),null!=d)for(r=(i=Object.keys(d)).length,o=0;o<r;o++)n=i[o],s=h.eventables[n],a=h.targets[n],null!=s&&(l=l.concat(s.sets),s.dirty=!1),null!=a&&(l=l.concat(a.sets),a.dirty=!1);return e.uniq(l)}},getDirtyCollisionSets:function(){var t=n.getCurrentWindowSlide().id,i=l[t],r=[];return l={},e.forEach(i,(function(t){var e,i,n,o;for(n=(e=Object.keys(t.eventables)).length,i=0;i<n;i++)o=e[i],t.eventables[o].dirty&&(t.eventables[o].dirty=!1,r.push.apply(r,t.eventables[o].sets));for(n=(e=Object.keys(t.targets)).length,i=0;i<n;i++)o=e[i],t.targets[o].dirty&&(t.targets[o].dirty=!1,r.push.apply(r,t.targets[o].sets))})),e.uniq(r)},markCollisionsDirty:function(t,e){if(t.isCollideable&&null!=t.currView){var i,n,o,s,h,d,p=c(t),f=p.slideId,g=p.layerId,m=t.getRelativeId(),v=u(t),S=v.relatives[m];if(null!=v.eventables[m]&&(v.eventables[m].dirty=!0),null!=v.targets[m]&&(v.targets[m].dirty=!0),null!=S)for(o=(i=Object.keys(S)).length,s=0;s<o;s++)n=i[s],h=v.eventables[n],d=v.targets[n],null!=h&&(h.dirty=!0),null!=d&&(d.dirty=!0);l[f]=l[f]||{},l[f][g]=v,a||(a=!0,r.requestAnimationFrame((function(){a=!1,e()}),!0))}},getEventableLookupAndStates:function(t){var e=t.getRelativeId(),i=u(t),n=i.eventables[e];return{lookup:i.lookup[e],eventStates:n.eventStates}},clearHitStates:function(t){var i=s[t];e.forEach(i,(function(t){var e,i,n,r,o,s,a,l,c;for(i=(e=Object.keys(t.eventables)).length,o=0;o<i;o++){for(n=e[o],a=(r=t.eventables[n].eventStates).length,s=0;s<a;s++)r[s].lastHit=!1;for(c=(l=t.eventables[n].sets).length,s=0;s<c;s++)l[s].lastCollision=!1}}))},clearMapCache:function(){s={},a=!1},clearSlideCache:function(t){s[t]=null,l[t]=null}}}.call(e,i,e,t))||(t.exports=n)},2991:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS.utils;return{isResumable:function(t){return t.shouldResume?t.shouldResume():!(!t.resume||!t.resume())},getResumeableFilter:function(t){return t?e.alwaysTrue:this.isResumable},meetConditionOrReturn:function(t,e,i){return e.call(t)?t.getResumeData():i}}}.call(e,i,e,t))||(t.exports=n)},2512:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7945),n=i(1408),r=i(209),o=i(394),s=i(6),a=i(8289),l=i(8359),c=DS._,u=DS.BaseModel,h=DS.constants,d=DS.events,p=DS.resumer,f=DS.dom,g=DS.utils,m={};m.essay=m.numeric=m.fillin=function(t){return[f.writeNode("answer"),f.xmlEncodeValue(t),f.writeCloseNode("answer")].join("")},m.likert=m.sequence=m.matching=function(t){var e=this.getChoiceById(t.choiceResponse),i=this.getStatementById(t.statementResponse);return f.writeNode("answer",{statementid:i.lmstext,choiceid:e.lmstext},!0)},m.multiplechoice=m.truefalse=m.hotspot=m.wordbank=m.multipleresponse=function(t){var e=this.getChoiceById(t);if(null!=e)return f.writeNode("answer",{choiceid:e.lmstext},!0)};var v={numeric:function(t,e,i){return t.push(n.statementToString(e.statement,this)),t},matching:function(t,e,i){return t.push({choice:this.getChoiceById(e.choiceid),statement:this.getStatementById(e.statementid)}),t},default:function(t,e,i){return t.push(this.getChoiceById(e.choiceid)),t}};v.sequence=v.matching;var S,y,b=function(t,e,i){return c.find(t.get(e),{id:i.replace(e+".","")})},w=u.extend({mixins:[a,s,r],shorthand:["type","maxpoints","istracked","issurvey","skipenabled","choices","responseDefinition","answers","statements"],subscriptions:(y={},y[d.player.RESET]="reset",y),shortEvents:{self:(S={},S[e.EVAL_INTERACTION]="onEvalInteraction",S[e.ADD_CHOICE_RESPONSE]="onAddChoiceResponse",S[e.ADD_PAIR_RESPONSE]="onAddPairResponse",S)},playerPropNames:{AttemptCount:0,Status:h.statuses.INCOMPLETE,Value:"",Description:"",Score:0,LastScore:0,AnswerIndex:-1,Answered:!1,Unanswered:!1,Viewed:!1,Sent:!1,QuestionIndex:-1},responses:null,curAnswer:null,initialize:function(){this.attempts=[],this.getChoiceById=c.partial(b,this,"choices"),this.getStatementById=c.partial(b,this,"statements"),this.prop("CorrectResponse",this.getCorrectResponse())},attempt:function(){var t=this.prop("AttemptCount")+1;return this.prop("AttemptCount",t),this},appendAttempts:function(){return this.attempts.push(c.extend(this.getPlayerPropsRaw(),{responses:this.responses.slice(),Latency:p.getCourseTime()})),this},setAsViewed:function(t){this.prop("Viewed",t),this.trigger(d.interaction.VIEWED,this.absoluteId,this.maxpoints())},setStatusFromCurAnswer:function(){var t;return t=null!=this.curAnswer?this.curAnswer.status:this.get("issurvey")?h.statuses.NEUTRAL:h.statuses.INCORRECT,this.prop("Status",t),this},setAsAnswered:function(){return this.prop({Answered:!0,Unanswered:!1}),this},setAnswerIndex:function(){return this.prop("AnswerIndex",this.answers().indexOf(this.curAnswer)),this},setScore:function(){return this.prop({LastScore:this.curAnswer.points,Score:this.curAnswer.points}),this},evaluate:function(t){return this.attempt().updateCurAnswer().setScore().setStatusFromCurAnswer().updateQuestionCorrectVariable().appendAttempts().trigger(d.interaction.EVALUATED,this,null==t).executeAnswerActions(t),this},updateUserResponse:function(){return this.buildResponses(),this.hasValidResponses()&&this.updateCurAnswer(),this},updateCurAnswer:function(){var t=this.isType("numeric")?parseFloat:c.identity;return this.curAnswer=o.setCurrInteraction(this).evaluateAnswers(this.responses.map(t)),this.setAsAnswered().setAnswerIndex(),this},executeAnswerActions:function(t){var e=this.curAnswer;null!=t&&e&&l.executeActions(e.actions,{context:this.getClosestAncestorByKind("slide")})},buildResponses:function(){var t=this.responseDefinition().actions;return this.responses=[],null!=t&&(l.executeActions(t,{context:this.getClosestAncestorByKind("slide")}),this.updateValue()),this},updateValue:function(){var t=this.isType("numeric"),e=t?"first":"identity",i=t?parseFloat:c.identity;return this.prop("Value",c[e](this.responses.map(i))),this},addResponse:function(t){return this.responses.push(t),this},onEvalInteraction:function(t){this.buildResponses().evaluate(t)},onAddChoiceResponse:function(t){var e={string:c.identity,var:function(t){return this.resolvePath(t).value()}}[t.type]||this.resolvePath;this.addResponse(e.call(this,t.value))},onAddPairResponse:function(t){var e,i=t.valuea,n=t.valueb;this.addResponse({statementResponse:i,choiceResponse:(e=n,/^choices/.test(e)?n:this.resolvePath(n))})},getCorrectAnswer:function(){return c.find(this.answers(),{status:h.statuses.CORRECT})},getCorrectResponse:function(){var t=this.getCorrectAnswer(),e=v[this.type()]||v.default;return c.reduce(t?t.evaluate.statements:[],e.bind(this),[])},evaluateUnanswered:function(){if(!this.hasValidResponses())return this.attempt(),this.setStatusFromCurAnswer(),this.prop("Answered",!0),void this.trigger(d.interaction.EVALUATED,this);var t=this.prop("AnswerIndex");this.prop("Score");t>-1&&(this.curAnswer=this.answers()[t],this.prop({Status:this.curAnswer.status,Score:this.curAnswer.points,LastScore:this.curAnswer.points,Unanswered:!1,Answered:!0})),this.evaluate()},isPairResponse:function(t){return null!=t&&(null!=t.statementResponse||null!=t.choiceResponse)},isValidResponse:function(t){return null!=t&&(this.isPairResponse(t)?""!==t.statementResponse&&null!=t.statementResponse&&""!==t.choiceResponse&&null!=t.choiceResponse:""!==t)},hasResponses:function(){return null!=this.responses&&this.responses.length>0},hasValidResponses:function(){return this.hasResponses()&&this.responses.every(this.isValidResponse.bind(this))},isPassing:function(){return this.prop("Status")===h.statuses.CORRECT},markAttempts:function(){this.attempts.forEach((function(t){t.Sent=!0}))},getAoSoapXml:function(){return 0===this.prop("AttemptCount")||0===this.attempts.length?"":[f.writeNode("interaction",{idRef:g.stripPlayer(this.absoluteId),type:this.type()}),this.getAttemptXml(),f.writeCloseNode("interaction")].join("")},getAttemptXml:function(){return this.attempts.reduce(function(t,e,i,n){var r=i===n.length-1,o=m[this.type()].bind(this),s=[f.writeNode("attempt",{time:e.Latency,final:r.toString(),pointsAwarded:e.Score,result:e.Status,sent:e.Sent})];return e.responses.map(o).forEach((function(t){s.push(t)})),s.push(f.writeCloseNode("attempt")),t.push(s.join("")),t}.bind(this),[]).join("")},getCorrectValues:function(){return this.prop("CorrectResponse")},getResponseValues:function(t){return(this.responses||[]).map(function(t){return c.isPlainObject(t)?{statement:this.getStatementById(t.statementResponse||t.statement),choice:this.getChoiceById(t.choiceResponse||t.choice)}:this.isType("numeric")||this.isType("fillin")||this.isType("essay")||this.isType("likert")?t.toString():this.getChoiceById(t.toString())}.bind(this))},updateQuestionCorrectVariable:function(){var t=DS.playerGlobals.presentation.playerVars&&DS.playerGlobals.presentation.playerVars()?DS.playerGlobals.presentation.playerVars().variables().get("questionCorrect"):null;return null!=t&&t.value()!==this.isPassing()&&t.value(this.isPassing()),this}}),x=w.prototype;return x.getLastScore=c.partial(x.prop,"LastScore"),w}.call(e,i,e,t))||(t.exports=n)},3035:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(7945),o=i(4004),s=i(3200),a=i(8289),l=i(6),c=DS._,u=DS.windowManager,h=DS.utils,d=DS.constants,p=DS.events,f=DS.dom,g=DS.resolver,m=DS.BaseModel,v=DS.resumer,S=DS.pubSub,y=DS.vow,b=function(t){return!t.prop("Answered")},w=function(t){return 0===t.prop("AttemptCount")},x=function(t){return!0===t.prop("Viewed")},D=function(t){return x(t)&&b(t)},C=function(t){return x(t)&&w(t)},E=function(t){return!0===t.get("istracked")},P=function(t){return t.skipenabled()},T=function(t){return t.isSlide||I(t)},I=function(t){return t.isSlideDraw},A=function(t){return Math.floor(100*t)/100},L=m.extend({mixins:[l,a],shorthand:["issurvey","passPercent","submitunanswered","scoretype","resettype","reviewtype","actionGroups"],resolveables:["actionGroups","variables","quizzes"],associations:{sliderefs:s},playerPropNames:{mustPass:!0,QuizComplete:!1,AllQuestionsSubmitted:!1,AllQuestionsAnswered:!1,Score:0,PercentScore:0,PassScore:0,Evaluated:!1,Completed:!1,Passed:!1,CombinedTotal:0,CombinedPassed:0,CombinedFailed:0,Weight:1,model:{PassPercent:"passPercent"}},abilities:{resolveAsThis:!0,resolveAsParent:!0,beEventTarget:!0},shortEvents:{self:(n={},n[r.EVAL_ALL_UNANSWERED]="evalAllUnanswered",n[r.SET_QUIZ_COMPLETE]="setQuizComplete",n[r.NEXT_VIEWED_SLIDE]="onNextReviewedSlide",n[r.RESET_QUIZ]="onResetQuiz",n)},subscriptions:(e={},e[p.data.INITIALIZED]="onDataInitialized",e[p.slide.HAS_CHANGED]="onSlideHasChanged",e[p.player.RESET]="onResetPlayer",e),maxPoints:0,currentMaxPoints:0,attempts:0,initialize:function(){this.referencesBuilt=y.Deferred(),this.viewedInteractions={},this.listenTo(this.getPlayerProps(),{"change:Score":this.onChangeScoreProp})},onDataInitialized:function(){this.buildReferences(),this.referencesBuilt.then(this.updateInteractionRefs.bind(this))},updateInteractionRefs:function(){this.updateMaxPoints(),this.updatePassScore(),this.listenForViewsAndEvaluations(),this.listenForAnswered()},disconnectReferences:function(){null!=this.flatInteractions&&this.flatInteractions.forEach(function(t){this.stopListening(t)}.bind(this)),null!=this.interactions&&this.interactions.forEach(function(t){this.stopListening(t),this.stopListening(t)}.bind(this))},buildReferences:function(){return this.buildQuizzes(),this.slides=c(this.sliderefs().invoke("getSlide")).filter(T).value(),this.draws=this.slides.filter(I),this.waitForDraws(),y.after.apply(y,this.quizzes.map(c.property("referencesBuilt"))).then(this.referencesBuilt.resolve),this},waitForDraws:function(){var t=this.slides.filter(I);t.forEach(function(t){var e=this.onDrawReceived.bind(this,t);this.listenTo(t,p.slide.CHANGE,e),this.listenTo(t,p.draw.RESET,this.onDrawReset.bind(this)),this.listenTo(t,p.draw.RESET_COMPLETE,this.onAfterDrawReset.bind(this)),null==t.slides()?!1:e()}.bind(this)),0===t.length&&this.afterDrawReceived()},onDrawReset:function(t){this.disconnectReferences(),t.slides().forEach(function(t){c.remove(this.slides,t)}.bind(this)),c.set(t,["spliceIdx",this.absoluteId],-1),c.set(t,["spliceNum",this.absoluteId],0)},onAfterDrawReset:function(t){this.updateInteractionRefs()},onDrawReceived:function(t){var e=["spliceIdx",this.absoluteId],i=["spliceNum",this.absoluteId],n=h.getPath(t,e,this.slides.indexOf(t)),r=h.getPath(t,i,1);c.set(t,e,n),c.set(t,i,t.slides().length),n>=0&&r>0&&this.slides.splice(n,r),this.slides=this.slides.concat(t.slides().slice()),this.afterDrawReceived()},afterDrawReceived:function(){var t;return this.interactions=c(this.slides).invokeMap("interactions").compact().value(),this.flatInteractions=c(this.interactions).invokeMap("slice").flattenDeep().filter(E).value(),this.slides.forEach(function(t){null!=t.setQuiz&&t.setQuiz(this)}.bind(this)),this.flatInteractions.forEach((function(t,e){t.prop("QuestionIndex",e)})),t=0===this.flatInteractions.length,this.prop({AllQuestionsSubmitted:this.prop("AllQuestionsSubmitted")||t,AllQuestionsAnswered:this.prop("AllQuestionsAnswered")||t}),this},onSlideHasChanged:function(t){this.currentPlayerSlideId=t},getCurrentSlideIndex:function(t){return c.findIndex(t,function(t){return h.stripPlayer(t.absoluteId)===this.currentPlayerSlideId}.bind(this))},getFilteredItemsForReviewReset:function(t,e){return!0===this.issurvey()||void 0===e?c.sortBy(t,this.sortByViewedOrder):c(t).filter(e).sortBy(this.sortByViewedOrder).value()},sortByViewedOrder:function(t){return v.totalViewedSlides.indexOf(t)},onNextReviewedSlide:function(t){var e=c.isEmpty(t.status_filter)?void 0:t.status_filter;this.navigateToNextViewedQuizSlide(t,e)},onResetPlayer:function(){this.resetQuiz(!0)},onResetQuiz:function(){this.resetQuiz(!1)},navigateToNextViewedQuizSlide:function(t,e){var i,n=void 0!==e?function(t){return t.getInteractionStatus()===e}:void 0,r=this.getFilteredItemsForReviewReset(this.slides,n),o=this.getCurrentSlideIndex(r)+1;o===r.length?S.trigger(p.request.NEXT_SLIDE,t.completed_slide_ref.value):null!=(i=c.find(r.slice(o),(function(t){return c.includes(v.totalViewedSlides,t)})))?S.trigger(p.request.NEXT_SLIDE,i.absoluteId):S.trigger(p.request.NEXT_SLIDE,t.completed_slide_ref.value)},resetQuiz:function(t){var e,i;(this.resetProps(),this.completed=!1,this.viewedInteractions={},this.currentMaxPoints=0,!1===t&&this.resettype()===d.reviewResetTypes.INCORRECTONLY)&&(e=function(t){return!t.isPassing()},i=function(t){return t.getInteractionStatus()===d.statuses.INCORRECT},this.getFilteredItemsForReviewReset(this.flatInteractions,(function(t){return t.isPassing()})).forEach((function(t){return t.viewed=!0})),this.updateViewedInteractions());var n=this.getFilteredItemsForReviewReset(this.flatInteractions,e),r=this.getFilteredItemsForReviewReset(this.slides,i);if(c.invokeMap(n,"resetResume",!0),r.forEach((function(t){t.resetResume(),t.updateInteractionData().onAfterResumeBuilt()})),this.resettype()!==d.reviewResetTypes.INCORRECTONLY&&c.invokeMap(this.draws,"generateDraw"),this.updatePassScore().updateScore(),this.hasScoring()){var o=this.getScoring();o.prop("Completed",!1),S.trigger(p.quiz.RETRIED,o)}v.savePresentationData(),this.attempts++},listenForViewsAndEvaluations:function(){this.interactions.forEach(function(t){this.listenTo(t,p.interaction.VIEWED,this.onInteractionViewed),this.listenTo(t,p.interaction.EVALUATED,this.onInteractionEvaluated)}.bind(this))},listenForAnswered:function(){this.flatInteractions.forEach(function(t){this.listenTo(t.getPlayerProps(),"change:Answered",this.onInteractionAnswered)}.bind(this))},buildQuizzes:function(){this.getClosestParentRef();var t=this.get("quizrefs")||[];this.quizzes=t.map(function(t){var e=g.resolvePath(h.prefixWithPlayer(t.id),this);return e.prop({mustPass:t.mustpass,weight:t.weight}),e}.bind(this)),this.hasScoring()&&this.quizzes.forEach(function(t){t.setScoring(this.scoring)}.bind(this))},isPassed:function(){return this.updatePassScore().updatePercentScore(),this.prop("Score")>=this.prop("PassScore")&&this.quizzes.every((function(t){return t.prop("mustPass")&&t.isPassed()}))},calcScore:function(){return this.calcThisScore()+this.calcChildScores()},calcThisScore:function(){return c.reduce(this.flatInteractions,(function(t,e){return t+c.result(e,"getLastScore",0)}),0)},calcChildScores:function(){return this.reduceQuizzes((function(t,e){return t+e.calcScore()}),0)},updateScore:function(){return this.prop("Score",this.calcScore()),this.hasScoring()&&this.getScoring().updateScore(this),this.prop("Passed",this.isPassed()),this.prop("CombinedTotal",this.quizzes.length),this.prop("CombinedPassed",this.reduceQuizzes((function(t,e){return t+(e.isPassed()?1:0)}),0)),this.prop("CombinedFailed",this.quizzes.length-this.prop("CombinedPassed")),this},getCurrentMaxPoints:function(){return this.quizzes.length>0&&(this.currentMaxPoints=this.quizzes.reduce((function(t,e){return t+e.getMaxPoints()}),0)),this.currentMaxPoints},getMaxPoints:function(){return"partial"===this.scoretype()?this.getCurrentMaxPoints():this.maxPoints},calcPassScore:function(){return A(h.pctToDec(this.prop("PassPercent"))*this.getMaxPoints())},updatePassScore:function(){return this.prop("PassScore",this.calcPassScore()),this},calcPercentScore:function(){return A(h.decToPct(this.prop("Score")/(this.getMaxPoints()||1)))},updatePercentScore:function(){return this.prop("PercentScore",this.calcPercentScore()),this},calcMaxPoints:function(){return this.calcThisMaxPoints()+this.calcChildMaxPoints()},calcThisMaxPoints:function(){return c(this.flatInteractions).invokeMap("maxpoints").reduce(h.add,0)},calcChildMaxPoints:function(){return this.reduceQuizzes((function(t,e){return t+e.calcMaxPoints()}),0)},reduceQuizzes:function(t,e){return 0===this.quizzes.length?e:this.quizzes.reduce(t.bind(this),e)},updateMaxPoints:function(){return this.maxPoints=this.calcMaxPoints()||1,this},updateCurrentMaxPoints:function(){return this.currentMaxPoints=this.calcCurrentMaxPoints(),this},calcCurrentMaxPoints:function(){return c.reduce(this.viewedInteractions,(function(t,e){return t+e}),0)},updateViewedInteractions:function(){var t=this;return this.flatInteractions.forEach((function(e){e.viewed&&null==t.viewedInteractions[e.absoluteId]&&(t.viewedInteractions[e.absoluteId]=e.maxpoints())})),this},onInteractionEvaluated:function(t){this.updateScore().updateAllQuestionsSubmitted(),S.trigger(p.interaction.EVALUATED,this,t)},onInteractionViewed:function(t,e){null==this.viewedInteractions[t]&&(this.viewedInteractions[t]=e),this.updateCurrentMaxPoints()},onInteractionAnswered:function(t){this.prop("AllQuestionsAnswered",this.getUnansweredInteractions().every(P)),S.trigger(p.quiz.INTERACTION_ANSWERED,this)},onChangeScoreProp:function(){this.updatePercentScore()},updateAllQuestionsSubmitted:function(){return this.prop("AllQuestionsSubmitted",this.getUnsubmittedInteractions().every(P)),this},getUnsubmittedInteractions:function(){var t="viewed"===this.submitunanswered()?C:w;return this.flatInteractions.filter(t)},getUnansweredInteractions:function(){var t="viewed"===this.submitunanswered()?D:b;return this.flatInteractions.filter(t)},attempted:function(){return this.flatInteractions.length!==this.getUnansweredInteractions().length||this.quizzes.some((function(t){return t.attempted()}))},evalAllUnanswered:function(){var t=u.getCurrentWindowSlide();return null!=t&&t.storeInteractionResults(),this.prop("Evaluated")||(this.getUnsubmittedInteractions().forEach((function(t){t.evaluateUnanswered()})),this.quizzes.forEach((function(t){t.evalAllUnanswered()})),this.prop("Evaluated",!0)),this.quizzes.forEach((function(t){t.evalAllUnanswered()})),this.updateScore(),this.setResumeInMotion(),this.timeComplete=this.timeComplete||new Date,this},setQuizComplete:function(){var t=this.completed;this.completed=!0,this.prop("QuizComplete",this.quizzes.every((function(t){return t.getIsComplete()}))),this.updateScore(),t||S.trigger(p.quiz.COMPLETED,this),this.hasScoring()&&this.getScoring().checkCourseComplete(),this.timeComplete=new Date},getIsComplete:function(){return!0===this.prop("QuizComplete")},setResumeInMotion:function(){this.slides.forEach((function(t){t.updateInteractionData().onAfterResumeBuilt(!0)}))},getResumeData:function(){return[Number(this.prop("Evaluated")),Number(this.prop("QuizComplete"))].join("")},setResumeData:function(t){this.prop({Evaluated:"1"===t.charAt(0),QuizComplete:"1"===t.charAt(1)}),this.updateViewedInteractions(),this.updateCurrentMaxPoints(),this.updateScore(),this.hasScoring()&&this.getScoring().updateStatus(),this.updateAllQuestionsSubmitted()},setScoring:function(t){this.scoring=t},getScoring:function(){return this.scoring},hasScoring:function(){return!!this.getScoring()},getAttempts:function(){return this.attempts},markAttemptsSent:function(){this.flatInteractions.forEach((function(t){t.markAttempts()})),this.quizzes.forEach((function(t){t.markAttemptsSent()}))},getAoSoapXml:function(){var t=[f.writeNode("quiz",this.getQuizAttributes())];return this.quizzes.length?t.push(this.getQuizzesXml()):(t.push(f.writeNode("interactions")),this.flatInteractions.forEach((function(e){t.push(e.getAoSoapXml())})),t.push(f.writeCloseNode("interactions"))),t.push(f.writeCloseNode("quiz")),t.join("")},getQuizAttributes:function(){var t=this.isType("survey"),e=this.getIsComplete()?d.statuses.COMPLETE:d.statuses.INCOMPLETE,i=this.isPassed()?d.statuses.PASSING:d.statuses.FAILING,n=t?e:i,r={idRef:this.id,duration:0,status:n};return t||(r.score=Math.floor(100*this.prop("Score"))/100,r.possibleScore=this.maxPoints),r},getQuizzesXml:function(){var t=[f.writeNode("quizzes")];return this.quizzes.forEach((function(e){t.push(e.getAoSoapXml())})),t.push(f.writeCloseNode("quizzes")),t.join("")}});return o.prototype.model=L,L}.call(e,i,e,t))||(t.exports=n)},8205:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(8289),o=i(7875),s=i(7945),a=i(8335),l=DS._,c=DS.pubSub,u=DS.BaseModel,h=DS.Chunk,d=DS.subscribable,p=DS.events,f=DS.utils;return u.extend({mixins:[r,o,d],shorthand:["events"],subscriptions:(n={},n[p.request.NEXT_SLIDE]="onNextSlide",n[p.slide.STARTED]="onSlideReady",n[p.resume.RESET_DATA]="onResetData",n),shortEvents:{self:(e={},e[s.SHOW_TIMER]="onShowTimer",e[s.HIDE_TIMER]="onHideTimer",e[s.START_TIMER]="onStartTimer",e[s.PAUSE_TIMER]="onPauseTimer",e[s.RESET_TIMER]="onResetTimer",e)},initialize:function(){l.bindAll(this,"onNextSlide","onSlideReady","onResetData","onUpdate","onComplete");var t=this.get("duration");this.duration=f.toSeconds(t);var e={onUpdate:this.onUpdate,onComplete:this.onComplete};this.timeline=new a(t,e),this.resumeOnSlideReady=this.started=!1},onResetData:function(){this.resumeOnSlideReady=!1,this.deferredResumeData="",this.timeline.progress(0),this.trigger("tick",0,0,this.duration)},onNextSlide:function(){this.resumeOnSlideReady=this.started,this.timeline.pause()},onSlideReady:function(){this.resumeOnSlideReady&&this.timeline.play()},elapsed:function(t,e){if(null==t)return this.duration*this.timeline.elapsedPercentage();this.timeline.progress(f.toMilliseconds(t,3),e)},onShowTimer:function(){c.trigger(p.timer.SHOW,this),this.onUpdate()},onHideTimer:function(){c.trigger(p.timer.HIDE,this)},onStartTimer:function(){this.started=!0,this.timeline.play()},onPauseTimer:function(){this.started=!1,this.resumeOnSlideReady=!1,this.timeline.pause()},onResetTimer:function(){this.started=!1,this.onResetData()},onUpdate:function(){this.started&&this.trigger("tick",this.timeline.elapsedPercentage(),this.elapsed(),this.duration)},onComplete:function(){c.trigger(p.timer.COMPLETE),this.executePlayerEvent("timercomplete")},setResumeData:function(t){var e;"1"===t.charAt(0)&&(this.trigger("show"),this.trigger("start"),e=h.fromSignedString64(t.substr(1)),this.elapsed(f.toSeconds(e),!0),this.deferredResumeData="")},getResumeData:function(){return[this.started||this.resumeOnSlideReady?"1":"0",h.toSignedString64(f.toMilliseconds(this.elapsed()),3)].join("")}})}.call(e,i,e,t))||(t.exports=n)},7875:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8359),n=i(362),r=DS._,o=DS.utils,s=DS.errorManager.throwError("eventable"),a={isEventable:!0,hasEvent:function(t){return this.getEvents(t).length>0},getEvents:function(t){var e=this.events()||[];return e&&r.union(r.filter(e,{kind:t}),r.filter(e,{eventName:t}),r.filter(e,{eventname:t}))},getFilteredPlayerEvent:function(t,e,i){var o=this.getEvents(e);return 0===o.length?{events:n.empty,data:i}:(i&&!r.isObject(i)&&s("executeFilteredPlayerEvent","data supplied must be an object"),i=r.extend(i||{},{context:this.getClosestEventTarget(),eventType:e}),{events:new n(o).filter(t),data:i})},executeFilteredPlayerEvent:function(t,i,n){var r=this.getFilteredPlayerEvent(t,i,n);return r.events.forEach((function(t){null!=t.actions&&e.executeActions(t.actions,r.data)})),this},traceFilteredPlayerEvent:function(t,i,n){var r=this.getFilteredPlayerEvent(t,i,n);return r.events.map((function(t){return e.traceActions(t.actions,r.data)})).flatten()}};return r.extend(a,{executePlayerEvent:r.partial(a.executeFilteredPlayerEvent,o.alwaysTrue),tracePlayerEvent:r.partial(a.traceFilteredPlayerEvent,o.alwaysTrue)}),a}.call(e,i,e,t))||(t.exports=n)},6:function(t,e,i){var n;n=function(t){"use strict";var e=DS._,i=DS.utils,n=DS.events,r=DS.constants,o=DS.Backbone,s=function(t){return t[r.PLAYER_PROPS_KEYPATH]},a=function(t,e){return t[r.PLAYER_PROPS_KEYPATH].set(e),t},l={init:function(){var t,e;this.variableMap={},t=this,e=new o.Model,t[r.PLAYER_PROPS_KEYPATH]=e,this.createVariableProps().createPlayerProps(),this.once(n.data.UPDATED,this.createPlayerProps.bind(this))},getStaticPlayerProps:function(){return{Id:this.id,AbsoluteId:this.absoluteId&&i.stripPlayer(this.absoluteId),parent:this.parent}},isVariableProp:function(t){if(this.variableProps)return e.has(this.variableProps,t)},getVariableProp:function(t){return this.variableMap[t]},createVariableProps:function(){var t={};return this.variableProps&&(this.variableMap=e.reduce(this.variableProps,function(e,i,n){return e[n]=this.variables().addVariable({name:n,type:i.type,value:i.value,resume:null==i.resume||i.resume},this),t[n]=i.value,e}.bind(this),{}),this.variableProps=t),this},createPlayerProps:function(t,i){i=i||{};var n=e.extend({},this.getStaticPlayerProps(),this.getTransformedPropsObj(),t?{}:this.decodedResumeData);return a(this,e.omit(n,i)),s(this)},prop:function(t,i){var n=void 0===i&&!e.isObject(t),r=s(this);if(n)return r.get(t);(r.set(t,i),this.isVariableProp(t))&&this.getVariableProp(t).value(i);return this},getPlayerProps:function(){return s(this)},getVariableProps:function(){var t=this.variableProps||{};return e.forEach(t,function(e,i){if(this.isVariableProp(i)){var n=this.getVariableProp(i);n&&(t[i]=n.value())}}.bind(this))},getTransformedPropsObj:function(){var t=this.playerPropNames||{},i=e.omit(t,"model"),n=e.transform(t.model,function(t,e,i){t[i]=this.get(e)}.bind(this));return e.extend(i,n,this.getVariableProps())},hasOwnPlayerProp:function(t){return s(this).has(t)},prepareResumeData:function(t){return t=t||{},this.onBeforeResumeBuilt(t),e.isFunction(this.buildResumeData)&&this.buildResumeData(t.force,t.retainState),t.skipPostBuild||this.onAfterResumeBuilt(t.retainState),this},resetProps:function(){this.createPlayerProps(!0)},resetPropsExcept:function(t){this.createPlayerProps(!0,t)},resetSpecifiedProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=Object.assign({},this.getStaticPlayerProps(),this.getTransformedPropsObj());return a(this,e.pick(i,t)),s(this)},getPlayerPropsRaw:function(){return this.getPlayerProps().toJSON()},onAfterResumeBuilt:e.noop,onBeforeResumeBuilt:e.noop};return l}.call(e,i,e,t),void 0===n||(t.exports=n)},209:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.Chunk,n=DS.constants,r=[n.statuses.CORRECT,n.statuses.INCOMPLETE,n.statuses.INCORRECT,n.statuses.NEUTRAL],o=function(t,e){return t>-1?"0"+i.toUnsignedString64(t,2):"1"+i.create(e)},s=function(t,e){return[t,e].join(".")},a=e.partial(s,"statements"),l=e.partial(s,"choices");return{init:function(){e.bindAll(this,"responseToResumeData")},updateInitialAttemptCount:function(){this.initialAttemptCount=this.prop("AttemptCount"),this.responsesBuiltOnExit=!1},getResumeData:function(){var t=this.prop("AttemptCount"),e=i.toUnsignedString64(t,2);return this.initialAttemptCount!==t||this.responsesBuiltOnExit||this.buildResponses(),e+=[this.prop("Answered")?1:0,this.prop("Unanswered")?1:0,t>0?this.getAttemptResumeData():this.getNoAttemptResumeData()].join("")},getResponseResumeData:function(){var t=e.isEmpty(this.responses)?this.lastResponses:this.responses;if("hotspot"===this.type()&&!e.isEmpty(t)){var n=t[0].split(".")[1],r=e.findIndex(this.choices(),{id:n});return i.create(i.toSignedString64(r))}},setResponseResumeData:function(t){if("hotspot"===this.type()){var e=t.getUnsignedValue(),i=this.choices()[e].id;this.lastResponses=[l(i)]}},getAttemptResumeData:function(){return[r.indexOf(this.prop("Status")),i.create(i.toSignedString64(this.prop("Score"))),i.create(i.toSignedString64(this.prop("LastScore"))),i.create(i.toSignedString64(this.prop("AnswerIndex"))),this.getResponseResumeData()].join("")},getNoAttemptResumeData:function(){var t=this.responses||[];return i.toUnsignedString64(t.length,2)+t.map(this.responseToResumeData.bind(this)).join("")},responseToResumeData:function(t){var n,r,s,a=this.isValidResponse(t),l=this.isPairResponse(t),c=(a?2:0)+(l?1:0),u=i.toUnsignedString64(c,1);return a&&(r=l?t.choiceResponse:t,e.isString(r)||(r=r.value()),s=e.findIndex(this.choices(),{id:r.split(".")[1]}),u+=o(s,r),l&&(n=e.findIndex(this.statements(),{id:t.statementResponse.split(".")[1]}),u+=o(n,t.statementResponse))),i.create(u)},reset:function(){this.resetResume(!0)},resetResume:function(t){!0===t?this.resetProps():this.resetPropsExcept("LastScore"),this.resetResponses()},resetResponses:function(){this.responses=[],this.curAnswer=null},setResumeData:function(t){if(null!=t&&""!==t){var e=function(e){var i=t.slice(0,e);return t=t.slice(e),i};this.prop({AttemptCount:i.fromUnsignedString64(e(2)),Answered:"1"===e(1),Unanswered:"1"===e(1)}),this.prop("AttemptCount")>0?this.setAttemptResumeData(t):this.setNoAttemptResumeData(t)}},setAttemptResumeData:function(t){var e,n,o=parseInt((e=1,n=t.slice(0,e),t=t.slice(e),n)),s=new i({fullString:t}),a=s.reChunk(),l=a.reChunk(),c=l.getSignedValue(),u=l.reChunk();this.setResponseResumeData(u),this.prop({Status:r[o],Score:s.getSignedValue(),LastScore:a.getSignedValue(),AnswerIndex:c}),this.curAnswer=this.answers()[c]},setNoAttemptResumeData:function(t){for(var e,n,r,o,s,c,u,h=function(e){var i=t.slice(0,e);return t=t.slice(e),i},d=function(){return"0"===h(1)},p=function(){var e=new i({fullString:t}),n=e.encodedString();return t=e.remainder(),n},f=i.fromUnsignedString64(h(2)),g=new i({fullString:t});f--;)t=g.encodedString(),g=g.reChunk(),n=1&(e=i.fromUnsignedString64(h(1),10)),2&e&&(d()?(o=i.fromUnsignedString64(h(2)),c=this.choices()[o].id,r=l(c)):r=p(),n&&(d()?(s=i.fromUnsignedString64(h(2)),u=a(this.statements()[s].id)):u=p(),r={choiceResponse:r,statementResponse:u}),this.responses=this.responses||[],this.responses.push(r))}}}.call(e,i,e,t))||(t.exports=n)},4436:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.Chunk,n=DS.vow,r=(DS.utils,DS.playerGlobals),o=DS.events,s=DS.resumer,a=DS.pubSub,l="slides",c="slidedraws",u={arrays:{slides:"slidesResume",slidedraws:"slidedrawsResume"},maps:{slides:"slidesResumeMap",slidedraws:"slidedrawsResumeMap"},arrGetters:{slides:"getResumableSlidesArray",slidedraws:"getResumableDrawsArray"},indexGetters:{slides:"getSlideMapIndexOf",slidedraws:"getDrawMapIndexOf"}},h=function(t){return t.isSlideDraw||t.resume()||t.hasInteractions()||r.player.isReadOnlyOnce()},d={postInit:function(){r.player&&r.player.hasData?this.onPlayerInitialized():a.once(o.player.INITIALIZED,this.onPlayerInitialized.bind(this))},onPlayerInitialized:function(){var t;this.isScene&&(this.createSlideResumeArray(),this.hasDraws()&&(t=this.slidedraws().invoke("getSlidePromise"),n.after.apply(n,t).then(this.createDrawResumeArray.bind(this))))},getResumableArray:function(t){return this[t]().filter(h)},createSlideResumeArray:function(){return this.slidesResumeMap=[],this.slidesResume=this.slides().filter(h).reduce(function(t,e){return this.slidesResumeMap.push(e.index()),t.push(i.EMPTY_CHUNK),t}.bind(this),[]),this},createDrawResumeArray:function(){this.slidedrawsResumeMap=[],this.slidedrawsResume=this.slidedraws().reduce(function(t,e){return e.createSlideResumeArray(),this.slidedrawsResumeMap.push(e.index()),t.push(i.create(e.getResumeData())),t}.bind(this),[])},createOrderArray:function(t){this.resumeOrder=t.map(function(t){return i.toUnsignedString64(this.sliderefs().indexOf(t),2)}.bind(this)).join("")},getMapIndexOf:function(t,e){return this[t].indexOf(e.index())},saveData:function(t,e){if(h(e)){var n=u.indexGetters[t],r=u.arrays[t],o=this[n](e);this[r][o]=i.create(e.getResumeData())}this.isScene?s.savePresentationData(this):this.getScene().saveDrawData(this)},getResumeData:function(){return this[this.isSlideDraw?"getDrawResume":"getSceneResume"]()},getDrawResume:function(){var t=this.variables();return[i.create(this.resumeOrder),this.slidesResume.join(""),t.length?i.create(t.getResumeDataOrReturn("")):""].join("")},getSceneResume:function(){var t=this.variables();return[t.length?i.create(t.getResumeDataOrReturn("")):"",this.slidesResume.join(""),(this.slidedrawsResume||[]).join("")].join("")},clearResumeData:function(){this.createSlideResumeArray()},setResumeData:function(t){""!==t&&null!=t&&this[this.isSlideDraw?"setDrawResume":"setSceneResume"](t)},setSceneResume:function(t){var e,n=new i({fullString:t}),r=n,o=this.variables();o.length&&(o.setResumeData(n.encodedString()),r=n.reChunk()),e=this.setSlideResumeData(r),this.setDrawsResumeData(e)},setDrawResume:function(t){var e,n=new i({fullString:t}),r=n.reChunk(),o=this.variables();this.setSlidesInResumeOrder(n.encodedString()),e=this.setSlideResumeData(r),o.length&&o.setResumeData(e.encodedString()),this.slideDfd.resolve(this.slides())},setSlidesInResumeOrder:function(t){var e,n;for(this.resumeOrder=[];t.length>0;)e=t.slice(0,2),this.resumeOrder.push(i.fromUnsignedString64(e)),t=t.slice(2);n=this.resumeOrder.map(function(t){return this.sliderefs()[t]}.bind(this)),this.generateSlides(n)},setSlidesOrDrawsResumeData:function(t,e){var n,r=this[u.arrGetters[t]](),o=this[u.arrays[t]];return r.forEach((function(t,r){n=e.encodedString(),o[r]=i.create(n),t.setResumeData(n),e=e.reChunk()})),e}};return d.saveSlideData=e.partial(d.saveData,l),d.saveDrawData=e.partial(d.saveData,c),d.getSlideMapIndexOf=e.partial(d.getMapIndexOf,u.maps[l]),d.getDrawMapIndexOf=e.partial(d.getMapIndexOf,u.maps[c]),d.getResumableSlidesArray=e.partial(d.getResumableArray,l),d.getResumableDrawsArray=e.partial(d.getResumableArray,c),d.setSlideResumeData=e.partial(d.setSlidesOrDrawsResumeData,l),d.setDrawsResumeData=e.partial(d.setSlidesOrDrawsResumeData,c),d}.call(e,i,e,t))||(t.exports=n)},4595:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2991),n=DS._,r=DS.Chunk,o=function(t){return!!t.isSlide};return{init:function(){this.getResumeDataOrReturn=n.partial(e.meetConditionOrReturn,this,this.isViewed)},getResumeData:function(){return this.encodedResumeData},buildResumeData:function(t){(t&&this.isOpen||this.resume())&&(this.encodedResumeData=this.shownInCurrentView?[this.timeline().getResumeData(),this.getObjectsResumeData(t),this.audiolib().getResumeData(t),this.variables().getResumeDataOrReturn("")].map(r.create).join(""):this.viewed?this.cachedResumeData:"")},getObjectsResumeData:function(t){return this.objectIndex.filter(e.getResumeableFilter(t)).reduce((function(e,i){return e+r.create(i.getResumeData(t))}),"")},clearResumeData:function(){this.cachedResumeData="",this.isViewed=!1,this.baseLayerPauses=[]},resetResume:function(){this.encodedResumeData="",this.resetBeforeView()},resetBeforeView:function(){return this.timeline().resetResume(),this.variables().resetValues(),this.resetProps(),this.audiolib().resetBeforeView(),this.baseLayerPauses=[],n.invokeMap(this.objDecendants,"resetResume"),this},setResumeData:function(t,e){if(this.cachedResumeData=t,(e||this.shouldResume())&&t){this.wasForcedResumed=e;var i=new r({fullString:t}),n=i.reChunk(),o=n.reChunk(),s=o.reChunk();this.setAsViewed(!0),this.timeline().setResumeData(i.encodedString()),this.setObjectsResumeData(n.encodedString(),e),this.audiolib().setResumeData(o.encodedString(),e),this.variables().setResumeData(s.encodedString())}},applyResumeData:function(){return this.setResumeData(this.encodedResumeData),this},setObjectsResumeData:function(t,i){var n=new r({fullString:t});this.objectIndex.filter(e.getResumeableFilter(i)).forEach((function(t){t.setResumeData(n.encodedString()),n=n.reChunk()}))},onBeforeResumeBuilt:function(t){this.objects().invoke("prepareResumeData",t)},shouldResume:function(){return this.resume()&&this.getClosestAncestor(o).resume()},willLayerResume:function(){return!!this.resume()&&this.getClosestAncestor(o).willLayerResume(this)}}}.call(e,i,e,t))||(t.exports=n)},631:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.events,n=DS.utils,r=(DS.keyManager,DS.Chunk),o=1,s=2,a=4,l=8,c=16,u=32,h=64,d=128,p=256,f=512,g=1024,m=2048,v=4096,S=1,y=2,b=4,w=8,x=4094,D=function(t){return!!t.isBaseLayer},C=function(t,e){var i=t.slice(0,e);return{data:t=t.slice(e),substr:i}},E=function(t,e,i){return r[!0===i?"fromUnsignedString64":"fromSignedString64"](t(e))};return{resetResume:function(){this.encodedResumeData="",this.setDecodedResumeDataObj(),this.resetObjectBeforeResume()},getResumeData:function(){return this.encodedResumeData||""},getFullResumeData:function(t){return this.buildResumeData(t).getResumeData()},buildResumeData:function(t){var e,i=0,n="",S=this.prop("DragConnected");return(this.shouldResume()||t)&&(this.isInDefaultState()||(i+=o,n+=r.toUnsignedString64(this.getCurrentStateIndex(),2)),this.isDraggable()&&S&&(i+=l,n+=r.toUnsignedString64(S.prop("slideIndex"),2),n+=r.toUnsignedString64(this.prop("DropIndex"),1)),this.isAtNewDepth()&&(i+=u,n+=r.toSignedString64(this.prop("depth"),2)),this.isShuffled()&&(i+=h,n+=r.toSignedString64(this.prop("ShuffleXPos"),2),n+=r.toSignedString64(this.prop("ShuffleYPos"),2),n+=r.toUnsignedString64(this.prop("tabIndex"),2)),i+=this.prop("OnStage")*a,i+=this.prop("Moved")*d,i+=this.prop("ReviewMode")*g,i+=this.prop("HiddenByLayer")*v,i+=this.prop("MouseOver")*m,i+=!this.prop("Enabled")*f,i+=!this.prop("TimelineControlled")*p,(e=this.variables().getResumeDataOrReturn(!1))&&(i+=s,n+=e),this.hasAnimated()&&(i+=c,this.animationStateData=this.getAnimationResumeState(),this.trigger("addanimationdata",this.collectAnimationResumeData.bind(this)),this.buildAnimationResumeData(this.animationStateData),n+=this.getAnimationResumeData())),this.encodedResumeData=r.toUnsignedString64(i,3)+n,this},getAnimationResumeData:function(t){return r.create(this.animationResumeData)},collectAnimationResumeData:function(t){this.animationStateData=e.extend(this.animationStateData,t)},buildAnimationResumeData:function(t){var e=this.getInitParentContainer(),i=this.getParentContainer(),n=i!==e,o=x,s=0;this.animationResumeData="",(n||this.isScaled()||this.isRotated()||this.isInNewPosition())&&(s+=S,this.animationResumeData+=r.toSignedString64(Math.round(t.RawXPos),2,!0),this.animationResumeData+=r.toSignedString64(Math.round(t.RawYPos),2,!0),n&&(o=i.isSlideLayer||i.isSlide?4095:i.prop("slideIndex")),this.animationResumeData+=r.toUnsignedString64(o,2),this.isScaled()&&(s+=y,this.animationResumeData+=r.toSignedString64(t.ScaleX,2),this.animationResumeData+=r.toSignedString64(t.ScaleY,2)),this.isRotated()&&(s+=b,this.animationResumeData+=r.toSignedString64(t.Rotation,2))),this.isAlphaed()&&(s+=w,this.animationResumeData+=r.toUnsignedString64(t.Alpha,2)),s>0&&(this.animationResumeData=r.toUnsignedString64(s,1)+this.animationResumeData)},setDecodedResumeDataObj:function(){this.decodedResumeData={}},setDecodedResumeProp:function(t,i){var n={};e.isObject(t)?n=t:n[t]=i,e.extend(this.decodedResumeData,n)},forceUpdateResume:function(){this.prop(this.decodedResumeData||{})},setResumeData:function(t){var i=this;if(this.setDecodedResumeDataObj(),e.isEmpty(t))return this;this.setTransformDirty();var r,v,S,y,b,w=e.partial(E,(function(e){var i=C(t,e);return t=i.data,i.substr})),x=w(3,!0);if(x&o?this.setDecodedResumeProp("ObjectState",this.getStateFromIndex(w(2))):this.setDecodedResumeProp("ObjectState","_default"),x&l&&(r=w(2),this.setDecodedResumeProp("DropIndex",w(1)),v=this.getClosestAncestor(D).getObjectByIndex(r),this.setDecodedResumeProp("DragConnected",v),this.setDecodedResumeProp("DropTargetId",v.id)),x&u&&this.setDecodedResumeProp("depth",w(2)),x&h&&(S=w(2),y=w(2),b=w(2,!0),this.prop("tabIndex",b),null!=this.currView&&(this.currView.idx=b),this.setDecodedResumeProp({ShuffleXPos:S,RawXPos:S,ShuffleYPos:y,RawYPos:y})),this.setDecodedResumeProp({Moved:!!(x&d),TimelineControlled:!(x&p),Enabled:!(x&f),ReviewMode:!!(x&g),MouseOver:!!(x&m)}),x&s){if(t=this.variables().setResumeData(t),this.setDecodedResumeProp(this.getVariableProps()),this.isKind("droparea")){var P=this.variables().get("SelectedItem");if(null!=P){var T=P.value();if(-1!==T){var I=this.getClosestAncestor(D).getObjectByIndex(T);this.prop("DragConnectData",I.get("connectdata"))}}}if(this.isKind("sequencectrl")){var A=this.variables().get("ItemOrder");if(null!=A){var L=A.value().split(""),M=n.getPath(this,"data.itemlist");L.forEach((function(t,e){i.prop("_pos".concat(e),M[t].itemdata)}))}}}return x&c&&this.setAnimationResumeData(t),this.setDecodedResumeProp("OnStage",!!(x&a)),this.prop(this.decodedResumeData),this},setAnimationResumeData:function(t){var e,i,n,o,s,a={},l=new r({fullString:t}),c=l.encodedString(),u=function(t,e){var i=r.fromOverflowString64(c,t,e),n=i.length,o=i.value;return c=c.slice(n),o};return c.length&&((e=r.fromUnsignedString64((s=C(c,1),c=s.data,s.substr)))&S&&(a.RawXPos=u(2),a.RawYPos=u(2),(i=u(2,!0))!==x&&(n=this.getClosestAncestor(D),o=4095===i?n:n.getObjectByIndex(i),this.reparentChild(o))),e&y&&(a.ScaleX=u(2),a.ScaleY=u(2)),e&b&&(a.Rotation=u(2)),e&w&&(a.Alpha=u(2,!0)),this.setDecodedResumeProp(a)),l.remainder()},setResumeDataLimited:function(t){var i=function(e){var i=C(t,e);return t=i.data,i.substr},n=e.partial(E,i),r=n(3,!0);if(r&o&&this.setStateFromIndex(n(2)),r&s)return r&l&&i(3),r&u&&i(2),r&h&&i(4),this.variables().setResumeData(t),this},resetObjectBeforeResume:function(t){this.isKind("shufflegroup")?this.markAsReset():(this.variables().resetValues(),t||(this.trigger(i.resume.RESET),this.animations().length>0&&this.trigger("killAnimations"),this.resetPropsExcept("updateGifOnShow")))},onBeforeResumeBuilt:function(t){this.objects&&this.objects().invoke("prepareResumeData",t)},onAfterResumeBuilt:function(){},shouldResume:function(){return this.resume()&&!this.isKind("shufflegroup")&&this.getClosestAncestor(D).shouldResume()}}}.call(e,i,e,t))||(t.exports=n)},3450:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(1958),n=i(2991),r=DS.events,o=(DS.utils,DS.Chunk),s=DS.courseStateHelper,a=function(t){return o.create(o.toUnsignedString64(t))};return{getResumeData:function(){return this.encodedResumeData||""},buildResumeData:function(t,e){var i="";if(this.viewed)if(t||this.resume()){var n=this.getBaseLayer();i=[this.getSlidePersistentData(),n.timeline().getResumeData(),n.getObjectsResumeData(t),this.getSlideLayerResumeData(t),this.slideLayers().getActiveLayersResumeData(),n.audiolib().getResumeData(t),this.variables().getResumeDataOrReturn("")].map(o.create).join("")}else i=o.create(this.getSlidePersistentData());this.setResumeData(i,!1,e)},getSlideLayerResumeData:function(t){return this.slideLayers().getNonBaseLayers().filter(n.getResumeableFilter(t)).reduce((function(t,e){var i=e.getResumeDataOrReturn("");return t+o.create(i)}),"")},getSlidePersistentData:function(){var t="";return t+=o.create(o.toUnsignedString64(this.elapsedTime)),t+=o.create(this.getLayerTimelinesData()),this.hasInteractions()&&(t+=this.interactions().map((function(t){return t.getResumeData()})).map(o.create).join("")),t},updateInteractionData:function(){var t;return this.hasInteractions()&&(t=new o({fullString:this.getResumeData()}).remainder(),this.encodedResumeData=o.create(this.getSlidePersistentData())+t),this},clearResumeData:function(){this.encodedResumeData="",this.hasResumeData=!1,this.slideLayers().forEach((function(t){t.clearResumeData()})),this.slideLayers().initialize()},resetResume:function(){this.encodedResumeData="",this.setResumeData(""),this.slidePersistentData=""},resetBeforeView:function(){return this.viewed&&(e.clearHitStates(this.id),this.resetPropsExcept(["WindowId"]),this.variables().resetValues(),this.slideLayers().hideAllHideableLayers(),this.slideLayers().resetActiveLayers(),this.slideLayers().getBaseLayer().resetResume(),this.slideLayers().resetActiveLayers().forEach((function(t){t.resetResume()}))),this.resume()||this.interactions().forEach((function(t){t.resetResume()})),this.resetCurrentTimeline(),this},setResumeData:function(t,e,i){return this.encodedResumeData=t,t.length>0?(this.slidePersistentData=new o({fullString:t}),this.setSlidePersistentData(this.slidePersistentData.encodedString(),i),(e||this.resume())&&(this.hasResumeData=!0,this.timelineData=this.slidePersistentData.reChunk(),this.objectData=this.timelineData.reChunk(),this.layerData=this.objectData.reChunk(),this.activeLayerData=this.layerData.reChunk(),this.audioData=this.activeLayerData.reChunk(),this.variableData=this.audioData.reChunk())):this.hasResumeData=!1,this},resumeSlideModel:function(){this.resume()&&this.hasResumeData&&(this.getBaseLayer().setObjectsResumeData(this.objectData.encodedString()),this.setSlideLayerResumeData(this.layerData),this.variables().setResumeData(this.variableData.encodedString()))},applyResumeData:function(){var t=!1,e=this.getBaseLayer(),i=s.getSlideStateData(this.absoluteId);return null!=i&&(t=!0,s.clearSlideStateData(this.absoluteId),this.setResumeData(i,!0)),(t||this.resume())&&this.hasResumeData&&(this.hasResumeData=!1,e.timeline().setResumeData(this.timelineData.encodedString()),e.setObjectsResumeData(this.objectData.encodedString(),t),this.setSlideLayerResumeData(this.layerData,t),this.variables().setResumeData(this.variableData.encodedString()),this.slideLayers().restoreActiveLayers(this.activeLayerData.encodedString()),this.trigger(r.resume.APPLIED)),this.trigger(r.resume.COMPLETE),this},setSlidePersistentData:function(t,e){var i=new o({fullString:t});this.elapsedTime=i.getUnsignedValue(),i=i.reChunk(),this.setLayerTimelinesData(i.encodedString()),i=i.reChunk(),this.hasInteractions()&&this.interactions().forEach((function(t){e||t.resetResponses(),t.setResumeData(i.encodedString()),i=i.reChunk()}))},setSlideLayerResumeData:function(t,e){var i=new o({fullString:t.encodedString()});this.slideLayers().getNonBaseLayers().filter(n.getResumeableFilter(e)).forEach((function(t){t.setResumeData(i.encodedString(),e),i=i.reChunk()}))},willLayerResume:function(t){if(null!=this.layerData){var e=new o({fullString:this.layerData.encodedString()});return this.slideLayers().some((function(i){if(i.resume()&&!i.isBaseLayer()){if(i===t)return e.strLength()>0;e=e.reChunk()}return!1}))}return!1},onBeforeResumeBuilt:function(t){this.slideLayers().invoke("prepareResumeData",t)},onAfterResumeBuilt:function(t){this.getSceneOrDraw().saveSlideData(this),t||this.getBaseLayer().timeline().silentReset()},getWindowResumeRef:function(){var t,e,i=this.getSlideDraw();return i?(t="1",e=[this.index(),i.getScene().index(),i.index()]):(t="0",e=[this.index(),this.getScene().index()]),t+e.map(a).join("")}}}.call(e,i,e,t))||(t.exports=n)},9910:function(t,e,i){var n;void 0===(n=function(t){"use strict";DS._,DS.utils;return{init:function(){this.detachedChildren={}},reparentChild:function(t,e){if(e!==this){var i=t.currView,n=e.currView;this.detachedChildren[t.absoluteId]={child:t,newParent:e},null!=i&&null!=n&&n.attachView(i)}else this.reattachChild(t)},reattachChild:function(t){var e=t.absoluteId,i=this.detachedChildren[e];this===t.parent&&delete this.detachedChildren[e],null!=i&&(this.currView.attachView(t.currView),i.newParent=this)},getChildParent:function(t){var e=this.detachedChildren[t.absoluteId];return null!=e?e.newParent:this}}}.call(e,i,e,t))||(t.exports=n)},4884:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}};return e.extend({getSegmentPoint:function(t,e){var i=n[e];return{x:t[i.x],dx:t[i.dx],y:0,dy:0}}})}.call(e,i,e,t))||(t.exports=n)},6432:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8377);var e=i(7729),n=DS._,r=DS.utils,o=DS.BaseModel,s=DS.resolver,a={exponetial:"expo",bounce:"bounce",circular:"circ",cubic:"power2",linear:"none",quadratic:"power1",quadradic:"power1",quartic:"power3",quintic:"power4",sine:"sine"},l={easein:"in",easeout:"out",easeinout:"inOut",none:"none"},c="cubic",u="line",h=n.partialRight(r.fix,2),d=/^[/$#]/;return o.extend({initialize:function(){n.bindAll(this,"getAttrConfig")},getAttrConfig:function(t){return this.hasDuration()?(null==this.points&&this.initPath(),this.buildConfig(t)):null},initPath:function(){this.segments=[],this.ptResolvers=[],this.segmentResolvers=[],n.forEach(this.get("path"),function(t,e){this.buildSegment(t,e)}.bind(this))},buildSegment:function(t,i){var n=t.type||u,r={points:[]},o=this.ptResolvers.length,s=function(){r.samples=e.getSamplePoints(r.points),r.distance=e.getDistance(r.points,r.samples)};this.buildSinglePoint(r,this.getSegmentPoint(t,"anchora")),n!==u&&this.buildSinglePoint(r,this.getSegmentPoint(t,"controla")),n===c&&this.buildSinglePoint(r,this.getSegmentPoint(t,"controlb")),this.buildSinglePoint(r,this.getSegmentPoint(t,"anchorb")),null!=this.extendSegmentConfig&&this.extendSegmentConfig(r,t),o===this.ptResolvers.length?s():this.segmentResolvers.push(s),this.segments.push(r)},getSegmentPoint:n.noop,extendConfig:n.identity,extendAfterUpdate:n.identity,buildSinglePoint:function(t,e){var i;this.isStaticPoint(e)?t.points.push(this.getAbsolutePoint(e)):(i=t.points.length,this.ptResolvers.push(function(){t.points[i]=this.getAbsolutePoint(e)}.bind(this)),t.points.push(null))},isStaticPoint:function(t){return this.isStaticValue(t.x)&&this.isStaticValue(t.dx)&&this.isStaticValue(t.y)&&this.isStaticValue(t.dy)},isStaticValue:function(t){return!n.isString(t)||!d.test(t)},getAbsolutePoint:function(t){return{x:h(this.getAbsoluteCoordinate(t.x,t.dx)),y:h(this.getAbsoluteCoordinate(t.y,t.dy))}},getAbsoluteCoordinate:function(t,e){return this.getValue(t)+this.getValue(e)},getValue:function(t){var e,i=this.getClosestThisRef();return r.isNumeric(t)?parseFloat(t):n.isString(t)?(e=s.resolvePath(t,i),parseFloat(e.isVar?e.value():e)):t},buildConfig:function(t){var e={delay:t,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this)};return e.update=this.updateConfig.bind(this,e),this.extendConfig(e)},hasDuration:function(){return null!=this.get("duration")},getDuration:function(){return this.get("duration")},getEasing:function(){var t=a[this.get("easing")],e=".".concat(l[this.get("easingdir")]);return"".concat(t).concat("none"!==t?e:"")},updateConfig:function(t){var e=0;this.ptResolvers.forEach((function(t){t()})),this.segmentResolvers.forEach((function(t){t()})),this.segments.forEach((function(t){t.start=e,e+=t.distance})),this.totalDistance=e,this.getIsRelative()||(t.update=n.noop),this.extendAfterUpdate(t)},getIsRelative:function(){return!(!this.ptResolvers||!this.ptResolvers.length)},getPointAtTime:function(t,i){var r,o,s=this.totalDistance*t,a=n.sortedIndexBy(this.segments,{start:s},"start");return(a>this.segments.length-1||s!==this.segments[a].start)&&a--,o=(t-((r=this.segments[a]).start/this.totalDistance||0))/(r.distance/this.totalDistance||1),this.lastSegmentInfo={index:a,adjustedTime:o},e.getNormalizedPointAtTime(o,r.points,r.samples,i)}})}.call(e,i,e,t))||(t.exports=n)},4251:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n=DS._,r=DS.utils;return e.extend({initialize:function(){var t=this.get("path")[0];this.startTintPercent=parseInt(t.starttintpercent),this.endTintPercent=parseInt(t.endtintpercent),this.startBrightness=parseInt(t.startbrightness),this.endBrightness=parseInt(t.endbrightness)},getAttrConfig:function(t){return{delay:t,duration:this.getDuration(),ease:this.getEasing(),getPointAtTime:this.getPointAtTime.bind(this),update:n.noop}},getPointAtTime:function(t){return{x:r.clamp(0,100,this.startTintPercent+t*(this.endTintPercent-this.startTintPercent)+Math.abs(this.startBrightness+t*(this.endBrightness-this.startBrightness))),y:0}}})}.call(e,i,e,t))||(t.exports=n)},2886:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n=DS._;return e.extend({extendConfig:function(t){return t.maskType=this.get("type"),t.maskProps=n.reduce(this.get("settings"),(function(t,e){return t[e.name]=e.value,t}),{}),t.maskProps.isExit="exit"===this.get("effecttype"),t},initPath:function(){this.ptResolvers=[],this.segmentResolvers=[],this.segments=[{distance:1,points:[{x:0,y:0},{x:1,y:0}]}]}})}.call(e,i,e,t))||(t.exports=n)},9233:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n=DS._;return e.extend({extendConfig:function(t){return t.autoRotation=!!this.get("relativerotation"),t},extendAfterUpdate:function(t){t.autoRotation&&(t.closedPath=this.isClosedPath())},isClosedPath:function(){var t=this.segments[0].points[0],e=n.last(n.last(this.segments).points);return t.x===e.x&&t.y===e.y},getSegmentPoint:function(t,e){return t[e]}})}.call(e,i,e,t))||(t.exports=n)},880:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n={anchora:{x:"start",dx:"dstart"},anchorb:{x:"end",dx:"dend"}};return e.extend({getSegmentPoint:function(t,e){var i=n[e];return{x:t[i.x],dx:t[i.dx],y:0,dy:0}}})}.call(e,i,e,t))||(t.exports=n)},2494:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n={anchora:{x:"startx",dx:"dsx",y:"starty",dy:"dsy"},anchorb:{x:"endx",dx:"dex",y:"endy",dy:"dey"}};return e.extend({extendConfig:function(t){return t.useGlobalAxes=!!this.get("useglobalaxes"),t},getSegmentPoint:function(t,e){var i=n[e];if("anchora"===e){var r=Number(t[i.dx]),o=Number(t[i.dy]);-100===r&&(t[i.dx]=(r+.01).toString()),-100===o&&(t[i.dy]=(o+.01).toString())}return{x:t[i.x],dx:t[i.dx],y:t[i.y],dy:t[i.dy]}}})}.call(e,i,e,t))||(t.exports=n)},920:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6432),n=i(7729),r={anchora:{x:"startx",dx:"dstartx",y:"starty",dy:"dstarty"},anchorb:{x:"endx",dx:"dendx",y:"endy",dy:"dendy"}},o={anchora:{x:"startstretchx",y:"startstretchy"},anchorb:{x:"endstretchx",y:"endstretchy"}};return e.extend({extendConfig:function(t){var e=this.get("regpoint");return t.useGlobalAxes=!!this.get("useglobalaxes"),t.regPoint={x:parseFloat(e.x)+parseFloat(e.dx),y:parseFloat(e.y)+parseFloat(e.dy)},t.corner=this.get("corner")||"bottomright",t.getSecondaryPoint=this.getSecondaryPoint.bind(this),t},getSegmentPoint:function(t,e){var i=r[e];return{x:t[i.x],dx:t[i.dx],y:t[i.y],dy:t[i.dy]}},getSecondarySegmentPoint:function(t,e){var i=o[e];return{x:t[i.x],dx:0,y:t[i.y],dy:0}},extendSegmentConfig:function(t,e){var i={points:[]};this.buildSinglePoint(i,this.getSecondarySegmentPoint(e,"anchora")),this.buildSinglePoint(i,this.getSecondarySegmentPoint(e,"anchorb")),t.secondaryPoints=i.points},getSecondaryPoint:function(){var t=this.lastSegmentInfo||{index:this.segments.length-1,adjustedTime:1};return n.getNormalizedPointAtTime(t.adjustedTime,this.segments[t.index].secondaryPoints)}})}.call(e,i,e,t))||(t.exports=n)},9627:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(2577);var e=i(9260),n=i(7547),r=i(1968),o=i(5983),s=i(1957),a=i(5153),l=i(4442),c=i(7888),u=i(642),h=i(1403),d=i(7935),p=i(3122),f=i(47),g=i(2846),m=i(2718),v=i(4421),S=i(8989),y=i(2641),b=i(3086),w=i(8455),x=i(6074),D=i(9576),C=i(3451),E=i(5903),P=i(7144),T=i(8548),I=i(4338),A=i(3397),L=i(8973),M=i(4198),k=i(1895),R=i(6402),V=i(6826),O=i(6955),_=i(4691),N=i(2251),j=i(6501),B=i(3154),F=i(3908),H=i(3544),G=i(670),U=i(6002),W=i(2756),z=i(5540),Y=i(2462),q=i(4665),X=i(7745),K=i(4529),Z=i(9249),Q=i(7111),$=i(3335),J=i(8924),tt=i(2026),et=i(3349),it=i(6273),nt=i(8889),rt=i(5221),ot=i(6531),st=i(8154),at=i(8779),lt=i(1830),ct=i(6179),ut=i(5044),ht=i(3313),dt=i(495),pt=i(6291),ft=i(7622),gt=i(1723),mt=i(7681),vt=i(7414),St=i(8017),yt=i(7731),bt=i(3304),wt=i(3891),xt=i(967),Dt=i(6485),Ct=i(5238),Et=i(6134),Pt=i(4233),Tt=i(8155),It=i(5913),At=i(4146),Lt=i(5895),Mt=i(6224),kt=i(6068),Rt=i(99),Vt=i(4900),Ot=i(8597),_t=i(6208),Nt=i(1393),jt=i(4036),Bt=i(5390),Ft=i(6954),Ht=i(4898),Gt=i(9788),Ut=i(2905),Wt=i(8888),zt=i(5607),Yt=i(2115),qt=i(1238),Xt=i(9705),Kt=i(3806),Zt=i(3712),Qt=i(4018),$t=i(1057),Jt=i(7920),te=i(7833),ee=i(5128),ie=i(6923),ne=i(4986);return Object.assign(e,n,r,o,s,a,l,c,u,h,d,p,f,g,m,v,S,y,b,w,x,D,C,E,P,T,I,A,L,M,k,R,V,O,_,N,j,B,F,H,G,U,W,z,Y,q,X,K,J,$,tt,et,Z,Q,it,nt,rt,ot,st,at,lt,ct,ut,ht,dt,pt,ft,gt,mt,vt,St,yt,bt,wt,xt,Dt,Ct,Et,Pt,Tt,It,At,Lt,Mt,kt,Rt,Vt,Ot,_t,Nt,jt,Bt,Ft,Ht,Gt,Ut,Wt,zt,Yt,qt,Xt,Kt,Zt,Qt,$t,Jt,te,ee,ie,ne)}.call(e,i,e,t))||(t.exports=n)},5258:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS,s=r.captionsManager,a=(r.flagManager,r.pubSub),l=r.vendorOverrides,c=r._,u=r.events;DS.flagManager.dropInBase&&(e=DS.DropIn);l.positionCaptions||c.noop;return e.createClass({displayName:"Captions",mixins:[DS.flagManager.dropInBase?n.dropIn:n],dropInSettings:{forceRebuild:!DS.flagManager.dropInCore},subscriptions:o({},u.window.SCALE,"onResize"),getDefaultProps:function(){return{fontscale:100}},onResize:function(){this.setState({winScale:this.props.getWinScale()})},getInitialState:function(){return{captions:[],showCaptions:s.isCaptionEnabled(),winScale:this.props.getWinScale()}},componentWillMount:function(){this.captions=[],a.on(u.captions.ENABLED,this.toggleCaptioning),a.on(u.slide.STARTED,this.clearAllCaptions);var t=this.props.slideContainer;c.bindAll(this,"onAddCaption","onRemoveCaption"),this.listenTo(t,u.captions.ADD,this.onAddCaption),this.listenTo(t,u.captions.REMOVE,this.onRemoveCaption)},componentWillUnmount:function(){var t=this.props.slideContainer;this.captions=[],a.off(u.captions.ENABLED,this.toggleCaptioning),a.off(u.slide.STARTED,this.clearAllCaptions),this.stopListening(t,u.captions.ADD,this.onAddCaption),this.stopListening(t,u.captions.REMOVE,this.onRemoveCaption)},componentDidUpdate:function(){var t=this,e=function(e){return e&&e.innerHTML.length>0&&e.scrollHeight>t.props.container.clientHeight&&e.innerHTML.includes(" ")};window.requestAnimationFrame((function(){var i,n=t.el.querySelector(".caption p");if(null!=n)for(i=t.prevClientHeight&&t.prevClientHeight<t.props.container.clientHeight&&t.captions.length>0,t.prevClientHeight=t.props.container.clientHeight,i&&(n.innerHTML=t.toHtml(t.captions[0]));e(n);){var r=n.innerHTML;n.innerHTML=r.substring(0,r.lastIndexOf(" "))+"..."}}))},toggleCaptioning:function(t){this.setState({showCaptions:t,font:s.getCaptionFont()})},clearAllCaptions:function(){this.captions=[],this.setState({captions:[]})},onAddCaption:function(t){this.captions.push(t),this.setState({captions:this.captions.slice()})},onRemoveCaption:function(t){c.remove(this.captions,(function(e){return e.textContent===t.textContent})),this.setState({captions:this.captions.slice()})},toHtml:function(t){var e,i,n,r,o=document.createElement("div");for(o.appendChild(t.cloneNode(!0)),i=o.querySelectorAll("q[data-voice]"),r=0;r<i.length;r++)e=(n=i[r]).getAttribute("data-voice"),n.innerHTML=[e,":"," ",n.innerHTML].join("");return o.innerHTML.replace(/&amp;/g,"&")}})}.call(e,i,e,t))||(t.exports=n)},7656:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(5722),o=DS.utils;DS.flagManager.dropInVideo&&(e=DS.DropIn);var s=e.createClass({displayName:"Icon",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],template:function(){var t,e=this.props.templateName||(t=this.props.type,o.upperCaseFirst(t)+"Icon");return this.getTemplateManager().getTemplate(e).bind(this)()}});return DS.flagManager.dropInVideo&&(s.wrapped=r(s)),s}.call(e,i,e,t))||(t.exports=n)},1141:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(856),i(7992),i(7650),i(910),i(7196),i(902),i(9122),i(5626),i(4136),i(6327)}.call(e,i,e,t))||(t.exports=n)},4136:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=DS,r=n._,o=n.utils,s=n.windowManager,a=n.dom,l=(n.resolver,function(t,e,i){var n=o.getPath(s.getCurrentWindow(),"refs.slideContainer.el"),r=a.mapShadowToModel(i.target),l=null==r?i.target:r.currView.el;return!!(!t.contains(l)&&(!e||null!=n&&n.contains(l)))&&{node:t,target:i.target}});e.registerEvent("clickoutside",(function(t){return function(e,i,n){var s=o.getPath(n,"props.model.isSlideObject",!1);return{teardown:r.flow(t(document.body,"click",r.partial(l,e,s),i),t(document.body,"touchstart",r.partial(l,e,s),i,!1,!1))}}}))}.call(e,i,e,t))||(t.exports=n)},5626:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(619),o=DS._,s=function(t){var i=r.parentNodesOf(t.target);e=o.compact(o.invokeMap(i,"getAttribute","data-model-id")),n=(DS.windowManager.getCurrentWindowSlide()||{}).id},a=function(t){return{data:e||[],startingSlideId:n}};r.registerEvent("clickoutsideobjects",(function(t){return function(e,i){return[{teardown:o.flow(t(e,"mousedown",s,o.noop,!0),t(e,"touchstart",s,o.noop,!0))},{teardown:o.flow(t(e,"mouseup",a,i,!0),t(e,"touchend",a,i,!0))}]}}))}.call(e,i,e,t))||(t.exports=n)},856:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=DS._,r=0;e.registerEvent("doubleclick",(function(t){return function(i,o){var s=function(t){var n;return r++,setTimeout((function(){r=0}),600),r>=2&&(n=!0,r=0,t.currentTarget.wasDoubleClicked=!0),(e.doesEventTargetAcceptEvents(t)||i.overrideAcceptEvents)&&n},a=n.flow(t(i,"mouseup",s,o,!0),t(i,"touchend",s,o,!0));return i.setAttribute("data-double-click",!0),{teardown:a}}}))}.call(e,i,e,t))||(t.exports=n)},619:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7133),n=i(8876),r=DS._,o=DS.dom,s=function(t){return function(e,i,s,a,l,c){var u={type:t,node:e},h=function(t){var e=!s||s(t);e&&a(r.extend({},u,e,{origEvent:t}))};return n.isTouchEventName(i)?n.on(e,i,h,l,c):o.on(e,i,h,l)}},a=function(t){return t instanceof window.SVGElement&&"svg"!==t.tagName},l=function(t){return t&&null!=t.getAttribute&&"events"===t.getAttribute("data-accepts")};return{registerEvent:function(t,i){e[t]=i(s(t))},on:o.on,off:o.off,parentNodesOf:o.parentNodesOf,isNodeSvgEl:a,isTgtSvgEl:function(t){return a(t.target)},isTgtVideoEl:function(t){return o.isVideoNode(t.target)},isLeftMouseBtn:function(t){return 1===t.which},isRightMouseBtn:function(t){return 3===t.which},doesEventTargetAcceptEvents:function(t,e){return l(t.target.ownerSVGElement)||(i=t.target.correspondingUseElement)&&null!=i.getAttribute&&"true"===i.getAttribute("data-pointer-events")&&l(i.ownerSVGElement)||!!o.closest(t.target,l,e)||!!t.target.dataset.pointerCapture;var i},isSpacebarClick:function(t){return["click","mouseup","mousedown"].indexOf(t.type)>=0&&(null==t.pageX||0===t.pageX)&&(null==t.pageY||0===t.pageY)}}}.call(e,i,e,t))||(t.exports=n)},7133:function(t,e,i){var n;void 0===(n=function(t){"use strict";return{}}.call(e,i,e,t))||(t.exports=n)},7992:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=DS._,r=function(t){return e.isLeftMouseBtn(t)&&e.doesEventTargetAcceptEvents(t)};e.registerEvent("press",(function(t){return function(i,o,s){return{teardown:n.flow(t(i,"mousedown",r,o),t(i,"touchstart",(function(t){if(e.doesEventTargetAcceptEvents(t))return s.triggerEvent({type:"rollover",target:t.target}),!0}),o,!1))}}}))}.call(e,i,e,t))||(t.exports=n)},7650:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(619),o=(i(8876),DS._),s=DS.utils,a=DS.vendorOverrides,l=DS.detection,c=function(t){var e=t.currentTarget.wasDoubleClicked;return t.currentTarget.wasDoubleClicked=null,!!e},u=function(t){return t.classList.contains("slide-object")},h=function(t){if(t.touches.length>0)return n=!0,!1;var i=n,o=s.dist(e.x,e.y,t.changedTouches[0].clientX,t.changedTouches[0].clientY);return n=!1,!i&&o<20&&r.doesEventTargetAcceptEvents(t)&&!c(t)},d=function(t){e={x:t.touches[0].clientX,y:t.touches[0].clientY}};r.registerEvent("release",(function(t){return function(e,i,n){if(null!=a.registerAudioInitEvent){var s=a.registerAudioInitEvent(t,e,i,n);if(null!=s)return s}return[{teardown:t(e,"touchstart",d,o.noop,!0)},{teardown:o.flow(t(e,"mousedown",(function(n){var s;(function(t){return r.isLeftMouseBtn(t)&&r.doesEventTargetAcceptEvents(t,u)})(n)&&l.device.isDesktop&&(s=o.flow(t(e,"mouseup",(function(t){return s(),function(t){return!c(t)}(t)}),i),t(e,"mouseleave",(function(){s()}),o.noop)))}),o.noop),t(e,"touchend",h,i,!0))}]}}))}.call(e,i,e,t))||(t.exports=n)},6327:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=DS._;e.registerEvent("releaseoutside",(function(t){return function(e,i){var r,o,s=function(t,e){var i=document.elementFromPoint(e.pageX,e.pageY);return r&&r(),!t.contains(i)&&{node:t}},a=function(t,e){return s(t,n.first(e.changedTouches))},l=function(){r=n.flow(t(document,"mouseup",n.partial(s,e),i),t(document,"touchend",n.partial(a,e),i,!0,!1))};return o=n.flow(t(e,"mousedown",l),t(e,"touchstart",l)),{teardown:function(){r&&r(),o()}}}}))}.call(e,i,e,t))||(t.exports=n)},910:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=function(t){return e.isRightMouseBtn(t)&&e.doesEventTargetAcceptEvents(t)};e.registerEvent("rightpress",(function(t){return function(e,i){return{teardown:t(e,"mousedown",n,i)}}}))}.call(e,i,e,t))||(t.exports=n)},7196:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=function(t){return e.isRightMouseBtn(t)&&e.doesEventTargetAcceptEvents(t)};e.registerEvent("rightrelease",(function(t){return function(e,i){return{teardown:t(e,"mouseup",n,i)}}}))}.call(e,i,e,t))||(t.exports=n)},9122:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(619),n=i(23),r=i(7859),o=DS._,s=(DS.utils,DS.dom),a=DS.vendorOverrides.mouseOver||function(){return"mouseenter"};e.registerEvent("rollout",(function(t){return function(e,i,l){l.props.model;var c,u=function(t){if(l.isMounted()){var o=s.mouseX,a=s.mouseY,u=n.globalPtToSlideObject(l,o,a),h=!1;l.props.model.isZoomable()&&(h=s.hasClass(document.elementFromPoint(o,a),"zoom-image")),h||r.containsPoint(l,u.x,u.y)||(i({type:"rollout",node:e,target:e}),clearInterval(c))}else clearInterval(c)};return{teardown:l.isObscurable?o.flow(t(e,a(),(function(t){l.isObscurable&&(l.rollOverHandler=u,clearInterval(c),c=setInterval(u,16))}),o.noop),t(e,"touchend",null,i,!0,!1)):o.flow(t(e,"mouseleave",(function(t){return!0}),i),t(e,"touchend",null,i,!0,!1))}}}))}.call(e,i,e,t))||(t.exports=n)},902:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(619),r=DS._,o=DS.utils,s=DS.dom,a=DS.events,l=DS.pubSub,c=DS.globalEventHelper,u=c.addDocumentListener,h=c.removeDocumentListener;l.on(a.slide.HAS_CHANGED,(function(){e=null}));var d=function(t){return o.getPath(t,"props.model.isGroupingSlideObject")};n.registerEvent("rollover",(function(t){return function(i,o,a){return{teardown:r.flow(t(i,"mouseover",(function(t){s.updateMousePosition(t);var r=!1,o=a.props.model;if(null!=e&&null!=t.topView&&a!==t.topView&&t.topView===e&&(r=!0,!o.isGroupingSlideObject||o.isGroupingContainer))return t.stopImmediatePropagation(),!1;t.topView||(t.topView=a);var l,c,p;if(!r&&e&&e!==a&&"rollout"!==e.latestEvent&&e.state.Enabled)if(e.isObscurable)null!=e.rollOverHandler&&e.rollOverHandler();else{if(d(e))return e=a,!1;e.triggerEvent({type:"rollout",target:t.target})}return e=t.topView,c=0,p=function(t){c++},i.addEventListener("mousemove",p),u("mousemove",(function t(n){var r;if(DS.flagManager.dropInVectors&&1===c&&setTimeout((function(){var t=document.elementFromPoint(DS.dom.mouseX,DS.dom.mouseY);a.el.contains(t)||(l=d(a)?a.el:n.target,a.triggerEvent({type:"rollout",target:l}))}),30),!DS.flagManager.dropInVectors&&0===c&&!a.isObscurable){if(r=document.elementFromPoint(n.pageX,n.pageY),e.el===s.closest(r,s.isSlideObject))return;l=d(e)?a.el:n.target,a.triggerEvent({type:"rollout",target:l})}h("mousemove",t),i.removeEventListener("mousemove",p)})),n.doesEventTargetAcceptEvents(t)}),o),t(i,"touchstart",(function(t){return n.doesEventTargetAcceptEvents(t)}),o,!0,!1))}}}))}.call(e,i,e,t))||(t.exports=n)},8876:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.utils,n=DS.dom,r=DS.detection,o=DS.appState,s=(DS.pubSub,DS.events,DS.slideObjectUtils),a=DS.globalEventHelper.addDocumentListener,l={},c=function(){return r.device.isMobile},u=["touchstart","touchmove","touchend","touchcancel"],h={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"};l.clickOrTouch=c()?"touchend":"click";var d=function(t){return c()?h[t]:t};a("touchstart",(function(t){1===t.touches.length?l.currentTouch=t.touches[0]:t.preventDefault()}),!0);var p=function(t,i){return function(r){var o;r.touches&&r.touches.length>1||(function(t){return e.some(t.changedTouches,(function(t){return t.identifier===l.currentTouch.identifier}))}(r)&&t(r),!i||n.isInput(r.target)||(o=r.target,n.isNodeOfType("select",o))||s.isScrollRelated(r.target)||n.hasClass(r.target,"acc-shadow-el")||r.preventDefault())}};l.on=function(t,e,i,n,r){var o="touchstart"===e,s=p(i,!1!==r);return o?(t.addEventListener(e,s,n),function(){t.removeEventListener(e,s,n)}):function(t,e,i,n){var r,o=p((function(t){(r=t.target).addEventListener(e,i,n),r.addEventListener("touchend",s)})),s=function t(){r&&(r.removeEventListener(e,i,n),r.removeEventListener("touchend",t))};return t.addEventListener("touchstart",o),function(){t.removeEventListener("touchstart",o),s()}}(t,e,s,n)},l.isTouchEventName=function(t){return e.includes(u,t)},l.addEventListener=function(t,e,i,n){t.addEventListener(d(e),i,!!n)},l.removeEventListener=function(t,e,i){t.removeEventListener(d(e),i)},l.getPageLoc=function(t){var e={};return t.touches&&1===t.touches.length?(e.pageX=t.touches[0].pageX,e.pageY=t.touches[0].pageY):(e.pageX=t.pageX,e.pageY=t.pageY),e};var f=function(t){this.started=!0,this.touchX=t.touches[0].pageX,this.touchY=t.touches[0].pageY,this.currTouchX=t.touches[0].pageX,this.currTouchY=t.touches[0].pageY,this.startScale=o.windowManager.getCurrentWindowSlide().currView.pinch.zoom},g=function(t){t.touches&&1===t.touches.length&&(this.currTouchX=t.touches[0].pageX,this.currTouchY=t.touches[0].pageY)},m=function(t){var e,n=o.windowManager.getCurrentWindowSlide().currView.pinch.zoom;this.started&&this.startScale===n&&(e=i.dist(this.touchX,this.touchY,this.currTouchX,this.currTouchY),this.started=!1,e<10&&this.callback())};return l.tap=function(t,e,i){var n={callback:i};e.addEventListener("touchstart",f.bind(n)),a("touchmove",g.bind(n)),e.addEventListener("touchend",m.bind(n))},l}.call(e,i,e,t))||(t.exports=n)},5660:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6536),n=i(9996),r=i(3429),o=i(9888),s=i(7724),a=i(253),l=i(6285),c=i(6020),u=i(8949),h=i(4622),d=i(7390),p=i(6401),f=i(5190),g=i(9378),m=i(1781),v=DS._,S=DS.utils,y=DS.TransMatrix,b=DS.dom,w=DS.svgUtils,x=DS.vendorOverrides,D=DS.errorManager,C=DS.detection,E=DS.Backbone,P=DS.globalEventHelper.addWindowListener,T=["position","rotation","scale","skew","alpha","mask","colors"],I={position:"applyTranslation",scale:"applyScale",skew:"applySkew",rotation:"applyRotation",alpha:"applyAlpha",mask:"applyMask",colors:"applyColor"},A={checkerboard:n,circle:r,box:o,diamond:a,blinds:l,randombars:c,split:u,wheel:h,dissolve:d,plus:p,wipe:f,full:s,strips:g,wedge:m},L={right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1},up:{x:0,y:-1}},M={topleft:{x:0,y:0},topright:{x:1,y:0},bottomleft:{x:0,y:1},bottomright:{x:1,y:1}},k=["blinds","box","checkerboard","circle","clock","comb","diamond","dissolve","full","none","plus","randombars","split","strips","wedge","wheel","wipe","strips"],R=D.throwError("TweenHelper"),V=x.forceSingleRepaint||v.noop,O=function(t,e,i,n){this.view=t,this.secondaryView=n,this.model=this.view.props.model,this.isReverse=e,this.config=i,this.duration=i.duration,this.startTime=0,this.tweens=i.tweens,this.isZoomPan=i.isZoomPan,this.listenTo(this.model,{moveTo:this.updateDefaultPosition}),this.initialize(),this.handleMobileVideo()};return v.extend(O.prototype,E.Events,{initialize:function(){var t=this;this.defaults=this.getDefaults(),this.unsubResize=P("resize",(function(){return t.afterResize()}),null,"after")},handleMobileVideo:function(){C.deviceView.isMobile&&this.model.isKind("video")&&this.model.get("autoplay")&&(this.applyTweenedConfig=v.noop)},stepAnimation:function(t){this.isReverse&&(t=this.duration-t)<0&&(t=0),this.applyTweenedConfig(this.getTweenedConfig(t)),C.browser.isIE&&V(this.view.el),this.lastAnimationTime=t},afterResize:function(){null!=this.lastAnimationTime&&this.stepAnimation(this.lastAnimationTime)},totalTime:function(){return this.duration},delay:function(){return this.startTime},reset:function(){var t={matrix:new y,props:{},style:{}},e=this.view.props.winScale;t.props.ScaleX=this.defaults.scale.x,t.props.ScaleY=this.defaults.scale.y,t.props.RawXPos=this.defaults.position.x,t.props.RawYPos=this.defaults.position.y,t.props.Rotation=this.defaults.rotation.x,t.props.Alpha=this.defaults.alpha.x,t.matrix.translate(this.defaults.position.x*e,this.defaults.position.y*e),t.matrix.rotate(this.defaults.rotation.x,0,0),t.matrix.scale(S.pctToDec(this.defaults.scale.x),S.pctToDec(this.defaults.scale.y)),t.style.opacity=S.pctToDec(this.defaults.alpha.x),t.style.transform=t.matrix.toCssTransform(),this.applyTweenedConfig(t)},updateDefaultPosition:function(t,e){this.defaults.position.x=t,this.defaults.position.y=e},getDefaults:function(){return this.model.isSlideObject?this.getSlideObjectProps():this.getSlideOrLayerProps()},getSlideOrLayerProps:function(){var t,e,i=this.model.get("width"),n=this.model.get("height");return e={regPoint:{x:i/2,y:n/2},position:{x:0,y:0},scale:{x:100,y:100},rotation:{x:0},globalRotation:{x:0},size:{x:i,y:n},maskableOffset:{x:0,y:0},alpha:{x:100}},this.hasSecondary()&&(t=this.secondaryView.props.model,e.secondarySize={x:t.get("width"),y:t.get("height")}),e},hasSecondary:function(){return null!=this.secondaryView},getSlideObjectProps:function(){var t=this.model.playerProps,e=this.model.getCurrentStateMetrics();return{regPoint:{x:this.model.rotateXPos(),y:this.model.rotateYPos()},position:{x:t.get("RawXPos"),y:t.get("RawYPos")},scale:{x:t.get("ScaleX"),y:t.get("ScaleY")},rotation:{x:t.get("Rotation")},globalRotation:{x:this.view.getGlobalRotation()},size:{x:e.width-(2*e.xPos-1),y:e.height-(2*e.yPos-1)},alpha:{x:t.get("Alpha")},maskableOffset:{x:e.xPos-e.strokewidth,y:e.yPos-e.strokewidth}}},getTweenedConfig:function(t,e){var i={},n=0,r=this.tweens.length,o={matrix:new y,props:{Rotation:0},style:{}};for(e=!1!==e;n<r;)this.tweens[n].delay<=t&&v.extend(i,this.tweens[n].tweenAttrs),n++;return T.forEach(function(n){this[I[n]](t,i[n],o,e)}.bind(this)),o.style.transform=o.matrix.toCssTransform(),o},applyTweenedConfig:function(t){this.view.tweenedConfig=t;var e=this.isZoomPan?this.view.refs.zoomPanTarget:this.view.el;v.extend(e.style,t.style),this.hasSecondary()&&null!=this.config.pushDir&&this.tweenSecondary(t.props)},adjustRotateble:function(t){var e,i=this.defaults.regPoint;if(this.model.isRotatable&&this.model.isRotatable()){e=this.view.decorators.rotatable;var n=this.model.prop("Rotation");t.rotate(n,0,0),t.rotate(e.lastSetRotation,e.rotateXPos-i.x,e.rotateYPos-i.y),t.rotate(-n,0,0)}},applyTranslation:function(t,e,i,n){var r,o=this.view.props.winScale,s=this.getAttrPointAtTime(t,e,this.defaults.position,!!e&&e.autoRotation);i.props.RawXPos=s.x,i.props.RawYPos=s.y,i.matrix.translate(s.x*o,s.y*o),e&&e.autoRotation&&(null==this.initRotation&&(this.initRotation=0===t?s.angle:this.getAttrPointAtTime(0,e,this.defaults.position,e.autoRotation).angle),r=t>=e.duration+e.delay&&e.closedPath?0:s.angle-this.initRotation,i.matrix.rotate(r,0,0),i.props.Rotation=r)},applyScale:function(t,e,i,n){var r=this.getAttrPointAtTime(t,e,this.defaults.scale),o=this.view.animationOverride&&this.view.animationOverride.scale;i.props.ScaleX=r.x,i.props.ScaleY=r.y,null!=o?o(i.props):(i.matrix.rotate(-this.defaults.globalRotation.x,0,0),i.matrix.scale(S.pctToDec(r.x),S.pctToDec(r.y)),i.matrix.rotate(this.defaults.globalRotation.x,0,0))},applyRotation:function(t,e,i,n){var r=this.getAttrPointAtTime(t,e,this.defaults.rotation).x;n&&this.adjustRotateble(i.matrix),i.matrix.rotate(r,0,0),i.props.Rotation+=r},applyAlpha:function(t,e,i,n){if(e){var r=this.getAttrPointAtTime(t,e,this.defaults.alpha).x;i.style.opacity=S.pctToDec(r),i.props.Alpha=r}},getAttrPointAtTime:function(t,e,i,n){if(null==e)return i;var r,o=t-e.delay;return r=0===e.duration&&(o<0||0===o&&this.isReverse)?0:function(t,e,i){return e>=i?1:S.clamp(0,1,gsap.parseEase(t)(e/i))}(e.ease,o,e.duration),e.getPointAtTime(r,n)},applySkew:function(t,e,i,n){if(null!=e){var r=this.getAttrPointAtTime(t,e,{x:0,y:0}),o=M[e.corner],s=e.useGlobalAxes?{x:this.defaults.size.x*o.x,y:this.defaults.size.y*o.y}:{x:e.regPoint.x,y:e.regPoint.y},a=e.useGlobalAxes?this.defaults.globalRotation.x:0,l=e.getSecondaryPoint();s.x-=this.defaults.regPoint.x,s.y-=this.defaults.regPoint.y,i.matrix.rotate(-a,0,0),i.matrix.scale(S.pctToDec(l.x),S.pctToDec(l.y),s.x,s.y),i.matrix.skew(-r.x,r.y,s.x,s.y),i.matrix.rotate(a,0,0)}},applyColor:function(t,e,i,n){var r;e&&this.model.isSlide&&n&&(null==this.overlay&&this.createColorOverlay(),r=this.getAttrPointAtTime(t,e,0).x,this.overlay.style.opacity=S.pctToDec(r))},applyMask:function(t,e,i,n){if(null!=e&&n&&!this.model.isKind("video")){var r;if(C.browser.safariVersion<12&&C.os.isIOS&&-1!==k.indexOf(e.maskType))return!this.isReverse&&e.maskProps.isExit&&(t=this.duration-t,this.isReverse=!0),r=S.decToPct(this.getAttrPointAtTime(t,e,this.isReverse?1:0).x),i.style.opacity=S.pctToDec(r),void(i.props.Alpha=r);var o,s=this.getAttrPointAtTime(t,e,0).x;null==this.mask&&(null==A[e.maskType]&&(R("The mask type ",e.maskType," does not exist"),e.maskType="split"),this.createMask(e)),"full"===e.maskType&&(o=this.getTweenedConfig(this.duration,!1),this.ptFinal=this.ptFinal||o.matrix.transformPoint(0,0)),this.mask.animate(s,this.ptFinal,i.matrix.transformPoint(0,0)),V(this.maskedEl),this.maskedEl.classList.contains("slide-object-stategroup")&&this.repaintStateGroup(this.maskedEl)}},repaintStateGroup:function(t){var e=t.getElementsByClassName("slideobject-maskable");if(!v.isEmpty(e))for(var i=0;i<e.length;i++)V(e[i])},createMask:function(t){var i,n=this.view.el.firstElementChild;DS.flagManager.dropInVectors&&n.classList.contains("dropin-wrap")&&(n=n.firstElementChild),this.marker=this.view.find(".marker-animation"),null!=this.marker&&this.marker.classList.add("hidden"),i=this.model.isSlideObject?e.getLocalRotatedBounds(this.view,this.defaults.globalRotation.x):[0,0,this.defaults.size.x,this.defaults.size.y],this.defaults.rotatedBounds={left:i[0],top:i[1],right:i[2],bottom:i[3]},this.defaults.view=this.view,this.mask=new A[t.maskType](this.defaults,t.maskProps),this.maskedEl=b.hasClass(n,"slideobject-maskable")?n:this.view.el,this.maskedEl.style.WebkitClipPath=w.buildUrl(this.mask.maskId),this.maskedEl.style.clipPath=w.buildUrl(this.mask.maskId),this.maskedEl.style.willChange="contents"},tweenSecondary:function(t){var e,i=this.defaults.secondarySize,n=L[this.config.pushDir],r=this.model.currView.props.winScale;e=w.transformTranslate(S.pxify(n.x*(i.x+t.RawXPos*n.x)*r),S.pxify(n.y*(i.y+t.RawYPos*n.y)*r)),this.secondaryView.el.style.transform=e},createColorOverlay:function(){var t=this.view.props.winScale;this.overlay=b.setAttributes(document.createElement("div"),{class:"slide-overlay"}),b.setStyles(this.overlay,{width:S.pxify(this.defaults.size.x*t),height:S.pxify(this.defaults.size.y*t)}),this.view.el.appendChild(this.overlay)},kill:function(){this.stopListening(),this.unsubResize(),null!=this.maskedEl&&(this.maskedEl.style.WebkitClipPath="",this.maskedEl.style.clipPath="",this.maskedEl=null),null!=this.marker&&this.marker.classList.remove("hidden"),null!=this.mask&&(this.mask.destroy(),this.mask=null),null!=this.overlay&&this.overlay.parentNode&&(this.overlay.parentNode.removeChild(this.overlay),this.overlay=null)}}),O}.call(e,i,e,t))||(t.exports=n)},507:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8873),n=DS._,r=DS.utils,o=DS.events,s=DS.Backbone,a=(DS.AnimationTimeline,function(t,i,n,r){this.view=t,this.timeline=i,this.timelineLabel=n,this.timelineControlled=null!=this.timelineLabel,this.layerTimeline=this.timelineControlled?e.getTimelineFromLabel(n):this.view.props.model.getLayer().timeline(),this.isHide=!!r,this.initialize()});return n.extend(a.prototype,s.Events,{playOnSeekEnd:!0,initialize:function(){var t={};this.addChildTimeline(),this.timelineControlled||(t[o.timeline.PLAYING]=this.playTimeline,t[o.timeline.PAUSED]=this.pauseTimeline,t[o.timeline.SEEK_START]=this.onSeekStart,t[o.timeline.SEEK_END]=this.onSeekEnd,this.listenTo(this.layerTimeline,t))},addChildTimeline:function(){this.timelineControlled?this.layerTimeline.addChildTimeline(this.timeline,this.timelineLabel):(this.actionTimeline=this.timeline,this.actionTimeline.seek(0),this.actionTimeline.play())},removeChildTimeline:function(){this.timelineControlled?this.layerTimeline.removeChildTimeline(this.timeline):this.actionTimeline=null},pauseTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.pause()},playTimeline:function(){null!=this.actionTimeline&&this.actionTimeline.play()},onSeekStart:function(){this.playOnSeekEnd=this.actionTimeline.isActive(),this.pauseTimeline()},onSeekEnd:function(){this.playOnSeekEnd&&this.playTimeline()},destroy:function(t){this.removeChildTimeline(),this.isHide?this.timeline.reset():t&&this.timeline.progress(1,!0),this.timeline.kill(),r.getPath(this.view,"updateFromTween"),this.stopListening()}}),a}.call(e,i,e,t))||(t.exports=n)},6536:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2668),n=i(23),o=i(7990),s=DS._,a=DS.constants,l=DS.utils,c=DS.TransMatrix,u=/xlink\:href="(.*?)"/g,h=/data-reactid="(.*?)"/g,d=/&nbsp;/g,p=/xmlns:(.*?)=".*?" \1:/g,f={data:[0,0,0,0]},g={},m=function(t){var i,n,r,s=(t.props.model.getCurrentStateData()||{}).html5data||{};return null!=s.mask?{canvas:(n=e.buildImage(s.mask,s.xPos,s.yPos,s.width,s.height)).canvas,bb:n.bb,sw:0}:{canvas:i=document.createElement("canvas"),bb:(r=o(i,t.find("svg").parentNode.innerHTML.replace(u,"").replace(d," ").replace(h,"").replace(p,""),{col:"#ff0000",winScale:t.props.winScale})).bb,sw:r.sw}},v=function(t){var e=t.props.model,i=e.getSlide().id,n=e.absoluteId+t.state.ObjectState,r=(g[i]||{})[n];return null!=r?r:(null==g[i]&&(g[i]={}),g[i][n]=m(t),g[i][n])},S=function(t){return null!=t.getClosestAncestorByKind("expandinglabel",!0)},y={svgHit:function(t,e){var i=v(t),n=i.bb.getBounds(e),r=i.sw/2;return n[0]-=r,n[1]-=r,n[2]+=r,n[3]+=r,n},groupHit:function(t,e){var i=t.props.model,r=i.isStateGroupSlideObject&&i.getIsExpandingLabel();return s.reduce(t.allRefs,(function(i,o){var s=o.currView,a=n.getRelativeMatrix(s,t,e),l=w.getBounds(s,a);return r&&S(o)||l.every(isNaN)||(i[0]=Math.min(i[0],l[0]),i[1]=Math.min(i[1],l[1]),i[2]=Math.max(i[2],l[2]),i[3]=Math.max(i[3],l[3])),i}),[1/0,1/0,-1/0,-1/0])},rectHit:function(t,e){var i=t.props.model.getCurrentStateMetrics(),n=i.xPos,r=i.yPos,o=n+i.width,s=r+i.height,a=[e.transformPoint(n,r),e.transformPoint(o,r),e.transformPoint(n,s),e.transformPoint(o,s)];return[Math.min(a[0].x,a[1].x,a[2].x,a[3].x),Math.min(a[0].y,a[1].y,a[2].y,a[3].y),Math.max(a[0].x,a[1].x,a[2].x,a[3].x),Math.max(a[0].y,a[1].y,a[2].y,a[3].y)]},slideHit:function(t){return[0,0,t.props.model.get("width"),t.props.model.get("height")]}},b={svgHit:function(t){return v(t).canvas},groupHit:function(t){var e=w.getLocalRotatedBounds(t,0),i=w.getBounds(t),n=Math.round(i[0]),r=Math.round(i[1]),o=Math.ceil(e[2]-e[0]),a=Math.ceil(e[3]-e[1]),l=document.createElement("canvas"),c=l.getContext("2d",{willReadFrequently:!0}),u=t.props.model,h=u.isStateGroupSlideObject&&u.getIsExpandingLabel();return l.width=o,l.height=a,c.translate(-n,-r),s.forEach(t.allRefs,(function(t){h&&S(t)||!t.currView.trulyVisible||w.drawToTarget(t.currView,c)})),c.translate(n,r),l},rectHit:function(t){var e=t.props.model.getCurrentStateMetrics(),i=document.createElement("canvas"),n=i.getContext("2d",{willReadFrequently:!0});return i.width=e.width,i.height=e.height,n.fillStyle="#ff0000",n.fillRect(0,0,i.width,i.height),i},slideHit:function(t){return null}},w={getImageData:function(t,e,i,n,r){return l.isNumeric(e)&&l.isNumeric(i)&&l.isNumeric(n)&&l.isNumeric(r)?t.getImageData(e,i,n,r):f},getBounds:function(t,e){return e=e||n.getMatrix(t),y[t.props.model.getHitType()](t,e)},getGlobalBounds:function(t){var e=r(this.getBounds(t),4),i=e[0],o=e[1],s=e[2],a=e[3],l=t.props.model.getSlide().currView,c=n.localPtToGlobal(l,i,o),u=n.localPtToGlobal(l,s,a);return[c.x,c.y,u.x,u.y]},getLocalRotatedBounds:function(t,e){var i=(new c).rotate(e,t.state.rotateXPos,t.state.rotateYPos);return y[t.props.model.getHitType()](t,i)},getCanvas:function(t){return b[t.props.model.getHitType()](t)},drawToTarget:function(t,e){var i,r=t.props.model,o=n.getMatrix(t)||new c,s=t.props.model.getHitType(),l=null!=r.getCurrentStateMetrics?r.getCurrentStateMetrics():{xPos:0,yPos:0},u=null==l.mask?l.strokewidth:0,h=l.xPos-u,d=l.yPos-u;e.save(),e.transform(o.a,o.c,o.b,o.d,o.tx,o.ty),s===a.SLIDE_HIT||s===a.RECT_HIT?(i=w.getLocalRotatedBounds(t,0),e.fillStyle="#ff0000",e.fillRect(i[0],i[1],i[2]-i[0],i[3]-i[1])):(s===a.GROUP_HIT&&(i=w.getLocalRotatedBounds(t,0),h=Math.round(i[0]),d=Math.round(i[1])),e.drawImage(w.getCanvas(t),h,d)),e.restore()},clearBitmapCache:function(){g={}},clearSlideCache:function(t){g[t]=null}};return w}.call(e,i,e,t))||(t.exports=n)},2668:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=/([XO])/g,i=function(t){if(_.isEmpty(t))return{getBounds:function(){return[0,0,0,0]}};var e=r(t);return{getBounds:function(t){var i,n=e.length,r=t.transformPoint(e[0].x,e[0].y),o=r.x,s=o,a=r.y,l=a;for(i=1;i<n;i++)(r=t.transformPoint(e[i].x,e[i].y)).x<o?o=r.x:r.x>s&&(s=r.x),r.y<a?a=r.y:r.y>l&&(l=r.y);return[o,a,s,l]}}},n=function(t,e,i){return(t.x-i.x)*(e.y-i.y)-(t.y-i.y)*(e.x-i.x)},r=function(t){var e,i,r=t.length,o=[],s=[];for(t.sort((function(t,e){return t.x===e.x?t.y-e.y:t.x-e.x})),e=0;e<r;e++){for(;o.length>=2&&n(o[o.length-2],o[o.length-1],t[e])<=0;)o.pop();for(o.push(t[e]),i=r-(e+1);s.length>=2&&n(s[s.length-2],s[s.length-1],t[i])<=0;)s.pop();s.push(t[i])}return s.pop(),o.pop(),o.concat(s)};return{buildImage:function(t,n,r,o,s){var a,l,c,u,h=0,d=function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i}(o,s),p=d.getContext("2d"),f=p.createImageData(o,s),g=t.split(e),m=g.length,v=0,S="O",y=-1,b=!1,w=[];for(a=0;a<m;a+=2)for(y+=(c=parseInt(g[a],16))+1,(u="X"===g[a+1]?255:0)!==S&&(255===u?(b=!0,w.push({x:(v+1)%o+n,y:Math.floor((v+1)/o)+r})):b&&w.push({x:v%o+n,y:Math.floor(v/o)+r})),v=y,S=u,l=0;l<=c;l++)f.data[h]=u,f.data[h+3]=u,h+=4;return p.putImageData(f,0,0),{canvas:d,bb:i(w)}}}}.call(e,i,e,t))||(t.exports=n)},9876:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(1533),n=DS._,r=DS.TransMatrix,o=new r,s={left:function(){return this.update(),this.bounds[0]},top:function(){return this.update(),this.bounds[1]},width:function(){return this.update(),this.bounds[2]-this.bounds[0]},height:function(){return this.update(),this.bounds[3]-this.bounds[1]},applyTransform:function(t){var i,n,r,o=this.points.length;for(i=0;i<o;i++)n=this.points[i],r=new e(n[0],n[1]),t.applyToPoint(r),this.points[i]=[r.x,r.y]},getBounds:function(t){return this.update(t),this.bounds.slice()},addPoint:function(t,e){this.dirty=!0,this.points.push([t,e])},addBezierCurve:function(t,e,i,n,r,o,s,a){this.dirty=!0,this.beziers.push([t,e,i,n,r,o,s,a])},addQuadraticCurve:function(t,e,i,n,r,o){var s=t+2/3*(i-t),a=e+2/3*(n-e),l=s+1/3*(r-t),c=a+1/3*(o-e);this.addBezierCurve(t,e,s,a,l,c,r,o)},addChildBoundingBox:function(t){null!=t&&this.children.push(t)},hasMatrixChanged:function(t){return!t.isEqual(this.lastMatrix)},update:function(t){t=t||o,this.dirty?this.calculateBounds(t):this.hasMatrixChanged(t)&&(t.isOnlyTranslated(this.lastMatrix)?this.translateLastBounds(t):this.calculateBounds(t))},translateLastBounds:function(t){var e=t.tx-this.lastMatrix.tx,i=t.ty-this.lastMatrix.ty;this.lastMatrix=t.copy(),this.bounds[0]+=e,this.bounds[1]+=i,this.bounds[2]+=e,this.bounds[3]+=i},getPointBounds:function(t){var e,i,n,r,o,s,a,l=t.length;if(l>0)for(e=n=t[0][0],i=r=t[0][1],a=1;a<l;a++)(o=t[a][0])<e?e=o:o>n&&(n=o),(s=t[a][1])<i?i=s:s>r&&(r=s);return[e,i,n,r]},addBezierBounds:function(t,e){var i,n,r=t.length;if(r>0)for(null==e[0]&&(e[0]=e[2]=t[0][0],e[1]=e[3]=t[0][1]),i=0;i<r;i++)n=t[i],this.addBezierBoundingPoints(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],e);return e},addChildBounds:function(t,e){var i,n,r=this.children.length;for(i=0;i<r;i++)null!=(n=this.children[i].getBounds(e))[0]&&(null==t[0]?t=n:(n[0]<t[0]?t[0]=n[0]:n[2]>t[2]&&(t[2]=n[2]),n[1]<t[1]?t[1]=n[1]:n[3]>t[3]&&(t[3]=n[3])));return t},transformPoints:function(t,e){var i,n,r=[],o=t.length;for(r.length=o,n=0;n<o;n++)i=e.transformPoint(t[n][0],t[n][1]),r[n]=[i.x,i.y];return r},transformBeziers:function(t,e){var i,n,r,o,s,a,l=[],c=t.length;for(l.length=c,i=0;i<c;i++)n=t[i],r=e.transformPoint(n[0],n[1]),o=e.transformPoint(n[2],n[3]),s=e.transformPoint(n[4],n[5]),a=e.transformPoint(n[6],n[7]),l[i]=[r.x,r.y,o.x,o.y,s.x,s.y,a.x,a.y];return l},calculateBounds:function(t){var e,i=this.points,n=this.beziers;t.isEqual(o)||(i=this.transformPoints(i,t),n=this.transformBeziers(n,t)),e=this.getPointBounds(i),e=this.addBezierBounds(n,e),e=this.addChildBounds(e,t),this.dirty=!1,this.bounds=e,this.lastMatrix=t.copy()},addBezierBoundingPoints:function(t,e,i,n,r,o,s,a,l){var c,u,h,d,p,f,g,m=[t,e],v=[i,n],S=[r,o],y=[s,a],b=function(t,e){if(t>0&&t<1){var i=1-t,n=i*i,r=t*t,o=i*n*m[e]+3*n*t*v[e]+3*i*r*S[e]+t*r*y[e];0===e?o<l[0]?l[0]=o:o>l[2]&&(l[2]=o):o<l[1]?l[1]=o:o>l[3]&&(l[3]=o)}},w=function(t){t[0]<l[0]?l[0]=t[0]:t[0]>l[2]&&(l[2]=t[0]),t[1]<l[1]?l[1]=t[1]:t[1]>l[3]&&(l[3]=t[1])};for(w(m),w(y),g=0;g<=1;g++)u=6*m[g]-12*v[g]+6*S[g],h=3*v[g]-3*m[g],0===(c=-3*m[g]+9*v[g]-9*S[g]+3*y[g])?0!==u&&b(-h/u,g):(d=u*u-4*h*c)>=0&&(b((-u+(p=Math.sqrt(d)))/(f=2*c),g),b((-u-p)/f,g))}};return function(){this.points=[],this.beziers=[],this.children=[],this.dirty=!0,this.lastMatrix=o,n.assign(this,s)}}.call(e,i,e,t))||(t.exports=n)},1549:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(9280),i(9876);var e=i(8001),n=i(6879),r=function(t){this.base=n,this.base(t),this.path=function(t){null!=t&&t.beginPath()},this.renderChildren=function(t){this.path(t),""!==t.fillStyle&&("inherit"!==this.style("fill-rule").valueOrDefault("inherit")?t.fill(this.style("fill-rule").value):t.fill()),""!==t.strokeStyle&&(t.lineWidth>e.maxStroke&&(e.maxStroke=t.lineWidth),t.stroke())}};return r.prototype=new n,r}.call(e,i,e,t))||(t.exports=n)},5005:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280);var e=i(1533),n=DS._,r=/^[A-Za-z]$/,o=function(t){this.tokens=t.split(" ")};return n.assign(o.prototype,{reset:function(){this.i=-1,this.command="",this.previousCommand="",this.start=new e(0,0),this.control=new e(0,0),this.current=new e(0,0)},isEnd:function(){return this.i>=this.tokens.length-1},isCommandOrEnd:function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(r)},isRelativeCommand:function(){return this.command===this.command.toLowerCase()},getToken:function(){return this.tokens[++this.i]},getScalar:function(){return parseFloat(this.getToken())},nextCommand:function(){this.previousCommand=this.command,this.command=this.getToken()},getPoint:function(){var t=new e(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},getAsControlPoint:function(){return this.control=this.getPoint()},getAsCurrentPoint:function(){return this.current=this.getPoint()},getReflectedControlPoint:function(){var t=this.previousCommand.toLowerCase();return"c"!==t&&"s"!==t&&"q"!==t&&"t"!==t?this.current:new e(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},makeAbsolute:function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t}}),o}.call(e,i,e,t))||(t.exports=n)},6879:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8001),n=i(5855),r=i(2282),o=(DS.flagManager,function(t){this.base=r,this.base(t),this.setStrokeStyles=function(t){if(t.strokeStyle=e.options.col||"blue",this.style("stroke-width").hasValue()){var i=this.style("stroke-width").toPixels();t.lineWidth=0===i?.001:i}this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value)},this.setContext=function(t){var i=this.style("fill"),r=this.style("stroke"),o=r.hasValue()&&"none"!==r.value;(i.hasValue()&&"none"===i.value?t.fillStyle="rgba(0,0,0,0)":t.fillStyle=e.options.col||"red",o?this.setStrokeStyles(t):t.strokeStyle="",this.style("transform",!1,!1).hasValue())&&new n(this.style("transform",!1,!1).value).apply(t);if(this.style("clip-path",!1,!1).hasValue()){var s=this.style("clip-path",!1,!1).getDefinition();null!=s&&s.apply(t)}}});return o.prototype=new r,o}.call(e,i,e,t))||(t.exports=n)},9927:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001);var e=i(9280),n=i(9876),r=i(1549),o=e.kappa,s=function(t){var e,i,s,a;this.base=r,this.base(t),null!=t&&(e=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),s=this.attribute("r").toPixels(),a=o*s,this.bb=new n,this.bb.addBezierCurve(e,i-s,e+a,i-s,e+s,i-a,e+s,i),this.bb.addBezierCurve(e+s,i,e+s,i+a,e+a,i+s,e,i+s),this.bb.addBezierCurve(e,i+s,e-a,i+s,e-s,i+a,e-s,i),this.bb.addBezierCurve(e-s,i,e-s,i-a,e-a,i-s,e,i-s)),this.path=function(t){null!=t&&(t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!0),t.closePath())}};return s.prototype=new r,s}.call(e,i,e,t))||(t.exports=n)},2330:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001);var e=i(5855),n=i(2282),r=DS._,o=function(t){this.base=n,this.base(t),this.apply=function(t){var i=window.CanvasRenderingContext2D,n=i.prototype.beginPath,o=i.prototype.closePath;i.prototype.beginPath=r.noop,i.prototype.closePath=r.noop,n.call(t);for(var s=0;s<this.children.length;s++){var a=this.children[s];if(null!=a.path){var l=null;a.style("transform",!1,!0).hasValue()&&(l=new e(a.style("transform",!1,!0).value)).apply(t),a.path(t),i.prototype.closePath=o,l&&l.unapply(t)}}o.call(t),t.clip(),i.prototype.beginPath=n,i.prototype.closePath=o},this.render=r.noop};return o.prototype=new n,o}.call(e,i,e,t))||(t.exports=n)},4207:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280);var e=i(2282),n=DS._,r=function(t){this.base=e,this.base(t),this.render=n.noop};return r.prototype=new e,r}.call(e,i,e,t))||(t.exports=n)},2282:function(t,e,i){var n;n=function(t){"use strict";var e=i(8001),n=i(9280),r=i(8846),o=i(9876),s=DS,a=s._,l=(s.flagManager,{attribute:function(t,i){var n=this.attributes[t];return null!=n?n:(i&&(n=new r(t,""),this.attributes[t]=n),n||e.emptyProperty)},getHrefAttribute:function(){for(var t in this.attributes)if("href"===t||t.match(/:href$/))return this.attributes[t];return e.emptyProperty},style:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.styles[t];if(null!=o)return o;var s=this.attribute(t);if(null!=s&&s.hasValue())return this.styles[t]=s,s;if(n){var a=this.parent;if(null!=a){var l=a.style(t);if(null!=l&&l.hasValue())return l}}return i&&(o=new r(t,""),this.styles[t]=o),o||e.emptyProperty},render:function(t){if("none"!==this.style("display").value&&"hidden"!==this.style("visibility").value){t.save();var e=this.style("filter"),i=e.hasValue(),n=i&&e.getDefinition();if(this.style("mask").hasValue()){var r=this.style("mask").getDefinition();null!=r&&r.apply(t,this)}else n?n.apply(t,this):i&&!this.style("customImage").value||(this.setContext(t),this.renderChildren(t),this.clearContext(t));t.restore()}},setContext:a.noop,clearContext:a.noop,renderChildren:function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},addChild:function(t,i){var n=t;i&&(n=e.createElement(t)),n.parent=this,"title"!==n.type&&this.children.push(n)},flattenBoundingBox:function(t){var e,i,n;if(null!=this.updateBoundingBox&&this.updateBoundingBox(),null!=this.bb&&(this.bb.points.length>0&&t.points.push.apply(t.points,this.bb.points),this.bb.beziers.length>0&&t.beziers.push.apply(t.beziers,this.bb.beziers)),null!=this.children)for(n=this.children.length,e=0;e<n;e++)null!=(i=this.children[e]).flattenBoundingBox&&i.flattenBoundingBox(t);return t},getBoundingBox:function(){var t,e,i,n=new o;if(null!=this.bb&&n.addChildBoundingBox(this.bb),null!=this.children)for(i=this.children.length,t=0;t<i;t++)null!=(e=this.children[t]).getBoundingBox&&n.addChildBoundingBox(e.getBoundingBox());return n}});return function(t){var i,o;if(this.attributes={},this.styles={},this.children=[],a.assign(this,l),null!=t&&1===t.nodeType){for(o=t.attributes.length,i=0;i<o;i++){var s=t.attributes[i],c=s.nodeName;this.attributes[c]=new r(c,s.value)}if(this.attribute("style").hasValue()){var u=this.attribute("style").value.split(";");for(i=0;i<u.length;i++)if(""!==n.trim(u[i])){var h=u[i].split(":"),d=n.trim(h[0]),p=n.trim(h[1]);this.styles[d]=new r(d,p)}}for(this.attribute("id").hasValue()&&null==e.defs[this.attribute("id").value]&&(e.defs[this.attribute("id").value]=this),i=0;i<t.childNodes.length;i++){var f=t.childNodes[i];1===f.nodeType&&this.addChild(f,!0)}}}}.call(e,i,e,t),void 0===n||(t.exports=n)},6837:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001);var e=i(9280),n=i(9876),r=i(1549),o=e.kappa,s=function(t){var e,i,s,a,l,c,u,h,d,p,f;if(this.base=r,this.base(t),null!=t)for(e=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),s=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y"),l=[[s+(p=o*e),a-i,s+e,a-(f=o*i),s+e,a],[s+e,a+f,s+p,a+i,s,a+i],[s-p,a+i,s-e,a+f,s-e,a],[s-e,a-f,s-p,a-i,s,a-i]],this.bb=new n,h=s,d=a,u=0;u<4;u++)c=l[u],this.bb.addBezierCurve(h,d,c[0],c[1],c[2],c[3],c[4],c[5]),h=c[4],d=c[5];this.path=function(t){if(null!=t){for(t.beginPath(),t.moveTo(s,a-i),u=0;u<4;u++)c=l[u],t.bezierCurveTo(c[0],c[1],c[2],c[3],c[4],c[5]);t.closePath()}}};return s.prototype=new r,s}.call(e,i,e,t))||(t.exports=n)},3802:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6879),n=function(t){this.base=e,this.base(t)};return n.prototype=new e,n}.call(e,i,e,t))||(t.exports=n)},6730:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8001),n=(i(9280),i(5855)),r=i(2677),o=function(t){this.base=r,this.base(t),this.style("transform",!1,!0).hasValue()&&this.bb.applyTransform(new n(this.style("transform",!1,!0).value)),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),null!=t&&(t.fillStyle=e.options.col||"red",t.strokeStyle="")}};return o.prototype=new r,o}.call(e,i,e,t))||(t.exports=n)},4521:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280),i(1533);var e=i(9876),n=i(1549),r=function(t){var i,r,o,s;this.base=n,this.base(t),null!=t&&(i=this.attribute("x1").toPixels("x"),r=this.attribute("y1").toPixels("y"),o=this.attribute("x2").toPixels("x"),s=this.attribute("y2").toPixels("y"),this.bb=new e,this.bb.addPoint(i,r),this.bb.addPoint(o,s)),this.path=function(t){null!=t&&(t.beginPath(),t.moveTo(i,r),t.lineTo(o,s))}};return r.prototype=new n,r}.call(e,i,e,t))||(t.exports=n)},8355:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280),i(9876);var e=i(2282),n=DS._,r=["mask","transform","clip-path"];var o=function(t){this.base=e,this.base(t),this.apply=function(t,e){var i=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y");if(0===o&&0===s){var a=this.getBoundingBox();i=Math.floor(a.left()),n=Math.floor(a.top()),o=Math.floor(a.width()),s=Math.floor(a.height())}var l=e.attribute("mask").value;e.attribute("mask").value="";var c=function(t){return r.reduce((function(e,i){return null!=t.styles[i]&&(e[i]=t.styles[i],t.styles[i]=null),e}),{})}(e),u=document.createElement("canvas");u.width=i+o,u.height=n+s;var h=u.getContext("2d");this.renderChildren(h);var d=document.createElement("canvas");d.width=i+o,d.height=n+s;var p=d.getContext("2d");e.render(p),p.globalCompositeOperation="destination-in",d.width>0&&(p.fillStyle=h.createPattern(u,"no-repeat"),p.fillRect(0,0,i+o,n+s),t.fillStyle=p.createPattern(d,"no-repeat"),t.fillRect(0,0,i+o,n+s)),e.attribute("mask").value=l,function(t,e){Object.keys(e).forEach((function(i){t.style[i]=e[i]}))}(e,c)},this.render=n.noop};return o.prototype=new e,o}.call(e,i,e,t))||(t.exports=n)},299:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280);var e=i(2282),n=function(t){};return n.prototype=new e,n}.call(e,i,e,t))||(t.exports=n)},624:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001);var e=i(9280),n=i(1533),r=i(9876),o=i(5005),s=i(1549),a=DS,l=(a.flagManager,a.constants),c=a.TransMatrix,u=/,/gm,h=/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,d=/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,p=/([0-9])([+\-])/gm,f=/(\.[0-9]*)(\.)/gm,g=/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,m=l.math.TO_DEGREES,v=l.math.TO_RADIANS,S=function(t,e){var i=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.sqrt(e.x*e.x+e.y*e.y);return(t.x*e.x+t.y*e.y)/(i*n)},y=function(t,e,i){return i=i||S(t,e),(t.x*e.y<t.y*e.x?-1:1)*Math.acos(i)},b=function(t,e,i,n,r,o,s,a){for(;s<0;)s+=l.math.TWO_PI;a&&(s-=l.math.TWO_PI);var u,h=Math.ceil(Math.abs(s)/l.math.QUARTER_PI),d=s/h,p=d/2,f=Math.cos(p),g=l.math.HALF_PI+o,v=[],S=0!==i?(new c).rotate(i*m,t,e):{transformPoint:function(t,e){return{x:t,y:e}}};for(u=0;u<h;u++)g+=d,v.push([S.transformPoint(t+Math.sin(g-p)*(n/f),e-Math.cos(g-p)*(r/f)),S.transformPoint(t+Math.sin(g)*n,e-Math.cos(g)*r)]);return v},w={m:function(t,e,i){var n=t.getAsCurrentPoint();for(e.addPoint(n.x,n.y),null!=i&&i.moveTo(n.x,n.y),t.start=t.current;!t.isCommandOrEnd();)n=t.getAsCurrentPoint(),e.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)},z:function(t,e,i){null!=i&&i.closePath(),t.current=t.start},l:function(t,e,i){for(;!t.isCommandOrEnd();){var n=t.getAsCurrentPoint();e.addPoint(n.x,n.y),null!=i&&i.lineTo(n.x,n.y)}},h:function(t,e,i){for(;!t.isCommandOrEnd();){var r=new n((t.isRelativeCommand()?t.current.x:0)+t.getScalar(),t.current.y);t.current=r,e.addPoint(t.current.x,t.current.y),null!=i&&i.lineTo(t.current.x,t.current.y)}},v:function(t,e,i){for(;!t.isCommandOrEnd();){var r=new n(t.current.x,(t.isRelativeCommand()?t.current.y:0)+t.getScalar());t.current=r,e.addPoint(t.current.x,t.current.y),null!=i&&i.lineTo(t.current.x,t.current.y)}},c:function(t,e,i){for(;!t.isCommandOrEnd();){var n=t.current,r=t.getPoint(),o=t.getAsControlPoint(),s=t.getAsCurrentPoint();e.addBezierCurve(n.x,n.y,r.x,r.y,o.x,o.y,s.x,s.y),null!=i&&i.bezierCurveTo(r.x,r.y,o.x,o.y,s.x,s.y)}},s:function(t,e,i){for(;!t.isCommandOrEnd();){var n=t.current,r=t.getReflectedControlPoint(),o=t.getAsControlPoint(),s=t.getAsCurrentPoint();e.addBezierCurve(n.x,n.y,r.x,r.y,o.x,o.y,s.x,s.y),null!=i&&i.bezierCurveTo(r.x,r.y,o.x,o.y,s.x,s.y)}},q:function(t,e,i){for(;!t.isCommandOrEnd();){var n=t.current,r=t.getAsControlPoint(),o=t.getAsCurrentPoint();e.addQuadraticCurve(n.x,n.y,r.x,r.y,o.x,o.y),null!=i&&i.quadraticCurveTo(r.x,r.y,o.x,o.y)}},t:function(t,e,i){for(;!t.isCommandOrEnd();){var n=t.current,r=t.getReflectedControlPoint();t.control=r;var o=t.getAsCurrentPoint();e.addQuadraticCurve(n.x,n.y,r.x,r.y,o.x,o.y),null!=i&&i.quadraticCurveTo(r.x,r.y,o.x,o.y)}},a:function(t,e,i){for(;!t.isCommandOrEnd();){var n,r,o,s,a,l,c,u,h,d,p,f,g,m=t.current,w=t.getScalar(),x=t.getScalar(),D=t.getScalar()*v,C=Math.sin(D),E=Math.cos(D),P=t.getScalar(),T=t.getScalar(),I=t.getAsCurrentPoint(),A={x:E*(m.x-I.x)/2+C*(m.y-I.y)/2,y:-C*(m.x-I.x)/2+E*(m.y-I.y)/2},L=A.y*A.y,M=A.x*A.x,k=M/(w*w)+L/(x*x),R=0;for(k>1&&(w*=n=Math.sqrt(k),x*=n),r=w*w,o=x*x,s=(P===T?-1:1)*Math.sqrt((r*o-r*L-o*M)/(r*L+o*M)),isNaN(s)&&(s=0),a={x:s*w*A.y/x,y:s*-x*A.x/w},l={x:(m.x+I.x)/2+E*a.x-C*a.y,y:(m.y+I.y)/2+C*a.x+E*a.y},u={x:(-A.x-a.x)/w,y:(-A.y-a.y)/x},h=y({x:1,y:0},c={x:(A.x-a.x)/w,y:(A.y-a.y)/x}),(d=S(c,u))<=-1?R=Math.PI:d<1&&(R=y(c,u,d)),p=b(l.x,l.y,D,w,x,h,R,1-T!=0),g=0;g<p.length;g++)f=p[g],e.addQuadraticCurve(m.x,m.y,f[0].x,f[0].y,f[1].x,f[1].y),null!=i&&i.quadraticCurveTo(f[0].x,f[0].y,f[1].x,f[1].y),m=f[1]}}},x=function(t){this.base=s,this.base(t);var i=this.attribute("d").value;i=(i=(i=(i=(i=(i=i.replace(u," ")).replace(h,"$1 $2").replace(h,"$1 $2")).replace(d,"$1 $2")).replace(p,"$1 $2")).replace(f,"$1 $2").replace(f,"$1 $2")).replace(g,"$1 $3 $4 "),i=e.compressSpaces(i),i=e.trim(i),this.PathParser=new o(i),this.path=function(t){var e=this.PathParser;for(e.reset(),this.bb=new r,null!=t&&t.beginPath();!e.isEnd();){e.nextCommand();var i=e.command.toLowerCase();null!=w[i]&&w[i](e,this.bb,t)}},this.getBoundingBoxBase=this.getBoundingBox,this.getBoundingBox=function(){return null==this.bb&&this.path(),this.getBoundingBoxBase()},this.updateBoundingBox=function(){null==this.bb&&this.path()}};return x.prototype=new s,x}.call(e,i,e,t))||(t.exports=n)},1533:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=function(t,e){this.x=t,this.y=e};return DS._.extend(e.prototype,{angleTo:function(t){return Math.atan2(t.y-this.y,t.x-this.x)},applyTransform:function(t){var e=this.x*t[0]+this.y*t[2]+t[4],i=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=i}}),e}.call(e,i,e,t))||(t.exports=n)},2429:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(6967),n=(DS.flagManager,function(t){this.base=e,this.base(t),this.basePath=this.path,this.path=function(t){null!=t&&(this.basePath(t),t.lineTo(this.points[0].x,this.points[0].y),t.closePath())}});return n.prototype=new e,n}.call(e,i,e,t))||(t.exports=n)},6967:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001);var e=i(9280),n=i(9876),r=i(1549),o=function(t){if(this.base=r,this.base(t),null!=t){this.points=e.CreatePath(this.attribute("points").value);var i,o=this.points.length;for(this.bb=new n,i=0;i<o;i++)this.bb.addPoint(this.points[i].x,this.points[i].y)}this.path=function(t){if(null!=t){t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(var e=1;e<this.points.length;e++)t.lineTo(this.points[e].x,this.points[e].y)}}};return o.prototype=new r,o}.call(e,i,e,t))||(t.exports=n)},8846:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8001),n=DS._,r=Math.PI/180,o=/px$/,s=/pt$/,a=/pc$/,l=/cm$/,c=/mm$/,u=/in$/,h=/%$/,d=/deg$/,p=/rad$/,f=/grad$/,g=/#([^\)'"]+)/,m=function(t,e){this.name=t,this.value=e};return n.extend(m.prototype,{getValue:function(){return this.value},hasValue:function(){return null!=this.value&&""!==this.value},isTrue:function(){return"true"===this.value.toLowerCase()},numValue:function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(h)&&(t/=100),t},valueOrDefault:function(t){return this.hasValue()?this.value:t},numValueOrDefault:function(t){return this.hasValue()?this.numValue():t},getDefinition:function(){var t=this.value.match(g);return t&&(t=t[1]),t||(t=this.value),e.defs[t]},isUrlDefinition:function(){return 0===this.value.indexOf("url(")},getDPI:function(t){return 96},getUnits:function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},toPixels:function(t,i){if(!this.hasValue())return 0;var n=this.value+"";if(n.match(o))return this.numValue();if(n.match(s))return this.numValue()*this.getDPI(t)*(1/72);if(n.match(a))return 15*this.numValue();if(n.match(l))return this.numValue()*this.getDPI(t)/2.54;if(n.match(c))return this.numValue()*this.getDPI(t)/25.4;if(n.match(u))return this.numValue()*this.getDPI(t);if(n.match(h))return this.numValue()*e.viewPort.ComputeSize(t);var r=this.numValue();return i&&r<1?r*e.viewPort.ComputeSize(t):r},toRadians:function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(d)?this.numValue()*r:t.match(p)?this.numValue():t.match(f)?this.numValue()*(Math.PI/200):this.numValue()*r}}),m}.call(e,i,e,t))||(t.exports=n)},2677:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280);var e=i(9876),n=i(1549),r=function(t){var i,r,o,s,a,l,c,u,h,d;this.base=n,this.base(t),null!=t&&(i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y"),a=i+o,l=r+s,c=this.attribute("rx").toPixels("x"),u=this.attribute("ry").toPixels("y"),h=this.attribute("rx").hasValue(),d=this.attribute("ry").hasValue(),h&&!d?u=c:!h&&d&&(c=u),c=Math.min(c,o/2),u=Math.min(u,s/2),this.bb=new e,c>0||u>0?(this.bb.addQuadraticCurve(a-c,r,a,r,a,r+u),this.bb.addQuadraticCurve(a,l-u,a,l,a-c,l),this.bb.addQuadraticCurve(i+c,l,i,l,i,l-u),this.bb.addQuadraticCurve(i,r+u,i,r,i+c,r)):(this.bb.addPoint(i,r),this.bb.addPoint(a,r),this.bb.addPoint(a,l),this.bb.addPoint(i,l))),this.path=function(t){null!=t&&(t.beginPath(),t.moveTo(i+c,r),t.lineTo(a-c,r),t.quadraticCurveTo(a,r,a,r+u),t.lineTo(a,l-u),t.quadraticCurveTo(a,l,a-c,l),t.lineTo(i+c,l),t.quadraticCurveTo(i,l,i,l-u),t.lineTo(i,r+u),t.quadraticCurveTo(i,r,i+c,r),t.closePath())}};return r.prototype=new n,r}.call(e,i,e,t))||(t.exports=n)},1637:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8001),n=i(9280),r=i(6879),o=function(t){this.base=r,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),e.viewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,void 0!==t.font&&void 0!==window.getComputedStyle&&(t.font=window.getComputedStyle(t.canvas).getPropertyValue("font")),this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i=e.viewPort.width(),r=e.viewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var o=0,s=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(o=-this.attribute("refX").toPixels("x"),s=-this.attribute("refY").toPixels("y")),"visible"!==this.attribute("overflow").valueOrDefault("hidden")&&(t.beginPath(),t.moveTo(o,s),t.lineTo(i,s),t.lineTo(i,r),t.lineTo(o,r),t.closePath(),t.clip())}if(e.viewPort.SetCurrent(i,r),this.attribute("viewBox").hasValue()){var a=n.ToNumberArray(this.attribute("viewBox").value),l=a[0],c=a[1];i=a[2],r=a[3];var u=this.root?1:0;n.aspectRatio(t,this.attribute("preserveAspectRatio").value,e.viewPort.width()-u,i,e.viewPort.height()-u,r,l,c,this.attribute("refX").value,this.attribute("refY").value),e.viewPort.RemoveCurrent(),e.viewPort.SetCurrent(a[2],a[3])}}};return o.prototype=new r,o}.call(e,i,e,t))||(t.exports=n)},5623:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280);var e=i(6879),n=DS._,r=function(t){this.base=e,this.base(t),this.render=n.noop};return r.prototype=new e,r}.call(e,i,e,t))||(t.exports=n)},2256:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9876),n=i(6879),r=function(t){this.base=n,this.base(t);var i=t.getBBox(),r=i.x,o=i.y,s=i.width,a=i.height;[r,o,s,a].some((function(t){return 0!==t}))&&(this.bb=new e,this.bb.addPoint(r,o+a),this.bb.addPoint(r+s,o+a),this.bb.addPoint(r+s,o),this.bb.addPoint(r,o)),this.renderChildren=function(t){null!=t&&(t.beginPath(),t.moveTo(r,o),t.lineTo(r,o+a),t.lineTo(r+s,o+a),t.lineTo(r+s,o),t.lineTo(r,o),t.closePath(),t.fill())}};return r.prototype=new n,r}.call(e,i,e,t))||(t.exports=n)},5855:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9280),n=i(8846),r=/\)([a-zA-Z])/g,o=/\)(\s?,\s?)/g,s=/\s(?=[a-z])/;return function(t){var i=this;this.Type={},this.Type.translate=function(t){this.p=e.CreatePoint(t),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var i=e.ToNumberArray(t);this.angle=new n("angle",i[0]),this.cx=i[1]||0,this.cy=i[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=e.CreatePoint(t),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=e.ToNumberArray(t),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(t){var e=this.m[0],i=this.m[2],n=this.m[4],r=this.m[1],o=this.m[3],s=this.m[5],a=1/(e*(1*o-0*s)-i*(1*r-0*s)+n*(0*r-0*o));t.transform(a*(1*o-0*s),a*(0*s-1*r),a*(0*n-1*i),a*(1*e-0*n),a*(i*s-n*o),a*(n*r-e*s))},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=i.Type.matrix,this.base(t),this.angle=new n("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=i.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=i.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var a=e.trim(e.compressSpaces(t)).replace(r,") $1").replace(o,") ").split(s),l=a.length,c=0;c<l;c++){var u=a[c].split("("),h=e.trim(u[0]),d=u[1].replace(")","");this.transforms.push(new this.Type[h](d))}}}.call(e,i,e,t))||(t.exports=n)},7764:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8001),n=(i(9280),i(9876),i(1637)),r=i(8846),o=i(6879),s=(DS.flagManager,function(t){this.base=o,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))};var i=this.getHrefAttribute().getDefinition();if(null==i&&this.attribute("data-pointer-events").isTrue()){var s=this.getHrefAttribute().value.substr(1),a=document.getElementById(s);if(null!=a){var l=a.viewBox.baseVal||a,c=l.width,u=l.height;e.viewPort.SetCurrent(c,u),(i=e.createElement(a)).attributes.customImage=new r("customImage",!0),e.viewPort.RemoveCurrent()}}this.path=function(t){null!=i&&i.path(t)},this.getBoundingBox=function(){if(null!=i)return i.getBoundingBox()},this.updateBoundingBox=function(){null!=i&&i.getBoundingBox()},this.renderChildren=function(t){if(null!=i){var e=i;"symbol"===i.type&&((e=new n).type="svg",e.attributes.viewBox=new r("viewBox",i.attribute("viewBox").value),e.attributes.preserveAspectRatio=new r("preserveAspectRatio",i.attribute("preserveAspectRatio").value),e.attributes.overflow=new r("overflow",i.attribute("overflow").value),e.children=i.children),"svg"===e.type&&(this.attribute("width").hasValue()&&(e.attributes.width=new r("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(e.attributes.height=new r("height",this.attribute("height").value)));var o=e.parent;e.parent=this,e.render(t),e.parent=o}}});return s.prototype=new o,s}.call(e,i,e,t))||(t.exports=n)},2913:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=function(){this.viewPorts=[]};return DS._.extend(e.prototype,{Clear:function(){this.viewPorts=[]},SetCurrent:function(t,e){this.viewPorts.push({width:t,height:e})},RemoveCurrent:function(){this.viewPorts.pop()},Current:function(){return this.viewPorts[this.viewPorts.length-1]},width:function(){return this.Current().width},height:function(){return this.Current().height},ComputeSize:function(t){return null!=t&&"number"==typeof t?t:"x"===t?this.width():"y"===t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}),e}.call(e,i,e,t))||(t.exports=n)},7079:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8001),i(9280);var e=i(299),n=(i(8846),i(2677)),r=i(9927),o=i(6837),s=i(4521),a=i(6967),l=i(2429),c=i(624),u=i(4207),h=i(6730),d=i(3802),p=i(5623),f=i(1637),g=i(7764),m=i(8355),v=i(2256),S=i(2330),y=(DS.flagManager,{rect:n,circle:r,ellipse:o,line:s,polyline:a,polygon:l,path:c,defs:u,image:h,g:d,a:d,symbol:p,use:g,mask:m,svg:f,clipPath:S}),b=/^[^:]+:/,w=/\-/g;return{createElement:function(t){var i=t.nodeName.replace(b,"").replace(w,""),n=y[i]||e;"text"===i&&(n=v);var r=new n(t);return r.type=t.nodeName,r}}}.call(e,i,e,t))||(t.exports=n)},7990:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8001),n=i(9280),r=i(2913),o=(i(1533),i(8846)),s=(i(2282),i(6879),i(1549),i(5855),i(9876)),a=i(7079),l=function(t){var e=t.flattenBoundingBox(new s);if(0===e.points.length&&0===e.beziers.length&&0===e.children.length){var i=DS.appState.windowManager.getCurrentWindowSlide(),n=1;i&&(n=DS.utils.getPath(i,"currView.props.winScale",1));var r=t.attribute("width"),o=t.attribute("height");r.value&&o.value&&(r=r.toPixels("x"),o=o.toPixels("y"),e.points=[[0,0],[0,o/n],[r/n,o/n],[r/n,0]])}return e};return function(t,i,s){return t="string"==typeof t?document.getElementById(t):t,e.defs={},e.options=s,e.createElement=a.createElement,e.emptyProperty=new o("EMPTY",""),e.viewPort=new r,e.maxStroke=0,function(t,i){var n=e.createElement(i.documentElement),r=t.getContext("2d"),o=e.options.winScale||1;n.root=!0,e.viewPort.Clear(),t.parentNode&&e.viewPort.SetCurrent(t.parentNode.clientWidth,t.parentNode.clientHeight),n.style("width").hasValue()&&(t.width=n.style("width").toPixels("x")/o+1,t.style.width=t.width+"px"),n.style("height").hasValue()&&(t.height=n.style("height").toPixels("y")/o+1,t.style.height=t.height+"px");var s=t.clientWidth||t.width,a=t.clientHeight||t.height;return e.viewPort.SetCurrent(s,a),n.render(r),{bb:l(n),sw:e.maxStroke}}(t,void 0!==i.documentElement?i:n.parseXml(i.trim()))}}.call(e,i,e,t))||(t.exports=n)},8001:function(t,e,i){var n;void 0===(n=function(t){"use strict";return{}}.call(e,i,e,t))||(t.exports=n)},9280:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(1533),n=i(8846),r=/-?(\d+(\.\d+)?|\.\d+)(?=\D|$)/gm,o=/[\s\r\t\n]+/gm,s=/^\s+|\s+$/g,a=/^xMid/,l=/YMid$/,c=/^xMax/,u=/YMax$/,h={kappa:(Math.sqrt(2)-1)/3*4,hasValue:function(t){return null!=t&&""!==t},trim:function(t){return t.replace(s,"")},compressSpaces:function(t){return t.replace(o," ")},ToNumberArray:function(t){for(var e=(t||"").match(r)||[],i=0;i<e.length;i++)e[i]=parseFloat(e[i]);return e},CreatePoint:function(t){var i=this.ToNumberArray(t);return new e(i[0],i[1])},CreatePath:function(t){for(var i=this.ToNumberArray(t),n=[],r=0;r<i.length;r+=2)n.push(new e(i[r],i[r+1]));return n},parseXml:function(t){var e;return window.DOMParser?(new window.DOMParser).parseFromString(t,"text/xml"):(t=t.replace(/<!DOCTYPE svg[^>]*>/,""),(e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t),e)},aspectRatio:function(t,e,i,r,o,s,d,p,f,g){var m=(e=(e=h.compressSpaces(e)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",v=e.split(" ")[1]||"meet",S=i/r,y=o/s,b=Math.min(S,y),w=Math.max(S,y);"meet"===v&&(r*=b,s*=b),"slice"===v&&(r*=w,s*=w),f=new n("refX",f),g=new n("refY",g),f.hasValue()&&g.hasValue()?t.translate(-b*f.toPixels("x"),-b*g.toPixels("y")):(m.match(a)&&("meet"===v&&b===y||"slice"===v&&w===y)&&t.translate(i/2-r/2,0),m.match(l)&&("meet"===v&&b===S||"slice"===v&&w===S)&&t.translate(0,o/2-s/2),m.match(c)&&("meet"===v&&b===y||"slice"===v&&w===y)&&t.translate(i-r,0),m.match(u)&&("meet"===v&&b===S||"slice"===v&&w===S)&&t.translate(0,o-s)),"none"===m?t.scale(S,y):"meet"===v?t.scale(b,b):"slice"===v&&t.scale(w,w),t.translate(null==d?0:-d,null==p?0:-p)}};return h}.call(e,i,e,t))||(t.exports=n)},7859:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r,o,s=i(6536),a=i(23),l=i(3986),c=i(1958),u=DS._,h=DS.utils,d=DS.pubSub,p=DS.vow,f=DS.constants,g=DS.events,m=f.RECT_HIT,v=f.GROUP_HIT,S=f.SLIDE_HIT,y=function(t,e){return t[0]<e[2]&&t[2]>e[0]&&t[1]<e[3]&&t[3]>e[1]},b=function(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1]),Math.min(t[2],e[2]),Math.min(t[3],e[3])]},w=function(t,e){var i=s.getBounds(e);return t[0]<=i[0]&&t[2]>=i[2]&&t[1]<=i[1]&&t[3]>=i[3]},x=function(t,e,i,n,o){var a,l,c,u,h,d=t.props.model.getHitType(),p=e.props.model.getHitType(),f=i.length,g=0,v=Math.floor(n[0]),b=Math.floor(n[1]),x=Math.ceil(n[2])-v,C=Math.ceil(n[3])-b,E=d===m||d===S,P=p===m||p===S;if(0===f&&(E&&P||P&&w(n,t)||E&&w(n,e)))return x*C;for(r.translate(-v,-b),r.clearRect(v,b,x,C),r.globalAlpha=.5,D(r,e),c=0;c<f;c++)h=i[c],u=s.getBounds(h),y(n,u)&&D(r,i[c],!0);for(D(r,t),l=(a=s.getImageData(r,0,0,x,C).data).length,c=3;c<l&&(!(a[c]>128)||(g++,o));c+=4);return r.translate(v,b),g},D=function(t,e,i){var n,r,o,l,c,u,h,d=!i&&!e.dragging&&function(t){var e=t.props.model,i=e.closestScrollAncestor;return null==i&&(i=e.closestScrollAncestor=e.getClosestAncestorByKind("scrollarea")||!1),i&&i.currView}(e);d?(l=(h=d.props.model).width(),c=h.height(),null==h.scrollCanvas?((r=h.scrollCanvas=document.createElement("canvas")).width=l,r.height=c):r=h.scrollCanvas,(o=r.getContext("2d",{willReadFrequently:!0})).clearRect(0,0,l,c),o.save(),n=(u=a.getMatrix(d)).copy().invert(),o.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),s.drawToTarget(e,o),o.restore(),t.save(),n=u,t.transform(n.a,n.c,n.b,n.d,n.tx,n.ty),t.drawImage(r,0,0),t.restore()):(t.save(),i&&(t.globalAlpha=1,t.globalCompositeOperation="destination-out"),s.drawToTarget(e,t),t.restore())},C=function(t,e,i){var n=t.props.model,r=s.getCanvas(t).getContext("2d",{willReadFrequently:!0}),o=n.getCurrentStateMetrics(),a=null==o.mask?o.strokewidth:0,l=o.xPos-a,c=o.yPos-a;return 0!==s.getImageData(r,e-l,i-c,1,1).data[0]},E=function(t){if(null!=t&&0!==t.length){var e,i,n,r,o,s,a=t.length,l=[];for(e=0;e<a;e++)(i=t[e]).lastCollision,n=i.eventableModel,r=i.targetModel,o=n.currView,s=r.currView,null!=o&&null!=s&&(i.currCollision=o.trulyVisible&&s.trulyVisible&&P(o,s),i.currCollision!==i.lastCollision&&(i.lastCollision=i.currCollision,l.push(n)));T(u.uniq(l))}},P=function(t,e){var i,n,r,o,a,l,c,u=t.props.model,h=e.props.model,d=u.getHitType(),p=h.getHitType(),f=d===v?t.allRefs:[u],g=p===v?e.allRefs:[h],m=f.length,S=g.length,w=[],D=[],C=[];for(w.length=m,D.length=S,o=0;o<m;o++)if((i=f[o]).currView.trulyVisible)for(w[o]=s.getBounds(i.currView),a=0;a<S;a++)(n=g[a]).currView.trulyVisible&&(0===o&&(D[a]=s.getBounds(n.currView)),y(w[o],D[a])&&C.push([o,a]));for(r=C.length,o=0;o<r;o++)if(l=C[o][0],c=C[o][1],x(f[l].currView,g[c].currView,[],b(w[l],D[c]),!1)>0)return!0;return!1},T=function(t){var i,n,r,o,s,a,l,u,h=t.length;for(n=0;n<h;n++)for(i=t[n],a=(l=c.getEventableLookupAndStates(i)).eventStates,u=l.lookup,r=a.length,s=0;s<r;s++)o=a[s],I(i,o,u)&&e.executeActions(o.event.actions,{context:i})},I=function(t,e,i){var n,r,o=e.event.kind,s=e.targets,a=s.length,l=!1,c=!1;for(n=0;n<a;n++)if(r=i[s[n].getRelativeId()],(l=l||r.currCollision)&&"oncollisionstart"===o)return c=e.lastHit!==l,e.lastHit=l,c;return l||"oncollisionend"!==o?(e.lastHit=l,!1):(c=e.lastHit!==l,e.lastHit=l,c)},A={initialize:function(t){var i=this;this.setupDfd=p.Deferred(),e=t,d.on(g.app.COMPLETE,(function(){(o=l.getCollisionLib())&&(n=o.querySelector("canvas"),(r=n.getContext("2d",{willReadFrequently:!0})).imageSmoothingEnabled=!1,n.width=720,n.height=540,o.appendChild(n)),A.setupDfd.resolve()})),d.on(g.slide.HAS_MOUNTED,(function(t){i.setupDfd.then((function(){var e=h.getPath(t,"props.model");null==e||t.props.isMessageWindow||(n.width=e.get("width"),n.height=e.get("height"))}))}))},transformUpdated:function(t,e){var i=t.props.model;a.setMatrixDirty(t),!1!==i.isCollideable&&(e?E(c.getCollisionSets(i)):c.markCollisionsDirty(i,(function(){E(c.getDirtyCollisionSets())})))},containsPoint:function(t,e,i){if(t.props.model.getHitType()===v){var n=a.localPtToSlide(t,e,i);return u.reduce(t.allRefs,(function(t,e){var i=e.currView,r=a.slidePtToSlideObject(i,n.x,n.y);return t||C(i,r.x,r.y)}),!1)}return C(t,e,i)},getOverlapArea:function(t,e,i,n){var r=s.getBounds(t),o=s.getBounds(e),a=0;return y(r,o)&&(a=x(t,e,i,b(r,o),n)),a}};return A}.call(e,i,e,t))||(t.exports=n)},7461:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8876),n=i(7859),r=i(23),o=DS._,s=DS.events,a=DS.utils,l=DS.svgUtils,c=DS.windowManager,u=DS.globalEventHelper,h=u.addBodyListener,d=u.removeBodyListener,p=DS.dom.hasClass,f=o.reduce(["dragstart","drag","dragend","dropenter","dropdrag","dropleave","drop"],(function(t,e){return t["on"+e]=o.noop,t.setTargets=o.noop,t}),{}),g=[],m=["currView","refs","innard"],v=function(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top},S=function(t,e){if(!v(t,e))return 0;var i=Math.max(t.top,e.top),n=Math.min(t.bottom,e.bottom),r=Math.max(t.left,e.left);return(Math.min(t.right,e.right)-r)*(n-i)},y=function(t){return-t.getZIndex()},b=function(t,e){var i,n=DS.windowManager.getCurrentWindowSlide(),r=function(t){var e=t.params?t.params.slideOwner:null;return null==e||e===n},s=t.el.getBoundingClientRect(),a=o.sortBy(e.filter(r),y);return a.reduce((function(t,e,n){var o=a.slice(0,n).reduce((function(t,e){return t-S(s,e.getBounds())}),S(s,e.getBounds()));return r(e)&&o>t?(i=e,o):t}),0),i},w=function(t,e,i){var n=this;this.view=t,this.el=i||t.el,this.params=o.defaults(e,f),this.relativeView=null!=i?this.view.props.model.parentModel.currView:this.view,this.currSlide=c.getCurrentWindowSlide(),this.removeSlideChangeListener=DS.pubSub.addListener(s.slide.WILL_CHANGE,(function(){n.slideHasChanged=!1,n.isMousedDown&&(n.slideHasChanged=!0,n.onReleaseMouse())})),this.currSlide.listenTo(this.currSlide,s.slide.TEARDOWN,this.removeSlideChangeListener),o.bindAll(this,"disable","enable","bindTouch","grab","contain","move","release","onGrabMouse","onGrabTouch","onMoveMouse","onMoveTouch","onReleaseMouse","onReleaseTouch","hasModalAbove","getDropTarget","getPosition"),this.offsetX=this.grabbedXPos=this.offsetY=this.grabbedYPos=0,this.enable()};o.extend(w.prototype,{hasMoved:!1,x:0,y:0,unbindTouch:o.noop,disable:function(){this.el.removeEventListener("mousedown",this.onGrabMouse),this.unbindTouch()},enable:function(){this.el.addEventListener("mousedown",this.onGrabMouse),this.bindTouch()},bindTouch:function(){this.unbindTouch(),this.unbindTouch=o.flow(e.on(this.el,"touchstart",this.onGrabTouch),e.on(this.el,"touchmove",this.onMoveTouch),e.on(this.el,"touchend",this.onReleaseTouch))},grab:function(t,e){this.cachedMetrics=r.getSlideMetrics(this.relativeView),this.grabbedXPos=this.relativeView.getPlayerProp("RawXPos"),this.grabbedYPos=this.relativeView.getPlayerProp("RawYPos");var i=this.getPosition(),n=r.globalPtToLayer(this.relativeView,t,e,this.cachedMetrics),o=r.parentPtToSlide(this.relativeView,this.grabbedXPos,this.grabbedYPos);this.params.setTargets(),this.params.getPosition&&(i=this.params.getPosition(),this.relativeView!==this.view&&(o={x:i.x/this.cachedMetrics.scaleX,y:i.y/this.cachedMetrics.scaleY})),this.offsetX=o.x-n.x,this.offsetY=o.y-n.y,this.origPosX=i.x,this.origPosY=i.y,this.hasMoved=!1},contain:function(){if(null==this.dropTarget){var t=this.el.getBoundingClientRect(),e=this.params.containment.getBoundingClientRect(),i=o.result(this.view.props.model,"getCurrentStateMetrics",{strokewidth:0}).strokewidth/2,n=this.currSlide.calculateTotalScale();this.x=a.clamp(i,(e.width-t.width)*n-i,this.x),this.y=a.clamp(i,(e.height-t.height)*n-i,this.y)}},move:function(t,e){var i,o=this.dropTarget,s=r.globalPtToLayer(this.relativeView,t,e,this.cachedMetrics),c=this.view.props.model,u=this.view.props.winScale;this.x=s.x+this.offsetX,this.y=s.y+this.offsetY,this.el.style[this.view.cssTransform]=[l.transformTranslate(a.pxify(this.x*u),a.pxify(this.y*u)),l.transformRotate(this.view.state.Rotation+"deg"),l.transformScale(this.view.state.ScaleX/100,this.view.state.ScaleY/100)].join(" "),this.dropTarget=this.getDropTarget("drag"),n.transformUpdated(this.view),this.hasMoved||(i=o&&o.el,null!=c.reparentChild&&c.reparentChild(c.getSlide()),this.params.ondragstart(this,this.dropTarget),this.hasMoved=!0),this.params.ondrag(this,this.dropTarget),!o||this.dropTarget&&o===this.dropTarget||this.params.ondropleave(this,o),this.dropTarget&&(o===this.dropTarget&&i!==this.dropTarget.el||this.params.ondropenter(this,this.dropTarget),this.params.ondropdrag(this,this.dropTarget))},release:function(){this.hasMoved&&(this.contain(),this.params.setPosition&&this.params.setPosition(this.x,this.y),this.dropTarget=this.getDropTarget("drop"),null!=this.dropTarget&&this.params.ondrop(this,this.dropTarget),this.params.ondragend(this,this.dropTarget),null!=this.dropTarget&&this.relativeView.props.model.executePlayerEvent("ondragconnect"))},onGrabMouse:function(t){this.isMousedDown||p(t.target,"scrollarea-scrollbar")||p(t.target,"scrollarea-btn")||(this.isMousedDown=!0,this.grab(t.clientX,t.clientY),h("mousemove",this.onMoveMouse),h("mouseup",this.onReleaseMouse),t.preventDefault())},onGrabTouch:function(t){if(!p(t.target,"scrollarea-scrollbar")&&!p(t.target,"scrollarea-btn")){var e=t.changedTouches[0];this.touchId=e.identifier,this.grab(e.clientX,e.clientY),t.preventDefault()}},onMoveMouse:function(t){this.move(t.clientX,t.clientY),t.preventDefault()},onMoveTouch:function(t){var e=t.changedTouches[0];this.touchId===e.identifier&&(this.move(e.clientX,e.clientY),t.preventDefault())},onReleaseMouse:function(t){this.isMousedDown=!1,this.slideHasChanged||(this.release(),this.view.props.model.setTransformDirty(),this.hasMoved||"textinput"!==this.view.props.model.get("kind")||this.view.accShadowView.takeFocus()),d("mousemove",this.onMoveMouse),d("mouseup",this.onReleaseMouse)},onReleaseTouch:function(t){this.release(),this.view.props.model.setTransformDirty(),this.touchId=null},hasModalAbove:function(){var t=a.getPath(this,"view.props.model.getLayer");return null!=t&&null!=t.collection&&t.collection.hasModalLayerAbove(t)},getDropTarget:function(t){if(!this.hasModalAbove())return this.params.getDropTarget?this.params.getDropTarget(this,g,t):b(this,g)},getPosition:function(){return{x:this.x,y:this.y}}});var x=function(t,e){this.el=t,this.params=e,g.push(this)};return o.extend(x.prototype,{getBounds:function(){return this.el.getBoundingClientRect()},getZIndex:function(){return parseInt(this.el.style.zIndex)},unregister:function(){o.remove(g,this)}}),{DraggableHelper:w,DroppableHelper:x,util:{getClosestScrollInnard:function(t){return a.getPath(t.props.model.getClosestAncestorByKind("scrollarea"),m)},areOverlapping:v,unionArea:S,getDropTargetByOverlap:b,sortByZIndexReverse:y,getRegisteredDroppables:function(){return g}}}}.call(e,i,e,t))||(t.exports=n)},8594:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS,i=e.dom,n=e.constants,r=n.XMLNS,o=n.math.TO_DEGREES,s=[],a=[],l=function(t){var e=t.a,i=t.b,n=t.c,r=t.d,s=t.e,a=t.f,l=Math.hypot(e,i);return{scaleX:l,scaleY:(e*r-i*n)/l,rotate:Math.atan2(i,e)*o,translateX:s,translateY:a}};function c(t){for(var e=t.transform.baseVal,i=new DOMMatrix,n=0;n<e.numberOfItems;n++)i.multiplySelf(e.getItem(n).matrix);return i}function u(t,e){if(null!=t.clone){var i=e.cloneNode(!0);t.clone.appendChild(i),i.beginElement()}}function h(t,e){var n="transform"===e.attributeName?"animateTransform":"animate",o=i.setAttributes(document.createElementNS(r,n),e);return t.append(o),o.beginElement(),o}function d(t,e){var i=t.child,n=t.duration,r=t.a,o=t.b;e.some((function(t){return r[t]!==o[t]}))&&u(i,h(i,{attributeName:"transform",type:2===e.length?e[0].slice(0,-1):prop[0],from:e.map((function(t){return r[t]})).join(" "),to:e.map((function(t){return o[t]})).join(" "),dur:"".concat(n,"s"),fill:"freeze"}))}return{init:function(){s=[],a=[]},transitionElement:function(t,e,i){var n=t.animate([{width:e.style.width,height:e.style.height,transform:e.style.transform}],{duration:i,fill:"forwards"});s.push(n);var r=e.firstElementChild;r.style.opacity=0,setTimeout((function(){r.style.opacity=1}),i);var o=t.querySelector(".slideobject-maskable"),p=e.querySelector(".slideobject-maskable");null!=o&&null!=p&&s.push(o.animate([{width:p.style.width,height:p.style.height}],{duration:i,fill:"forwards"}));var f=o.querySelector("svg"),g=p.querySelector("svg");f.style.overflow="visible",a.push(f),function(t,e,i){var n=t.querySelectorAll("*:not(g, defs, defs *)"),r=e.querySelectorAll("*:not(g, defs, defs *)");n.length===r.length&&(i/=1e3,n.forEach((function(t,e){var n=r[e];if("path"===t.tagName&&"path"===n.tagName){var o=t.getAttribute("d"),s=n.getAttribute("d");o!==s&&h(t,{attributeName:"d",from:o,to:s,dur:"".concat(i,"s"),fill:"freeze"})}Array.from(t.attributes).forEach((function(e){var r,o,s=e.name,a=e.value,p=n.getAttribute(s),f=null==a||null===(r=a.includes)||void 0===r?void 0:r.call(a,"url"),g=null==p||null===(o=p.includes)||void 0===o?void 0:o.call(p,"url");if(f||g){var m=function(t){var e=t.cloneNode(!0);return t.parentNode.insertBefore(e,t),e}(t);m.setAttribute(s,p),t.clone=m;for(var v=0;v<m.children.length;v++){var S,y=m.children[v];null==y||null===(S=y.beginElement)||void 0===S||S.call(y)}h(t,{attributeName:s+"-opacity",from:1,to:0,dur:"".concat(i,"s"),fill:"freeze"})}else if(a!==p&&"id"!==s&&"d"!==s)if("transform"===s){var b=c(t),w=c(n),x=l(b),D=l(w),C={child:t,duration:i,a:x,b:D};d(C,["translateX","translateY"]),d(C,["scaleX","scaleY"]),d(C,["rotate"])}else if("fill-opacity"!==s&&"stroke-opacity"!==s||!t.clone){var E=h(t,{attributeName:s,from:a,to:p,dur:"".concat(i,"s"),fill:"freeze"});u(t,E)}}))})))}(f,g,i)},canMorph:function(t){var e,i,n,r=null==t||null===(e=t.view)||void 0===e||null===(i=e.props)||void 0===i?void 0:i.model;if(!t.closest(".rotatable")&&("checkbox"!==(null==r||null===(n=r.get)||void 0===n?void 0:n.call(r,"accType"))&&!(t.closest(".slide-object-expandinglabel")||t.closest(".slide-object-stategroup")&&(t.querySelector(".rotatable")||t.closest(".slideable-parent")))))return!0},canTransition:function(t,e){if("vectorshape"===t.view.props.model.kind()&&"vectorshape"===e.view.props.model.kind()){var i=t.querySelector("image"),n=t.querySelector("path"),r=e.querySelector("image"),o=e.querySelector("path");return!(i&&!n||r&&!o)}return!0},pause:function(){s.forEach((function(t){t.pause()})),a.forEach((function(t){t.pauseAnimations()}))},play:function(){s.forEach((function(t){t.play()})),a.forEach((function(t){t.unpauseAnimations()}))}}}.call(e,i,e,t))||(t.exports=n)},3423:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=void 0===arguments?void 0:arguments;function s(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(2577).createElement;DS.flagManager.dropInVectors&&(DS.DropIn.semanticTextRenderer=function(t){e=DS.flagManager.dropInAcc?DS.DropIn.createElement:t.createElement}),DS.flagManager.dropInAcc&&(e=DS.DropIn.createElement);var n,r,c,u,h,d,p=i(9924),f=p.splitTemplateOnTokens,g=p.parseTemplate,m=p.splitFormatted,v=i(6103),S=v.getListInfo,y=v.adjustMargin,b=v.getLineHeight,w=DS,x=w._,D=w.utils,C=D.ptify,E=D.pxify,P=D.juxt,T=D.isRtlText,I=w.vendorOverrides,A="p",L="ol",M="ul",k="li",R="a",V="em",O="strong",_="span",N="br",j="sup",B="sub",F="bdo",H={rightToLeft:{left:"right",right:"left",center:"center",justify:"justify"},leftToRight:{left:"left",right:"right",center:"center",justify:"justify"}},G={upper:"uppercase",lower:"lowercase"},U=/(<|<\/)(\w+).*?(\/>|>)/gi,W=1,z=-1,Y=0,q=/[\u0700-\u074f\u0600-\u06ff\u1800-\u18af]/,X=function(t){if(0===t.length)return t;var e=x.first(t).idx;return t.map((function(t){var i,n=t.len,r=t.flowDirection,o=t.cursive;if(null!=t.updateString){var s=function(t){for(var e,i=0,n=[];e=U.exec(t);){var r=l(e,4),o=r[0],s=r[1],a=r[2],c=r[3],u=e.index,h="</"===s?z:"/>"===c?Y:W,d=t.substring(i,u);"br"===a.toLowerCase()&&h!==z&&(d="".concat(d,"\r")),d.length>0&&n.push(d),i=u+o.length}return i<t.length&&n.push(t.substring(i)),n.join("")}(t.updateString());n=s.length,r=T(s)?"rightToLeft":"leftToRight",i=s,o=q.test(i)}var a=x.extend({},t,{idx:e,len:n,flowDirection:r,cursive:o});return e+=n,a}))},K=function(t,e,i){return"none"!==t?e?"bullet"===t?M:L:k:i?i.toLowerCase():A},Z=function(t,e){var i,n,r=x.extend({},e.baseSpanStyle,t.style),o=r.fontSize,s=r.fontIsBold,l=r.fontIsItalic,c=r.fontIsUnderline,u=r.fontIsStrikeout,h=r.foregroundColor,d=r.linkColor,p=r.linkId,f=r.backgroundColor,g=r.spacing,m=r.displayCase,v=r.ascent,S=r.descent,y=r.elevation;return{fontFamily:(i=r.fontFamily,n=[].concat(a(i.split(/,\s*/)),["sans-serif"]),null!=I.fixFontFallbacks&&I.fixFontFallbacks(n),n.join(", ")),backgroundColor:f,color:null!=p?d:h,fontSize:C(o*("normal"==y?1:.6)),fontWeight:s?"700":null,fontStyle:l?"italic":"normal",letterSpacing:null!=g?C(g):"normal",lineHeight:E(b(e,v+S)),textTransform:G[m],textDecoration:[].concat(a(c?["underline"]:[]),a(u?["line-through"]:[])).join(" ")}},Q=function(t){if(!x.isEmpty(t.spans)){var e=function(t){var e=t.spans;if("rtl"===t.style.direction){e.length;var i=0,n=0,r=[];return e.forEach((function(e){n+=e.text.length;for(var o=t.runs[i],s=0;o.idx+o.len<n;){var a=t.runs[i+1];if(o.flowDirection!==a.flowDirection){var l=o.idx-(n-e.text.length)+o.len;s<l&&r.push({text:e.text.substring(s,l),style:x.extend({},e.style,{flowDirection:o.flowDirection})}),s=l}i+=1,o=t.runs[i]}var c=e.text.substring(s,e.text.length);r.push({text:c,style:x.extend({},e.style,{flowDirection:o.flowDirection})})})),r}return t.spans}(t),i=!0;e.forEach((function(e){var n=t,r=e.style,o=r.fontIsBold,s=r.fontIsItalic,a=r.linkId,l=r.elevation,c=r.flowDirection,u=function(t,e){var i={parent:e,type:t,children:[]};return e.children.push(i),i};null!=a&&((n=u(R,n)).linkId=a),!0===o&&(n=u(O,n)),!0===s&&(n=u(V,n)),"leftToRight"===c&&((n=u(F,n)).dir="ltr"),"superscript"===l?n=u(j,n):"subscript"===l&&(n=u(B,n));var h=t.styleConfig;e.text.split(/(\n|\r)/).filter((function(t){return""!==t})).forEach((function(t){!i||"\n"!==t&&"\r"!==t||n.children.push({parent:n,type:_,style:Z(e,h),value:" "}),i="\r"===t,"\r"===t?n.children.push({parent:n,type:N}):"\n"!==t&&n.children.push({parent:n,type:_,style:Z(e,h),value:t})}))}))}},$=function(t,e,i){var n=e.isList&&!i?x.last(e.children):e;t.parent=n;var r=function(t){for(var e=t.parent;null!=e&&null==e.styleConfig;)e=e.parent;return null==e?{paddingLeft:0,paddingRight:0}:e.styleConfig.padding}(t),o=r.paddingLeft,s=r.paddingRight;t.style.paddingLeft-=o,t.style.paddingRight-=s,n.children.push(t),Q(t)},J=function(t,e,i,n){var r=[],o={children:[],level:0},s=0,a=o;return t.blocks.forEach((function(o,c){var u=x.merge({},t.defaultBlockStyle,o.style||{}),h=S(o,u,t.defaultBlockStyle,null,0,r,!1),d=null!=h,p=d?u.listStyle.listType:"none",f=d?h.listLevel+1:u.listLevel;if(d&&(f>s||f===s&&!a.isList)){var g={type:K(p,!0,u.tagType),children:[],isList:!0,level:f,listInfo:h,style:{}};$(g,a,!1),a=g}else if(f<s)for(;null!=a.parent&&(f<a.level||d&&!a.isList);)a=a.parent;s=f;var m=0===c,v=c===t.blocks.length-1,b=function(t,e,i,n,r,o,s,a){var c=t.flowDirection,u=t.justification,h=t.leadingMargin,d=t.firstLineMargin,p=t.spacingBefore,f=void 0===p?0:p,g=t.spacingAfter,m=void 0===g?0:g,v=d-h,S=y(d<0?Math.max(v,-h):v),b=y(h),w=l("rightToLeft"===c?[0,b,"rtl"]:[b,0,"ltr"],3),x=w[0],D=w[1],C=w[2];t.padding={paddingLeft:x,paddingRight:D};var E={textAlign:H[c][u],textIndent:null!=e?Math.min(S,0):S,paddingTop:o?0:f,paddingBottom:s?0:m,paddingRight:D,paddingLeft:x,overflowWrap:"break-word",whiteSpace:n?"pre-wrap":"pre",textShadow:r?"1.5px 1.5px 3px rgba(0, 0, 0, 0.5)":"none",direction:C,flexShrink:0};return a||Object.assign(E,{lineHeight:"0",marginBlockStart:0,marginBlockEnd:0}),E}(u,h,0,e,i,m,v,n),w=function(t,e,i){if(null==i)return{};var n=t.baseSpanStyle,r=t.firstLineMargin,o=t.leadingMargin,s=t.flowDirection,a=t.justification,l=t.listStyle,c=l.listType,u=l.bulletFont,h=l.size,d=l.color,p=Object.assign({},n,e),f=p.fontFamily,g=p.fontSize,m=p.foregroundColor;return{listStyle:{fontFamily:"bullet"===c?u:f,fontSize:C(h*g/100),color:d||m,minWidth:Math.abs(y(r-o)),display:"inline-block",textIndent:0,textAlign:H[s][a]},listChar:i.bulletChars.map((function(t){return t.content})).join("")}}(u,o.spans[0].style,h),D=w.listStyle,E=w.listChar,P={spans:o.spans,runs:o.runs,type:K(p,!1,u.tagType),children:[],level:s,listInfo:h,style:b,listStyle:D,listChar:E,styleConfig:u};$(P,a,d)})),o},tt=["marginBlockStart","marginBlockEnd","textIndent","paddingTop","paddingBottom","paddingRight","paddingLeft","minWidth","minHeight"],et=function(t,e,i){return"<".concat(t).concat(null!=e.className?' class="'.concat(e.className,'"'):"").concat(null!=e.style?" style='".concat(Object.entries(e.style).reduce((function(t,e){var i=l(e,2),n=i[0],r=i[1];return null!=r&&""!==r&&t.push("".concat(x.kebabCase(n),": ").concat(function(t,e){return 0!==e&&x.isNumber(e)&&tt.includes(t)?"".concat(e,"px"):e}(n,r),";")),t}),[]).join(" "),"'"):"",">").concat(x.isString(i)?i:(i||[]).join(""),"</").concat(t,">")};DS.flagManager.aiCourseTranslation?(n=function(t,e,i,n){var r=e.style,o=e.type,s=e.children;return(0,t.createElement)(o,{style:r,key:i},(0,t.renderText)(s,n))},s(h={},L,(function(t,e,i,n){var r=e.type,o=e.children;return(0,t.createElement)(r,{className:"semantic-list",key:i},(0,t.renderText)(o,n))})),s(h,M,(function(t,e,i,n){var r=e.type,o=e.children;return(0,t.createElement)(r,{className:"semantic-list",key:i},(0,t.renderText)(o,n))})),s(h,k,(function(t,e,i,n){var r=t.createElement,o=t.renderText,s=e.parent.type,l=e.style,c=e.type,u=e.children,h=e.listStyle,d=e.listChar;return s===M&&n.normalizeBullets&&(d="•"),r(c,{style:l,key:i},[r("span",{style:h,key:"bullet"},d)].concat(a(o(u,n))))})),s(h,R,(function(t,e,i,n){var r=e.style,o=e.type,s=e.children,a=e.linkId,l=t.createElement,c=t.renderText;return l(o,{className:a,"data-linkid":a,style:r,key:i,href:"#".concat(a),tabIndex:n.isLinkTabbable()?"0":"-1",onClick:null!=n.handleKeyboardClick?function(t){return n.handleKeyboardClick(t,a)}:null,onMouseOver:function(){return n.onLinkOver(a)},onMouseOut:function(){return n.onLinkOut(a)}},c(s,n))})),s(h,N,(function(t,e,i){var n=e.type;return(0,t.createElement)(n,{key:i})})),s(h,_,(function(t,e,i){var n=e.style,r=e.type,o=e.value;return(0,t.createElement)(r,{style:n,key:i},o)})),s(h,F,(function(t,e,i,n){var r=e.style,o=e.type,s=e.dir,a=e.children;return(0,t.createElement)(o,{style:r,key:i,dir:s},(0,t.renderText)(a,n))})),r=h,c=function(t,i){var o={createElement:e,renderText:c};return t.map((function(t,e){return(r[t.type]||n)(o,t,e,i)}))},u=function(t,e){var i={createElement:et,renderText:u};return t.map((function(t,o){return(r[t.type]||n)(i,t,o,e)}))},DS.renderHtmlString=function(t){var e=J(t,!0,!1,!0);return u(e.children)}):(n=function(t,i,n){var r=t.style,o=t.type,s=t.children;return e(o,{style:r,key:i},c(s,n))},s(d={},L,(function(t,i,n){var r=t.type,o=t.children;return e(r,{className:"semantic-list",key:i},c(o,n))})),s(d,M,(function(t,i,n){var r=t.type,o=t.children;return e(r,{className:"semantic-list",key:i},c(o,n))})),s(d,k,(function(t,i,n){var r=t.parent.type,o=t.style,s=t.type,l=t.children,u=t.listStyle,h=t.listChar;return r===M&&n.normalizeBullets&&(h="•"),e(s,{style:o,key:i},[e("span",{style:u,key:"bullet"},h)].concat(a(c(l,n))))})),s(d,R,(function(t,i,n){var r=t.style,o=t.type,s=t.children,a=t.linkId;return e(o,{className:a,"data-linkid":a,style:r,key:i,href:"#".concat(a),tabIndex:n.isLinkTabbable()?"0":"-1",onClick:null!=n.handleKeyboardClick?function(t){return n.handleKeyboardClick(t,a)}:null,onMouseOver:function(){return n.onLinkOver(a)},onMouseOut:function(){return n.onLinkOut(a)}},c(s,n))})),s(d,N,(function(t,i){var n=t.type;return e(n,{key:i})})),s(d,_,(function(t,i){var n=t.style,r=t.type,o=t.value;return e(r,{style:n,key:i},o)})),s(d,F,(function(t,i,n){var r=t.style,o=t.type,s=t.dir,a=t.children;return e(o,{style:r,key:i,dir:s},c(a,n))})),r=d,c=function(t,e){return t.map((function(t,i){return(r[t.type]||n)(t,i,e)}))});return{parseBlocks:J,parseVariables:function(t){if(null==t)return{listenToVarChanges:function(){return x.noop},updateVarText:function(){return{}}};var e=t.blocks.reduce((function(t,e){if(0===e.runs.length)return t;var i=e.spans.reduce((function(t,e){return f(e.text).forEach((function(i){var n=g(i),r=n.addListeners,s=n.updateString,l=n.hasVars;t.addListeners.push(r),t.updateString.push((function(){var t=s.apply(void 0,a(o));return l?m(t,e.style):[x.extend({},e,{text:t})]}))})),t}),{addListeners:[],updateString:[]});return t.addListeners=t.addListeners.concat(i.addListeners),t.updateString.push((function(){return x.extend({},e,{spans:x.flatten(P(i.updateString).apply(void 0,a(o)))},{runs:X(e.runs)})})),t}),{addListeners:[],updateString:[]});return{listenToVarChanges:function(){var t=P(e.addListeners).apply(void 0,arguments);return P(t)},updateVarText:function(){return x.extend({},t,{blocks:P(e.updateString).apply(void 0,arguments)})}}},renderSemanticText:c,updateBlockRuns:X}}.call(e,i,e,t),void 0===n||(t.exports=n)},23:function(t,e,i){var n;void 0===(n=function(t){"use strict";DS._;var e=DS.TransMatrix,i=(DS.utils,function(t,e){var i,n,r,o=t.state,s=o.rotateXPos,a=o.rotateYPos,l=null!=t.decorators&&t.decorators.rotatable;return null!=t.tweenedConfig&&null!=t.tweenedConfig.props&&(o=t.tweenedConfig.props),t.dragging?(i=(r=t.decorators.draggable.getDraggingPosition()).x,n=r.y):(i=o.RawXPos,n=o.RawYPos),e.translate(i,n),100!==o.ScaleX&&100!==o.ScaleY&&e.scale(o.ScaleX/100,o.ScaleY/100,s,a),0!==o.Rotation&&e.rotate(o.Rotation,s,a),l&&l.lastSetRotation&&e.rotate(l.lastSetRotation,l.rotateXPos,l.rotateYPos),e}),n=function(t,n,r){for(var o,s,a,l,c,u=[],h=t,d=null!=r?r.copy():new e;h!==n;)h.props.isInnard||u.push(h),h=null!=(l=h.reparentedContainer)?(c=l.props.model).isSlideLayer||c.isSlide?void 0:l:h.props.parent;for(o=u.length-1;o>=0;o--){if(h=u[o],d=i(h,d),(a=h.props.model).isKind("expandinglabel"))if(o>0){var p=DS.flagManager.dropInMisc&&!DS.flagManager.dropInCore?h.refs.innard.dropInView.refs.contents:h.refs.innard.refs.contents,f=p.offsetLeft,g=p.offsetTop;d.translate(f/t.props.winScale,g/t.props.winScale)}else d.translate(6,6);a.isKind("scrollarea")&&(d.translate(0,h.props.topOffset||0),o>0&&(s=h.getPlayerProp("Position"))&&d.translate(0,-s))}return d},r={setMatrixDirty:function(t){var e,i;if(t.props.model.setTransformDirty(),null!=t.allRefs)for(e=t.allRefs.length,i=0;i<e;i++)null!=t.allRefs[i].currView?this.setMatrixDirty(t.allRefs[i].currView):t.allRefs[i].setTransformDirty()},getMatrix:function(t){var e=t.props.model;return!1===e.transformDirty?e.currTransform:(e.transformDirty=!1,e.currTransform=n(t))},getRelativeMatrix:function(t,e,i){return n(t,e,i)},localPtToGlobal:function(t,e,i,n){n=n||this.getSlideMetrics(t);var r=t.props.model.isSlideObject?this.localPtToSlide(t,e,i):{x:e,y:i};return{x:n.left+r.x*n.scaleX,y:n.top+r.y*n.scaleY}},globalPtToLocal:function(t,e,i,n){var r=t.props.model;return r.isSlide&&(r=r.getBaseLayer()),r.isSlideLayer?this.globalPtToLayer(r.currView,e,i,n):this.globalPtToSlideObject(t,e,i,n)},globalPtToLayer:function(t,e,i,n){return{x:(e-(n=n||this.getSlideMetrics(t)).left)/n.scaleX,y:(i-n.top)/n.scaleY}},globalRectToSlideObject:function(t,e,i){var n=e.top,r=e.left,o=e.bottom,s=e.right,a=e.width,l=e.height;if(null==t)return[0,0,0,0];i=i||{top:0,left:0,bottom:0,right:0},s=s||r+a,o=o||n+l;var c=this.getSlideMetrics(t),u=this.globalPtToSlideObject(t,r,n,c),h=this.globalPtToSlideObject(t,s,o,c);return[u.x+i.left,u.y+i.top,h.x+i.right,h.y+i.bottom]},globalPtToSlideObject:function(t,e,i,n){var r=t.props.model.getLayer().currView,o=this.globalPtToLayer(r,e,i,n),s=this.getMatrix(t).copy().invert().transformPoint(o.x,o.y);return{x:s.x,y:s.y}},localPtToSlide:function(t,e,i){return this.getMatrix(t).transformPoint(e,i)},parentPtToSlide:function(t,e,i){for(var n,r=t.props.parent;null!=r&&(r.props.isInnard||r.props.model.isKind("shufflegroup"));)r=r.props.parent;return null!=r&&r.el.contains(t.el)?(n=this.getMatrix(r),r.props.model.isKind("scrollarea")&&(n=n.copy()).translate(0,-(r.getPlayerProp("Position")||0)),n.transformPoint(e,i)):{x:e,y:i}},localPtToLocal:function(t,e,i,n){var r=this.localPtToSlide(t,i,n);return this.slidePtToSlideObject(e,r.x,r.y)},slidePtToSlideObject:function(t,e,i){return r.getMatrix(t).copy().invert().transformPoint(e,i)},getSlideMetrics:function(t){var e=function(t){var e=t.props.model;return e.isSlide?e.getBaseLayer().currView:e.isSlideLayer?e.currView:e.getLayer().currView}(t),i=e.el.getBoundingClientRect();return{scaleX:i.width/e.props.width,scaleY:i.height/e.props.height,left:i.left,top:i.top,right:i.right,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top}}};return r}.call(e,i,e,t))||(t.exports=n)},9924:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=DS._,i=DS.utils,n=DS.resolver,o=/(%[^%^\^^\s]+%)/g,s=/\.\$/g,a=/^\$/,l=/%/g,c=/\s+$/g,u=/[\t ]color[\t ]*?=[\t ]*?["'](#[A-F0-9]{3,6})["']/i,h=/(<|<\/)(\w+).*?(\/>|>)/gi,d=1,p=-1,f=0,g=["i","b","font"],m=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}],v=function(t){return e.isNumber(t)?i.fix(t,2):t},S=function(t){return m.reduce((function(t,e){return t.replace(e.find,e.replace)}),t)},y=function(t,i){var r,o,c,u,h,d,p=t.replace(l,""),f=n.resolvePath(p,i,{optional:!0});return f||p.search(s)>-1?(n.isPropRef(p)?(r=function(t){return v(n.resolvePath(p,t))},u=p.split("."),h=e.initial(u).join("."),d=e.last(u).replace(a,""),o=function(t,e){var i=n.resolvePath(h,t).playerProps,r="change:"+d;return i.on(r,e),function(){i.off(r,e)}}):(r=function(){return v(f.value())},c=f,o=function(t,e){return c.on("change",e),function(){c.off("change",e)}}),{builder:r,on:o}):{builder:e.constant(t)}},b={},w=[],x=function(t,i,n){var r={};if("font"===i)if(n===d){var o=t.match(u);null!=o?w.push(o[1]):w.length>0&&w.push(e.last(w))}else w.pop();else b[i]=Math.max(0,(b[i]||0)+n);return b.i&&(r.fontIsItalic=!0),b.b&&(r.fontIsBold=!0),w.length>0&&(r.foregroundColor=e.last(w)),r};return{parseTemplate:function(t,i){if(null==t)return{updateString:e.constant(""),addListeners:e.constant(e.noop)};var n=t.split(o),r=[],s=[],a={};return n.length<=1?{updateString:e.constant(S(t)),addListeners:e.constant(e.noop)}:(n.forEach((function(t,n){var o,l;n%2==1?(l=(o=y(t,i)).on,r.push(o.builder),null!=l&&null==a[t]&&(a[t]=!0,s.push(l))):e.isEmpty(t)||r.push(e.constant(S(t)))})),{hasVars:!0,updateString:function(t){return e=r.map((function(e){return e(t)})).join(""),(i=e.split("\n")).map((function(t,e){return e<i.length-1?t.replace(c,"")+"\r":t})).join("");var e,i},addListeners:function(t,e){var i=s.map((function(i){return i(t,e)}));return function(){i.forEach((function(t){t()}))}}})},splitTemplateOnTokens:function(t){if(null==t)return[t];var i=t.split(o);return i.length<=1?[t]:e.compact(i)},splitFormatted:function(t,i){var n,o=0,s=[],a=i;for(b={},w=[];n=h.exec(t);){var l=r(n,4),c=l[0],u=l[1],m=l[2],v=l[3],S=n.index,y="</"===u?p:"/>"===v?f:d,D=t.substring(o,S);"br"===(m=m.toLowerCase())&&y!==p&&(D="".concat(D,"\r")),D.length>0&&s.push({text:D,style:a}),y&&g.includes(m)&&(a=e.extend({},i,x(c,m,y))),o=S+c.length}return o<t.length?s.push({text:t.substring(o),style:a}):0===t.length&&s.push({text:"",style:a}),s}}}.call(e,i,e,t))||(t.exports=n)},2622:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(8983);i(2577);var e=i(2290);DS.flagManager.dropInVectors&&(DS.DropIn,e=DS.DropInDOM);var n,r,o,s,a,l=DS._,c=DS.utils,u=DS.errorManager,h=DS.svgUtils,d=DS.constants,p=DS.TransMatrix,f=u.warn("Adornable"),g=u.throwError("Adornable"),m=u.backtick,v=(n=/c|s|q|t|a/i,function(t){return n.test(t.getAttribute("d"))}),S=l.partialRight(l.pick,"x","y"),y=function(t,e){return l.extend(t.createSVGPoint(),e)},b=function(t,e){return e.matrixTransform(t)},w=function(t,e){var i=l.partial(b,t),n=e.map(i),r=l.maxBy(n,"y"),o=n.filter((function(t){return t.y===r.y})),s=l.minBy(o,"x"),a=l.maxBy(o,"x"),c=(s.x+a.x)/2,u=s.y,h=l.indexOf(n,s),d=l.indexOf(n,a),p=e[h],f=e[d];return{transformed:{x:c,y:u},original:{x:(p.x+f.x)/2,y:(p.y+f.y)/2}}},x=(r=function(t){return 5*t},function(t,e){e.getTotalLength();var i=e.getPointAtLength.bind(e),n=Math.ceil(e.getTotalLength()/5)+1,o=l.range(n).map(r).map(i);return w(t,o)}),D=function(t,e){var i=e.pathSegList,n=i.getItem.bind(i),r=l.range(i.numberOfItems).map(n),o=l(r).map(S).filter(c.not(l.isEmpty)).map(l.partial(y,e.ownerSVGElement)).value();return w(t,o)},C=(o=function(t,e){return(v(e)?x:D)(t,e)},s=function(t){return t.transformed.y},function(t,e){var i=l(e).map(l.partial(o,t)).maxBy(s).original;return S(i)}),E=function(t){return h.isUseNode(t)?(i=(e=t).getAttributeNS(d.XMLNS_XLINK,"href"),e.ownerSVGElement.querySelector(i)):t;var e,i},P=(a=/#([^\)\s'"]*)/,function(t){var e=a.exec(t);return null==e?null:e[1]}),T={"perspective-shadow":{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateShadowToOriginalAngle","rotateShadowAboutPlane","adjustScaleTranslation","adjustSkewTranslationX","adjustSkewTranslationY"]},reflection:{calculationMethod:"calculateLowestRotatedPoint",rotationMethods:["rotateReflection","adjustScaleTranslation"]},"drop-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateDropShadow"]},"inner-shadow":{calculationMethod:"calculateMidPoint",rotationMethods:["rotateInnerDropShadow"]}},I={initAdornment:function(){this.rotateAboutPoint().applyTransform().rotateGradient()},adornSvg:function(){var t=l.values(l.pickBy(this.refs,(function(t,e){return 0===e.indexOf("adornable")})));t.length&&t.forEach(function(t){this.setAsAdornable(e.findDOMNode(t),this.props.model.get("rotation"))}.bind(this))},setAsAdornable:function(t,e){this.adornType=t.getAttribute("data-adornment-type"),this.adornedNode=t,this.adornRotation=e,this.parentSvg=t.ownerSVGElement,this.adornMatrix=this.parentSvg.createSVGMatrix().rotate(this.adornRotation),this.adornTransformConfig=JSON.parse(t.getAttribute("data-transform"))||[],this.adornRotationPoint=null,this.adornConfig=T[this.adornType]||{},this.initAdornment()},gradientRotationOffset:function(t){return(this.adornRotationOffset||(this.adornRotationOffset=t.getAttribute("gradientTransform").replace(/rotate|\)|\(/g,"").replace(/,/g," ").split(/\s+/))).concat()},rotateGradient:function(){var t,e=this.parentSvg.querySelector("[data-rotation-offset]");return e&&((t=this.gradientRotationOffset(e))[0]=-this.adornRotation+parseFloat(t[0]),e.setAttribute("gradientTransform",["rotate(",t.join(","),")"].join(""))),this},getDataAsFloat:function(t){return parseFloat(this.adornedNode.getAttribute("data-"+t))},teardown:function(){this.parentSvg=null,this.adornedNode=null,this.adornMatrix=null},rotateAboutPoint:function(){return this.calculateRotationPoint().applyRotation(),this},calculateRotationPoint:function(){return this.adornRotationPoint=this[this.adornConfig.calculationMethod](),this},calculateMidPoint:function(){return{x:this.getDataAsFloat("width")/2,y:this.getDataAsFloat("height")/2}},calculateLowestRotatedPoint:function(){var t,e=(t=this.adornedNode,t=E(t),h.isPathNode(t)?[t]:l.toArray(t.querySelectorAll("path")));if(!l.isEmpty(e))return C(this.adornMatrix,e);f("calculateLowestRotatedPoint","no `path` nodes found for calculation")},applyRotation:function(){if(!this.adornRotationPoint)return this;var t=this.adornConfig.rotationMethods;return t||g("applyRotation","adornment of",m(this.adornType),"not supported"),t.forEach(function(t){this[t]()}.bind(this)),this},addRotation:function(t,e){return this.adornTransformConfig[t](this.buildRotation(e)),this},buildRotation:function(t){return h.buildRotateConfig(this.adornRotation*t,this.adornRotationPoint.x,this.adornRotationPoint.y)},getTransformRelativeToOther:function(t,e){var i=l.indexOf(this.adornTransformConfig,e);return this.adornTransformConfig[i+t]},adjustScaleTranslation:function(){var t=this.adornRotationPoint,e=h.getFirstScale(this.adornTransformConfig),i=this.getTransformRelativeToOther(-1,e),n=c.invertPercent(e.args[0]),r=c.invertPercent(e.args[1]);return i.args[0]=t.x*n,i.args[1]=t.y*r,this},adjustSkewTranslation:function(t){var e=this.adornRotationPoint,i="x"===t,n=i?"y":"x",r=h.getFirstTransformOfType("skew"+t.toUpperCase(),this.adornTransformConfig),o=this.getTransformRelativeToOther(1,r),s=r.args[0],a=c.degToRad(s);return o.args[i?0:1]=-e[n]*Math.tan(a),this},applyTransform:function(){var t=this.adornTransformConfig.map(h.buildTransformFromConfigFn).join(" ");return this.adornedNode.setAttribute("transform",t),this},calculateRotationOffset:function(){for(var t=this.getDataAsFloat("distance"),e=this.getDataAsFloat("angle"),i=-c.degToRad(this.adornRotation-e),n=this.getDataAsFloat("scale"),r=new p,o=this.props.model.parent;null!=o&&o.isSlideObject;)r.rotate(-o.prop("Rotation"),0,0),o=o.parent;return t/=n,r.transformPoint(t*Math.cos(i),t*Math.sin(i))},rotateDropShadow:function(){var t=this.calculateRotationOffset();this.adornTransformConfig.push(h.buildTranslateConfig(t.x,t.y))},rotateInnerDropShadow:function(){var t=document.getElementById(P(this.adornedNode.getAttribute("filter"))).getElementsByTagName("feOffset")[0],e=this.calculateRotationOffset();t.setAttribute("dx",e.x),t.setAttribute("dy",e.y)},rotateReflection:function(){this.addRotation("unshift",-1);var t=h.getFirstTranslate(this.adornTransformConfig),e=l.indexOf(this.adornTransformConfig,t);this.adornTransformConfig.splice(e+1,0,this.buildRotation(-1))}};return I.rotateShadowToOriginalAngle=l.partial(I.addRotation,"unshift",-1),I.rotateShadowAboutPlane=l.partial(I.addRotation,"push",1),I.adjustSkewTranslationX=l.partial(I.adjustSkewTranslation,"x"),I.adjustSkewTranslationY=l.partial(I.adjustSkewTranslation,"y"),I}.call(e,i,e,t))||(t.exports=n)},9526:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(2577),r=i(2290),o=i(803),s=DS._,a=DS.Backbone,l=DS.subscribable,c=DS.shortEventable,u=DS.errorManager,h=DS.utils,d=DS.vow,p=DS.detection,f=u.backtick,g=u.throwError("baseView"),m="Must specify a "+f("displayName"),v=function(t){return s.values(t.refs)},S=function(t){return null!=t.currView};function y(t,i){var n={mixins:[a.Events,l,c,o],getInitialState:function(){return{isVisible:null==this.initialVisibility||this.initialVisibility}},componentWillMount:function(){this.displayName=this.constructor.displayName,this.displayName||g("baseView",m),this.template||(this.template=e.getTemplate(this.displayName)),this.cssTransform="transform",this.cssTransformOrigin="transformOrigin",this.cssTransitionDuration="transitionDuration",this.cssTransitionProperty="transitionProperty",this.cssTransitionTimingFunc="transitionTimingFunction"},componentDidMount:function(e){e||(t.isDropIn?this.el=this.el||i.findDOMNode(this):this.el=i.findDOMNode(this),null==this.props.model||this.props.isInnard||(this.props.model.currView=this))},componentWillUnmount:function(){this.stopListening(),null==this.props.model||this.props.isInnard||DS.flagManager.dropInCore||(this.props.model.currView=null)},shouldComponentUpdate:function(t,e){return(!h.shallowEqual(this.props,t)||!h.shallowEqual(this.state,e))&&(!this.shouldUpdate||this.shouldUpdate(t,e))},htmlReady:function(t){window.requestAnimationFrame(t)},afterHtmlReady:function(t){this.htmlReady(function(){this.htmlReady(t)}.bind(this))},onShown:function(t){for(var e,i=this.props.model,n=[];null!=i;)null!=i.currView&&i.currView.isVisible()||(e=d.Deferred(),i.once("shown",e.resolve),n.push(e.promise())),i=i.getClosestAncestor(S);d.after.apply(d,n).then(s.partial(this.htmlReady,t))},find:function(t){return this.el.querySelector(t)},findAll:function(t){return s.toArray(this.el.querySelectorAll(t))},findAllComponents:function(t){if(DS.flagManager.dropInVectors&&this.isDropIn)return DS.DropIn.findAllComponents(this.el,t);for(var e=0,i=v(this);e<i.length;)i.push.apply(i,v(i[e])),e++;return s.filter(i,{displayName:t})},findComponent:function(t){if(DS.flagManager.dropInCore&&this.isDropIn)return DS.DropIn.findComponent(this.el,t);if(DS.flagManager.dropInVectors&&this.isDropIn)return DS.DropIn.findComponent(this.el,name);for(var e,i=0,n=s.isString(t),r=v(this);(e=r[i])&&i<r.length;){if(n&&e.displayName===t||!n&&e===t)return e;r.push.apply(r,v(e)),i++}},render:function(){return this.template()},displayClass:function(){return this.isVisible()?"shown":"hidden"},toggleVisibility:function(t){return t=null==t?!this.isVisible():t,this.setState({isVisible:t}),this},isVisible:function(){var t=null!=this.getPlayerProp?this.state:this.props.playerProps;return null!=this.props.model&&null!=this.props.model.isSlideObject?!!this.props.model.isKind("shufflegroup")||t.OnStage&&!t.HiddenByLayer:this.state.isVisible},isEnabled:function(){if(this.enabledHook)return this.enabledHook();var t=this.props.model.getClosestParentRef();return null!=t&&t.isStateGroupSlideObject?t.isEnabled():this.getPlayerProp&&!0===this.getPlayerProp("Enabled")},getPath:function(t,e){return h.getPath(this,t,e)},setTemplateManager:function(t){e=t},getTemplateManager:function(){return e},hex:function(t){return h.hexify(t)},quotify:function(t){return h.quote(t)},previewMouseEvent:function(t){return p.env.isMobilePreview?t:null},setLayerScroll:function(){s.isFunction(this.getLayer)&&(this.getLayer().scrollTop=0)}};return n.show=s.partial(n.toggleVisibility,!0),n.hide=s.partial(n.toggleVisibility,!1),n}var b=y(n,r);return b.dropIn=y(DS.DropIn,DS.DropInDOM),b}.call(e,i,e,t))||(t.exports=n)},7697:function(t,e,i){var n;n=function(t){"use strict";var e=i(7730),n=i(6950),r=i(8358),o=i(9792),s=i(8701),a=DS._,l={createDecorator:function(t){return new t(this)},callLifeCycleEvent:function(t){for(var e=arguments.length,i=new Array(e),n=0;n<e;++n)i[n]=arguments[n];a.forOwn(this.decorators,(function(e){e[t]&&e[t].apply(e,i.slice(1))}))},componentWillMount:function(){this.decorators={},this.createDecorators(),this.callLifeCycleEvent("componentWillMount")},componentDidMount:function(){this.callLifeCycleEvent("componentDidMount")},componentWillUnmount:function(){this.callLifeCycleEvent("componentWillUnmount")},componentWillReceiveProps:function(t){this.callLifeCycleEvent("componentWillReceiveProps",t)},componentWillUpdate:function(t,e){this.callLifeCycleEvent("componentWillUpdate",t,e)},componentDidUpdate:function(t,e){this.callLifeCycleEvent("componentDidUpdate",t,e)},createDecorators:function(){var t=this.props.model;t.isDraggable()&&!this.hasDraggableAncestor()&&(this.decorators.draggable=this.createDecorator(e)),t.isDroppable()&&(this.decorators.droppable=this.createDecorator(n)),t.isTweenable()&&(this.decorators.tweenable=this.createDecorator(r)),t.isSlideable()&&(this.decorators.slideable=this.createDecorator(o)),t.isRotatable()&&(this.decorators.rotatable=this.createDecorator(s))},hasDraggableAncestor:function(){for(var t=this;t=t.props.parent;)if(t.props.model.isDraggable())return!0;return!1}};return l}.call(e,i,e,t),void 0===n||(t.exports=n)},4455:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7133),n=DS._;return{componentWillMount:function(){this.offs=[]},registerEvent:function(t,i,n){n=n||this.el,this.offs.push(e[t](n,i,this))},componentWillUnmount:function(){n(this.offs).flatten().invokeMap("teardown").commit(),this.offs=[]}}}.call(e,i,e,t))||(t.exports=n)},5555:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(3986),n=DS,r=n.constants,o=n.pinchZoomController,s=n.pubSub,a=n.events,l=n.slideObjectUtils,c=n.detection,u=n.globalEventHelper,h=u.addWindowListener,d=u.removeWindowListener;return Object.assign({},o,{shouldPinchZoom:function(){return l.isMobileSlide(this)&&null==this.props.slideFrame},notifyZoomUpdate:function(){this.trigger("pinchzoom",this.getZoomEl().getBoundingClientRect()),s.trigger(a.slide.ZOOMED,this.pinch)},zoomScaleUpdate:function(){this.props.model.pinchZoomScale=this.pinch.scale},getContainerBounds:function(){return this.props.slideContainer.el.getBoundingClientRect()},threeSixtyImageTabletZoom:function(){null!=this.getZoomEl().querySelector(".three-sixty-image")&&c.device.isTablet&&(this.threeSixtyImageRestrictedZoom=1.5)},isLightboxed:function(){return this.pinchZoomSlideContainer.props.lightboxed},initPinch:function(){this.threeSixtyImageTabletZoom(),this.resetPinch()},getZoomEl:function(){return DS.flagManager.dropInAcc?this.el.firstElementChild:this.el},initPinchZoom:function(t){this.shouldPinchZoom()&&(this.pinchZoomSlideContainer=t||this.props.slideContainer,this.initZoomTarget(this.getZoomEl().parentNode),this.isInLightbox&&h("resize",this.onOrientationChange,null,"after"))},onOrientationChange:function(){this.initPinch(),this.pinch.currMatrix=new TransMatrix,this.startTransition(0)},collectPlayerMetrics:function(){var t=e.getPreso().getBoundingClientRect(),i=t.width,n=t.height,o=0,s=0;if(c.deviceView.isMobile)if(c.theme.isClassic)orientation.isPortrait?n-=r.MOBILE_UI_SIZE:i-=r.MOBILE_UI_SIZE;else{var a=this.props.slideContainer.props.getPinchZoomBounds();o=a.x,s=a.y,i=a.width,n=a.height}return{availableWidth:i,availableHeight:n,uiOffsetX:o,uiOffsetY:s}},constrainToScreen:function(t){var e,i,n,r,o=this.pinchZoomSlideContainer.el.getBoundingClientRect(),s=o.left,a=o.top,l=this.getZoomEl().getBoundingClientRect(),c=!1,u=this.collectPlayerMetrics(),h=u.availableWidth,d=u.availableHeight,p=u.uiOffsetX,f=u.uiOffsetY;n=h-(e=Math.max((h-l.width)/2,0))+p,r=d-(i=Math.max((d-l.height)/2,0))+f,e+=p,i+=f,l.left>e?(c=!0,this.pinch.currMatrix.tx=e-s):l.right<n&&(c=!0,this.pinch.currMatrix.tx=n-l.width-s),l.top>i?(c=!0,this.pinch.currMatrix.ty=i-a):l.bottom<r&&(c=!0,this.pinch.currMatrix.ty=r-l.height-a),c&&(null!=t?t():this.startTransition(400))},killPinchZoom:function(){this.shouldPinchZoom()&&(this.destroyPinchZoom(),d("resize",this.onOrientationChange))},componentWillUnmount:function(){this.killPinchZoom()}})}.call(e,i,e,t))||(t.exports=n)},2817:function(t,e,i){var n;void 0===(n=function(t){"use strict";DS._,DS.constants.PLAYER_PROPS_KEYPATH;return{getInitialState:function(){return this.constructProps(),this.playerPropsModel.toJSON()},constructProps:function(){var t=this.props.model;return this.playerPropsModel={},t&&t.createPlayerProps&&(this.playerPropsModel=t.playerProps||t.createPlayerProps(),this.listenTo(this.playerPropsModel,"change",this.onUpdatePlayerProps)),this},onUpdatePlayerProps:function(){this.isMounted()&&this.setState(this.playerPropsModel.toJSON())},getPlayerProp:function(t){return this.state[t]},setPlayerProp:function(t,e){return this.props.model.prop(t,e)}}}.call(e,i,e,t))||(t.exports=n)},803:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.stringTabler,n=DS.pubSub,r=DS.events;return{getInitialState:function(){return this.getStringTitles()},componentWillMount:function(){var t=this;if(DS.flagManager.multiLangSupport){if(null!=this.stringTitles){var i=function(){t.setState(t.getStringTitles())};this.removeStringableListeners=e.flow(n.addListener(r.frame.MODEL_READY,i),n.addListener(r.strings.UPDATE_STRINGS,i))}}else n.on(r.strings.UPDATE_STRINGS,(function(){this.setState(this.getStringTitles())}),this)},componentWillUnmount:function(){DS.flagManager.multiLangSupport?null!=this.removeStringableListeners&&this.removeStringableListeners():n.off(r.strings.UPDATE_STRINGS,null,this)},getStringTitles:function(){return null==this.stringTitles?{}:e.transform(this.stringTitles,(function(t,e,n){return t[function(t){return["i18n",t].join("")}(n)]=function(t){var e=i.getString(t);return null!=e?e:t}(e),t}),{})}}}.call(e,i,e,t))||(t.exports=n)},3558:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n,r=i(8359),o=DS._,s=DS.windowManager,a=DS.constants,l=DS.events,c=DS.detection,u=DS.dom,h=DS.utils,d=DS.svgUtils,p=DS.pubSub,f=DS.TweenLite,g=DS.TimelineLite,m=DS.slideObjectUtils,v=DS.globalEventHelper,S=v.addWindowListener,y=v.removeWindowListener;p.on(l.frameModel.LAYOUT_CHANGED,(function(t){e=t.swipeleft,n=t.swiperight}));var b=.25,w=a.math.QUARTER_PI,x=a.math.THREE_QUARTER_PI,D={4:"onprevslide",2:"onnextslide"},C=!1;p.once(l.player.MENU_OPTIONS,(function(t){t.get("flow")}));var E=function(t){return m.isMobileSlide(t)&&null==t.props.slideFrame&&!t.props.slideContainer.props.lightboxed},P=function(){var t=C;return C=!1,t};return{DIRECTION_UP:1,DIRECTION_RIGHT:2,DIRECTION_DOWN:3,DIRECTION_LEFT:4,componentWillMount:function(){p.on(l.swipe.CHANGED,this.onSwipeChanged),this.swipe={swiping:!1,wasSwiped:P,swipeBehavior:E}},componentDidMount:function(){var t=this.getSwipeEl();this.swipe.swipeBehavior(this)&&(c.deviceView.isUnifiedMobile&&(b=.15),this.hasPrevNextActions().getWidthHeight().calcCancelTolerance().getNextEl(),t.addEventListener("touchstart",this.onSwipeableTouchStart,!0),t.addEventListener("touchmove",this.onSwipeableTouchMove),t.addEventListener("touchend",this.onSwipeableTouchEnd),S("popstate",this.onPopState),p.on(l.frameModel.LAYOUT_CHANGED,this.hasPrevNextActions))},componentDidUpdate:function(){this.getWidthHeight().calcCancelTolerance()},componentWillUnmount:function(){var t=this.getSwipeEl();p.off(l.swipe.CHANGED,this.onSwipeChanged),this.swipe.swipeBehavior(this)&&(t.removeEventListener("touchstart",this.onSwipeableTouchStart),t.removeEventListener("touchmove",this.onSwipeableTouchMove),t.removeEventListener("touchend",this.onSwipeableTouchEnd),y("popstate",this.onPopState),p.off(l.frameModel.LAYOUT_CHANGED,this.hasPrevNextActions))},onSwipeChanged:function(t){"swipeleft"===t.name?this.swipe.canSwipeLeft=t.enable&&e:this.swipe.canSwipeRight=t.enable&&n},getWidthHeight:function(){return this.swipe.width=this.props.model.get("width")*this.props.winScale,this.swipe.height=this.props.model.get("height")*this.props.winScale,this},getNextEl:function(){var t=this;if(DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc&&null==this.getSwipeEl().parentNode)return requestAnimationFrame((function(){return t.getNextEl()})),this;var e=this.getSwipeEl().parentNode.parentNode;return null!=e&&(this.swipe.nextEl=e.querySelector(".swipe-transition-container")),this},onSwipeableTouchStart:function(t){var e,i=this.swipe;if(t.touches.length>1||this.pinch.disableSwipe)this.exitTouch=!0;else{var n,r=m.isThreeSixtyImageRelated(t.target);if((c.deviceView.isUnifiedMobile||r)&&(n=this.getSwipeEl().getBoundingClientRect()),c.deviceView.isUnifiedMobile&&(this.swipe.slideLeft=n.left),this.swipe.preventSwiping=!1,m.isThreeSixtyImageRelated(t.target)){if(!(t.touches[0].clientX<n.left+15||t.touches[0].clientX>n.right-15))return this.swipe.preventSwiping=!0,void p.trigger(l.slide.PREVENT_SWIPE);p.trigger(l.slide.ALLOW_SWIPE)}this.shouldSwipe(t.target)&&1===t.touches.length&&(e=t.touches[0],i.startX=e.pageX,i.startY=e.pageY,i.startTime=(new Date).getTime(),i.duration=null,i.cancelled=!1,i.willJump=!1)}},onSwipeableTouchMove:function(t){var e,i=this.swipe,n=i.direction;t.touches.length>1||this.pinch.disableSwipe?this.exitTouch=!0:this.swipe.preventSwiping||this.shouldSwipe(t.target)&&1===t.touches.length&&(e=t.touches[0],i.x=e.pageX,i.y=e.pageY,this.swipe.swiping=!0,i.direction=this.getSwipeDirection(),n!==i.direction&&this.determineSwipeActions(),4===i.direction?this.animateSwipe().followDir(!1,4):2===i.direction&&this.animateSwipe().followDir(!1,2))},determineSwipeActions:function(){var t=this.swipe,e=this.props.model.tracePlayerEvent(D[t.direction]),i=s.getCurrentWindow();return o.extend(t,{cancelled:!0,willJump:!0}),e.forEach((function(e){return t.willJump=r.isJumpAction(e)&&("gotoplay"!==e.kind||e.window===i.id||"_current"===e.window),t.cancelled=!t.willJump||"history_prev"===e.kind&&null==i.getPrevSlide(),t.cancelled})),this},onPopState:function(){this.resetSwipe()},calcCancelTolerance:function(){return this.swipe.cancelTolerance=this.swipe.width/2,this},hasPrevNextActions:function(){return this.swipe.canSwipeLeft=e,this.swipe.canSwipeRight=n,this},getSwipeEl:function(){return DS.flagManager.dropInAcc?this.el.firstElementChild:this.el},resetSwipe:function(){this.getSwipeEl().style[this.cssTransform]="",o.toArray(document.querySelectorAll(".slide-transition-container")).forEach(function(t){t.style[this.cssTransform]=""}.bind(this)),this.onSwipeableTouchEnd(),this.killLoader()},restricted:function(){return this.swipe.cancelled||!this.swipe.canSwipeLeft&&4===this.swipe.direction||!this.swipe.canSwipeRight&&2===this.swipe.direction},forceShowNextLoader:function(){this.swipe.rampShow=!0,this.showNextLoader()},showNextLoader:function(t,e){var i;e&&!this.swipe.rampTimeout&&(this.swipe.rampTimeout=setTimeout(function(){this.swipe.rampShow=!0,this.swipe.rampTimeout=null}.bind(this),300)),(i={visibility:"visible",display:"block",backgroundColor:"transparent",opacity:this.restricted()||!this.swipe.rampShow?0:1})[this.cssTransform]=t,this.props.slideContainer.setLoaderStyle(i)},getPadding:function(){var t=this.props.model.parentTransform;return Math.max(2*t.xOff,40)},followDir:function(t,e){var i,n,r,o=this.props.model.parentTransform,s=this.swipe.width+this.getPadding(),a=4===e?-s:s;t&&(i=this.getSwipeEl().getBoundingClientRect(),this.swipe.currX=i.left-o.xOff,c.deviceView.isUnifiedMobile&&(this.swipe.currX-=this.swipe.slideLeft-o.xOff)),this.swipe.nextEl&&(this.swipe.lastDir=e,r=this.swipe.currX+a,n=d.transformTranslate(h.pxify(r),h.pxify(0)),this.restricted()||(u.setStyles(this.swipe.nextEl,{width:h.pxify(this.swipe.width),height:h.pxify(this.swipe.height)}),this.swipe.nextEl.style[this.cssTransform]=n,this.swipe.nextEl.style.background=c.deviceView.isUnifiedMobile?window.globals.bgColor:"#212121"),this.showNextLoader(n,Math.abs(r)<this.swipe.width/2))},onSwipeableTouchEnd:function(){var t,e,i=this.swipe,n=i.direction;i.duration=(new Date).getTime()-i.startTime,this.exitTouch?this.exitTouch=!1:this.swipe.preventSwiping||(this.swipe.cancelled||!this.swipe.canSwipeLeft&&4===n||!this.swipe.canSwipeRight&&2===n?this.endSwipe(n,!1):i.swiping&&(t=this.getSwipeLength(),(e=this.speedSwipe(t))||t>this.swipe.cancelTolerance?(this.endSwipe(n,!0),e&&this.forceShowNextLoader()):this.endSwipe()))},speedSwipe:function(t){return this.swipe.duration<300&&t>100},doSwipe:function(t){var e={};return e[4]=this.swipe.canSwipeLeft?this.onSwipeLeft:o.noop,e[2]=this.swipe.canSwipeRight?this.onSwipeRight:o.noop,e.hasOwnProperty(t)&&e[t](),this},onSwipeRight:function(){this.props.model.executePlayerEvent(D[2]),C=!0,this.swipe.isNavigating=!0},onSwipeLeft:function(){this.props.model.executePlayerEvent(D[4]),C=!0,this.swipe.isNavigating=!0},shouldSwipe:function(t){if(DS.connection.useConnectionMessages&&DS.connection.warningShown)return!1;var e=this.props.model.pinchZoomScale,i=null!=e&&1!==e;return!(m.isScrollRelated(t)||m.isDraggableRelated(t)||m.isRotatableRelated(t)||m.isSlideableRelated(t)||i)},endSwipe:function(t,e){this.swipe.swiping=!1,this.swipe.direction=null,this.animateSwipeEnd(t,e)},getSwipeLength:function(){var t=this.swipe;return h.dist(t.startX,t.startY,t.x,t.y)*this.props.model.calculateTotalScale()},getSwipeDirection:function(){var t=this.swipe,e=Math.atan2(t.startY-t.y,t.startX-t.x);return Math.abs(e)<=w?2:e>w&&e<=x?1:e<-w&&e>=-x?3:4},animateSwipe:function(t){var e=this.getSwipeEl(),i=this.swipe,n=i.startX-i.x,r=n<0?-1:1,o=t||-Math.abs(n)*r;return this.restricted()&&(i.willJump?o*=.1:o*=.5*gsap.parseEase("power2.out")(Math.abs(n)/document.body.clientWidth)),f.set(e,{x:o}),this.swipe.currX=o,this},killLoader:function(){var t={visibility:null,opacity:null,display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)"};t[this.cssTransform]=null,this.props.slideContainer.setLoaderStyle(t)},swipeEndRight:function(){this.followDir(!0,2),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndRight)},swipeEndLeft:function(){this.followDir(!0,4),this.swipe.updateNextSlide=window.requestAnimationFrame(this.swipeEndLeft)},animateSwipeEnd:function(t,e){var i,n,r,o=this.getSwipeEl();e?(r=this.getSuccessSwipeTween(t),n=2===t?this.swipeEndRight:this.swipeEndLeft):(n=2===this.swipe.lastDir?this.swipeEndRight:this.swipeEndLeft,r=this.getFailedSwipeTween(t)),i=h.toMilliseconds(r.duration()),this.swipe.updateNextSlide=window.requestAnimationFrame(n),r.play(),window.clearTimeout(this.swipe.resetTransform),this.swipe.resetTransform=window.setTimeout(function(){o.style[this.cssTransitionDuration]="0s",window.cancelAnimationFrame(this.swipe.updateNextSlide),this.doSwipe(t),e?(this.forceShowNextLoader(),p.once(l.loader.HIDE,function(){o.style[this.cssTransform]="",o.style.opacity=0,this.resetNextEl(),this.killLoader()}.bind(this))):this.resetNextEl()}.bind(this),i+0)},getSuccessSwipeTween:function(t){var e,i=this.swipe.width+this.getPadding(),n=new g;return 2===t?e=-i:4===t&&(e=i),n.add(f.to(this.getSwipeEl(),b,{x:e,ease:"sine.out"})),n},getFailedSwipeTween:function(t){var e,i,n=this.getSwipeEl(),r=this.swipe,o=new g;return!r.willJump&&this.speedSwipe(this.getSwipeLength())?(i=Math.max(.2,h.toSeconds(r.duration)),e=Math.min(Math.abs(r.startX-r.x),r.width*(r.willJump?.1:.5)),o.add(gsap.timeline().to(n,{x:e*(2===t?-1:1),ease:"power2.out",duration:i}).to(n,{x:0,ease:"power2.out",duration:2*i},">"))):o.add(f.to(n,.25,{x:0,ease:"sine.out"})),o},resetNextEl:function(){this.swipe.nextEl&&(this.swipe.nextEl.style[this.cssTransform]="",u.setStyles(this.swipe.nextEl,{width:null,height:null,background:null}))}}}.call(e,i,e,t))||(t.exports=n)},7380:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(5660),n=(DS._,DS.vow),r=(DS.vendorOverrides,DS.AnimationTimeline);return{componentWillMount:function(){this.elDfd=n.Deferred()},componentDidMount:function(){this.elDfd.resolve()},componentWillUnmount:function(){this.cancelTransition()},getElPromise:function(){return this.elDfd.promise()},transitionIn:function(t,i){this.getElPromise().then(function(){this.aniTimeline=new r({tweens:[new e(this,!1,t.getConfig())],onComplete:function(){i(!0),this.cancelTransition()}.bind(this)}),this.aniTimeline.seek(0),this.aniTimeline.play()}.bind(this))},cancelTransition:function(){null!=this.aniTimeline&&(this.aniTimeline.kill(),this.aniTimeline=null)}}}.call(e,i,e,t))||(t.exports=n)},964:function(t,e,i){var n;void 0===(n=function(t){"use strict";i(2577),i(2290);var e=i(5660),n=i(8594),r=DS._,o=(DS.svgUtils,DS.vendorOverrides,DS.events),s=DS.pubSub,a=DS.AnimationTimeline,l=1e3;return{getInitialState:function(){return{transitionDepth:0}},setPrevSlide:function(t){var e=t.props.model;this.prevSlide=t,e.slideLayers().pauseAll(!0)},setTransparent:function(t){this.el.classList[t?"add":"remove"]("transparent")},setTransitioning:function(t){this.el.classList[t?"add":"remove"]("transitioning")},componentDidMount:function(){this.transitionIsComplete=!1,this.completeHook=r.noop,this.setTransparent(!0),this.setTransitioning(!0)},publishTransitionStarted:function(){s.trigger(o.slide.TRANSITION_STARTED,this.state.Id,this.transition.id,this.transition.duration())},transitionIn:function(t,i){var n,r,o,s,c,u=this;if(this.completeHook=t,this.setTransparent(!1),this.transition=this.props.model.getTransitionAnimation(),c=this.transition&&this.transition.get("wipeTrans"),i||null==this.transition||c&&!this.prevSlide)this.transitionComplete();else{var h=!(null===(n=this.transition.getConfig())||void 0===n||null===(r=n.tweens)||void 0===r||null===(o=r[0])||void 0===o||null===(s=o.tweenAttrs)||void 0===s||!s.alpha);DS.flagManager.morphTransition&&h?this.initMorphTransition():(this.publishTransitionStarted(),c&&(this.prevSlide.killPinchZoom(),u=this.prevSlide,this.prevSlide.setState({transitionDepth:++l})),this.transitionTimeline=new a({tweens:[new e(u,!1,this.transition.getConfig(),this.prevSlide)],onComplete:this.onTransitionComplete}),this.transitionTimeline.seek(0),this.transitionTimeline.play())}},initMorphTransition:function(){for(var t,e,i,r=this,o=this.transition.duration(),s=document.querySelectorAll("[data-acc-text]"),a={},c=0;c<s.length;c++){var u=s[c],h=u.dataset.accText;h.length>0&&n.canMorph(u)&&(null==a[h]?a[h]=[u]:a[h].push(u))}n.init(),null!=this.prevSlide&&this.prevSlide.refs.bg.el.animate([{opacity:0}],{duration:o,fill:"forwards"});for(var d=Reflect.ownKeys(a),p=0;p<d.length;p++){var f,g,m,v,S,y,b,w=d[p],x=a[w][0],D=null==a||null===(f=a[w])||void 0===f?void 0:f[1];"objgroup"!==(null==x||null===(g=x.view)||void 0===g||null===(m=g.dv_parent)||void 0===m||null===(v=m.props)||void 0===v||null===(S=v.model)||void 0===S||null===(y=(b=S).kind)||void 0===y?void 0:y.call(b))&&(2===a[w].length&&n.canTransition(x,D)?n.transitionElement(x,D,o):null!=this.prevSlide&&x.view.parentSlide.id!=this.props.model.id&&x.firstElementChild.animate([{opacity:0}],{duration:o,fill:"forwards"}))}this.publishTransitionStarted(),null==this||null===(t=this.prevSlide)||void 0===t||t.killPinchZoom(),null==this||null===(e=this.prevSlide)||void 0===e||null===(i=e.setState)||void 0===i||i.call(e,{transitionDepth:++l}),setTimeout((function(){r.onTransitionComplete()}),o)},seekTransition:function(t){this.transitionTimeline.seek(t,!1)},forceTransition:function(){DS.flagManager.morphTransition&&null==this.transitionTimeline?this.transitionComplete():!this.transitionIsComplete&&this.transition&&(this.transitionTimeline.progress(1,!0),this.transitionTimeline.kill(),this.transitionComplete())},killPrevSlide:function(){this.prevSlide&&(this.prevSlide.killSlide(),this.prevSlide=null)},transitionComplete:function(){null!=this.transitionTimeline&&this.transitionTimeline.kill(),this.transitionIsComplete=!0,this.setTransitioning(!1),this.killPrevSlide(),this.completeHook(),this.props.transitionComplete()},onTransitionComplete:function(){this.transitionComplete()},componentWillUnmount:function(){var t=this.previousHome;null!=t&&t.grandparent.appendChild(t.parent)}}}.call(e,i,e,t))||(t.exports=n)},8958:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(107),n=i(5660),r=i(1270),o=i(507),s=DS._,a=DS.utils,l=(DS.svgUtils,DS.dom),c=DS.AnimationTimeline,u=function(t,e,i){return(i*t-i)/2-e*t};return{getZoomPanEl:function(){return DS.flagManager.dropInAcc?this.el.firstElementChild:this.el},componentWillMount:function(){this.listenTo(this.props.model,"zoompan",this.zoomPan)},buildZoomAnimation:function(t){var e=t.action,i=this.props.model,n=i.get("width"),o=i.get("height"),s=e.duration,l=n/e.lastwidth,c=u(l,e.lastx,n),h=u(l,e.lasty,o),d=n/e.width,p=u(d,e.xPos,n),f=u(d,e.yPos,o);return l=a.decToPct(l),d=a.decToPct(d),new r({wipetrans:!1,duration:s,tweens:[{kind:"tween",time:0,duration:s,scale:{path:[{kind:"segment",startx:l,starty:l,endx:d,endy:d,dsx:0,dsy:0,dex:0,dey:0}],duration:s,easing:"cubic",easingdir:"easein"}},{kind:"tween",time:0,duration:s,position:{path:[{kind:"segment",type:"line",anchora:{x:c,y:h,dx:0,dy:0},anchorb:{x:p,y:f,dx:0,dy:0}}],duration:s,easing:"cubic",easingdir:"easein"}}]})},createAnimationTimeline:function(t){var i=t.action,r=i.staticimageassetid,o=this.buildZoomAnimation(t);return this.lastZoomBackground&&(this.lastZoomBackground.parentElement.removeChild(this.lastZoomBackground),this.lastZoomBackground=null),0===a.getPath(t,"event.time")&&this.getZoomPanEl().classList.add("init-zoomed"),new c({tweens:[new n(this,!1,o.getConfig({isZoomPan:!0}),null)],onComplete:-1===r?s.noop:function(){var t=this.getZoomPanEl().parentNode.querySelector(".zoom-bg-container"),n=this.lastZoomBackground=document.createElement("img");n.src=e.getAssetUrl(r),l.setStyles(n,{position:"absolute",left:a.pxify(i.xPos),top:a.pxify(i.yPos),width:a.pxify(i.width),height:a.pxify(i.height),visibility:"block"}),t.appendChild(n)}.bind(this)})},zoomPan:function(t){this.getZoomPanEl()&&(this.tweenableTimeline&&(this.tweenableTimeline.destroy(!0),this.tweenableTimeline=null),this.tweenableTimeline=new o(this,this.createAnimationTimeline(t),t.event.timelineLabel,!1))},componentWillUnmount:function(){this.tweenableTimeline&&(this.tweenableTimeline.destroy(),this.tweenableTimeline=null)}}}.call(e,i,e,t))||(t.exports=n)},2682:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(2577),n=i(9526),o=DS,s=o._,a=o.utils,l=o.globalEventHelper.addDocumentListener,c=o.constants;DS.flagManager.dropInVectors&&(e=DS.DropIn);var u=e.createClass({displayName:"AccessibleScrollBar",mixins:[DS.flagManager.dropInVectors?n.dropIn:n],componentDidMount:function(){this.mounted=!0,this.hScroll=this.props.hScroll,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.scrollingArea.addEventListener("scroll",this.onScroll),this.hasInited=!0,this.update()},componentDidUpdate:function(){DS.detection.env.isPerpetual||this.el.style.setProperty("--scroll-scale",1/this.props.winScale)},componentWillUnmount:function(){this.mounted=!1,null!=this.scrollingArea&&this.scrollingArea.removeEventListener("scroll",this.onScroll),this.removeScrollListeners()},getInitialState:function(){return this.removeScrollListeners=function(){},{isHidden:!0,highlight:!1}},onResize:function(){this.update()},onScroll:function(t){this.update(!0,!0)},onScrollBtnDown:function(t){this.startPos=this.getPagePostion(t)-this.getParentPos()-this.state.position,this.removeScrollListeners=s.flow([l("mousemove",this.onDragBtn),l("mouseup",this.onEndScrollDrag),l("touchmove",this.onDragBtn),l("touchend",this.onEndScrollDrag)])},onEndScrollDrag:function(){this.removeScrollListeners()},onDragBtn:function(t){var e=this.getTargetMetrics(),i=e.contentLength,n=e.scrollbarLength,r=i-n,o=n-this.state.btnLength,s=this.getPagePostion(t)-this.getParentPos()-this.startPos,l=a.clamp(0,1,s/o);this.setState({position:l*a.invertPercent(this.state.btnLength/n)*n}),this.scrollingArea[this.hScroll?"scrollLeft":"scrollTop"]=r*l},getPagePostion:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY;return(this.hScroll?n:o)/this.props.winScale},getParentPos:function(){return this.scrollingArea.getBoundingClientRect()[this.getPosAttrib()]/this.props.winScale},getScrollBarStyle:function(){var t={};a.getPath(this.scrollingArea,this.hScroll?"offsetHeight":"offsetWidth",0);return t[this.hScroll?"top":"left"]=a.pxify(0),t},getScrollBtnStyle:function(){var t={};return t[this.hScroll?"width":"height"]=a.pxify(this.state.btnLength),t[this.getPosAttrib()]=a.pxify(this.state.position),t},scrollOnKey:function(t){switch(t.which){case c.keys.DOWN:this.scrollingArea.scrollTop+=10;break;case c.keys.UP:this.scrollingArea.scrollTop-=10;break;case c.keys.PAGE_DOWN:this.scrollingArea.scrollTop+=this.state.btnLength;break;case c.keys.PAGE_UP:this.scrollingArea.scrollTop-=this.state.btnLength;break;case c.keys.HOME:this.scrollingArea.scrollTop=0;break;case c.keys.END:this.scrollingArea.scrollTop=this.scrollingArea.scrollHeight}},update:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.mounted)if(a.getPath(this,"scrollingArea.scrollHeight")<=0)window.requestAnimationFrame((function(){return e.update()}));else{i||this.props.parent.updateScrolling(!1);var n=this.getTargetMetrics(),r=n.contentLength,o=n.scrollbarLength,s=n.currScrollPos,l=Math.abs(r-o)<2;if(!i&&!l){this.props.parent.updateScrolling(!0);var c=this.getTargetMetrics();r=c.contentLength,o=c.scrollbarLength,s=c.currScrollPos}var u=r-o,h=a.clamp(0,1,s/u),d=o/r*o;DS.detection.env.isPerpetual||(d=Math.max(10/this.props.winScale,d)),l?this.setState({isHidden:l}):(this.setState({isHidden:l,position:h*a.invertPercent(d/o)*o,btnLength:d,percent:100*h}),t&&(this.setState({highlight:t}),clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)))}},getPosAttrib:function(){return this.hScroll?"left":"top"},unHighlight:function(){this.mounted&&this.setState({highlight:!1})},getTargetMetrics:function(){var t=this.scrollingArea,e=t.scrollHeight,i=t.scrollWidth,n=t.clientHeight,r=t.clientWidth,o=t.scrollTop,s=t.scrollLeft;return this.hScroll?{contentLength:i,scrollbarLength:r,currScrollPos:s}:{contentLength:e,scrollbarLength:n,currScrollPos:o}}});return u}.call(e,i,e,t),void 0===n||(t.exports=n)},6329:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(3423),o=r.parseBlocks,s=r.parseVariables,a=i(5722),l=DS,c=l.utils,u=c.pxify,h=c.getPath,d=c.hexify,p=l.svgUtils,f=l.localizationManager,g=l.pubSub,m=l.events,v={},S="";DS.flagManager.dropInVectors&&(e=DS.DropIn);var y=e.createClass({displayName:"AccessibleText",mixins:[DS.flagManager.dropInVectors?n.dropIn:n],componentWillMount:function(){var t=this;this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,(function(){return t.setState({textConfig:t.parseText().children})})),DS.flagManager.multiLangSupport&&(this.removeLocalizationListener=g.addListener(m.localization.LANGUAGE_UPDATED,(function(){t.updateTemplate(t.props.model.vartext()),t.setState({currLangCode:f.getCurrentLangCode()})}))),DS.flagManager.aiCourseTranslation&&(this.removeReviewListener=g.addListener(m.localization.REVIEW_STRING_UPDATED,(function(e){t.updateTemplate(t.props.model.vartext()),t.setState({stringRev:e})})))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),null!=this.removeReviewListener&&this.removeReviewListener(),null!=this.removeLocalizationListener&&this.removeLocalizationListener(),null!=this.removeLinkListeners&&this.removeLinkListeners()},componentDidMount:function(){this.updateCssVars(),this.updateLinkListeners()},componentDidUpdate:function(){this.updateCssVars(),this.refs.scrollBar.update(),this.updateLinkListeners()},updateCssVars:function(){var t=this.props.winScale;this.el.style.setProperty("--scroll-padding","".concat(Math.round(6*t),"px")),this.el.style.setProperty("--scroll-pointer-evts",this.props.unclickable?"none":"all")},updateLinkListeners:function(){var t=this;null!=this.removeLinkListeners&&this.removeLinkListeners();var e=this.el.querySelectorAll("[data-linkid]");e.forEach((function(e){e.addEventListener("pointerdown",t.handlePointerDown),e.addEventListener("pointerup",t.handlePointerUp)})),this.removeLinkListeners=function(){e.forEach((function(e){e.removeEventListener("pointerdown",t.handlePointerDown),e.removeEventListener("pointerup",t.handlePointerUp)}))}},getLinkId:function(t){return h(t,"currentTarget.dataset.linkid","")},handlePointerUp:function(t){var e=this;if(this.getLinkId(t)===S)if(DS.detection.device.isDesktop){var i=S;document.addEventListener("click",(function t(){document.removeEventListener("click",t),e.onLinkClicked(i)}))}else this.onLinkClicked(S);S=""},handlePointerDown:function(t){S=this.getLinkId(t)},updateTemplate:function(t){var e=this;this.origTemplate!==t&&(this.origTemplate=t,Object.assign(this,s(t)),null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,(function(){return e.setState({textConfig:e.parseText().children})})),this.setState({textConfig:this.parseText().children,linkStyles:this.getLinkStyles()}))},getInitialState:function(){var t=h(this.props.model,"parent.semanticTextConfig.varMethods");return this.origTemplate=this.props.model.vartext(),null==t&&(t=DS.flagManager.multiLangSupport?s(this.props.model.vartext()):{listenToVarChanges:function(){return _.noop},updateVarText:_.identity}),Object.assign(this,t),DS.flagManager.multiLangSupport?{textConfig:this.parseText().children,linkStyles:this.getLinkStyles(),currLangCode:f.getCurrentLangCode()}:{textConfig:this.parseText().children,linkStyles:this.getLinkStyles()}},updateScrolling:function(t){if(null!=this.refs.textLibContentWrap){var e="calc(100% + 1px)",i="remove";if(t){var n=DS.detection.env.isPerpetual?8:16/this.props.winScale;i="add",e="calc(100% - ".concat(n,"px)")}this.refs.textLibContentWrap.classList[i]("is-scrollable"),this.refs.textLibContentWrap.style.width=e}},onLinkClicked:function(t){v[t]=!0,this.trigger("textHit",t)},onLinkOver:function(t){this.trigger("textOver",t)},onLinkOut:function(t){this.trigger("textOut",t)},isLinkTabbable:function(){return!1},getInnerProps:function(){var t=this.props,e=t.winScale,i=t.rotDeg,n=void 0===i?0:i,r=t.originX,o=void 0===r?0:r,s=t.originY,a=void 0===s?0:s;return{transformOrigin:"0 0",transform:[p.transformScale(e),p.transformTranslate(u(o),u(a)),p.transformRotate(n+"deg")].join(" ")}},getLinkState:function(t){return{highlight:null==t.highlightColor||"highlight"!==t.decoration?"transparent":d(t.highlightColor),textColor:d(t.textColor),decoration:t.decoration}},getLinkStyles:function(){var t=this;return this.props.model.linkdata().map((function(e){return{id:e.get("id"),hoverState:t.getLinkState(e.get("hoverState")),activeState:t.getLinkState(e.get("activeState")),visitedState:t.getLinkState(e.get("visitedState")),pointerEvents:"all"}}))},linkIsVisited:function(t){return null!=v[t]},parseText:function(){DS.flagManager.dropInVectors&&DS.DropIn.semanticTextRenderer(DS.DropIn);var t=o(this.updateVarText(this.origTemplate),!0,this.props.model.textshadow());if(DS.flagManager.dropInVectors&&DS.DropIn.semanticTextRenderer(DS.DropIn.restoreReact()[1]),DS.flagManager.aiCourseTranslation&&DS.detection.env.is360){var e=this.props.model.parent;null!=e&&(e.lastRenderedTextId=this.props.model.get("textLibItemId"),DS.targetModeHelper.registerTarget(e.absoluteId,"textLibItem",e.getSlide().id,e.lastRenderedTextId))}return t}});return DS.flagManager.dropInVectors&&(y.wrapped=a(y)),y}.call(e,i,e,t))||(t.exports=n)},1309:function(t,e,i){var n;n=function(t){"use strict";var e=i(2577),n=i(5505),r=i(2817),o=i(9526),s=i(5114),a=i(7945),l=DS._,c=DS.appState,u=DS.automation,h=DS.constants,d=DS.vow,p=DS.events,f=DS.captionsManager,g=DS.utils;DS.flagManager.dropInCore&&(e=DS.DropIn);var m,v,S=e.createClass({displayName:"AudioPlayer",mixins:[DS.flagManager.dropInCore?o.dropIn:o,r,n],shortEvents:{model:(v={},v[a.MEDIA_SEEK]="onActionSeek",v[a.MEDIA_PLAY]="onActionPlay",v[a.MEDIA_PAUSE]="onActionPause",v[a.MEDIA_TOGGLE]="onActionToggle",v[a.SET_VOLUME]="onActionSetVolume",v),timeline:(m={},m[p.timeline.PLAYING]="onTimelinePlay",m[p.timeline.PAUSED]="onTimelinePause",m[p.timeline.AFTER_SEEK_UPDATE]="onTimelineSeek",m[p.timeline.RESET]="onTimelineReset",m)},getInitialState:function(){return{soundComplete:!1}},componentWillMount:function(){var t=this.props.model.getUrl(),e=s.loadUrl(t,this.getAssetId());this.slideStartedDfd=d.Deferred(),this.setState({audioClip:e}),this.currentTime=0,this.listenTo(this.props.model.getSlide(),"started",this.slideStartedDfd.resolve),u.clockIsOverridden&&this.listenTo(this.props.timeline,p.timeline.TICK,this.onTimelineTick)},componentDidMount:function(){this.presentationVol=h.DEFAULT_VOLUME,this.setVolume(c.currentVolume()),this.currActionStartTime=0,this.listenTo(c,p.volume.CHANGE_CURRENT,this.onVolumeChanged),this.listenTo(this.state.audioClip,p.audioClip.ENDED,this.onEnded),this.listenTo(this.state.audioClip,p.audioClip.TIME_UPDATE,this.onTimeUpdate)},componentWillUpdate:function(t,e){var i=this.state.audioClip,n=[];u.clockIsOverridden||(null!=e.seekFn&&e.seekFn!==this.state.seekFn&&n.push(e.seekFn),e.isPlaying===this.state.isPlaying&&e.soundComplete===this.state.soundComplete||n.push(i[e.isPlaying?"play":"pause"].bind(i)),n.length>0&&this.slideStartedDfd.then(l.partial(l.invokeMap,n,Function.prototype.call)))},componentWillUnmount:function(){var t=this;DS.flagManager.dropInAcc?requestAnimationFrame((function(){t.destroyed=!0,t.pause(),t.slideStartedDfd.reject(),t.state.audioClip.pause().destroy()})):(this.destroyed=!0,this.pause(),this.slideStartedDfd.reject(),this.state.audioClip.pause().destroy())},onEnded:function(){DS.flagManager.dropInAcc&&DS.DropIn.forceBatching();var t=this.state.isPlaying;this.clearCaptions().setState({soundComplete:!0}),this.setPlayerProp({isPlaying:!1,resumeOnTimelinePlay:!1}),t&&this.props.model.executePlayerEvent("onmediacomplete")},ended:function(){return!0===this.state.soundComplete},getAssetId:function(){return this.props.model.get("assetId")},getCurrentTime:function(){return this.currentTime},isVideo:function(){return!1},onTimeUpdate:function(t){this.currentTime=t,this.adjustCaptions()},onVolumeChanged:function(t,e){this.determineAudioVolume(e)},determineAudioVolume:function(t){this.setVolume(t*this.presentationVol)},setTimelineControl:function(t){this.setPlayerProp({isTimelineControlled:!!t.timelineLabel})},getTimelineControl:function(){return this.props.model.prop("isTimelineControlled")},onActionPlay:function(t,e){this.setActionStartTime(e.time),!0===this.state.soundComplete&&(this.setState({soundComplete:!1}),this.seek(this.currActionStartTime)),this.setTimelineControl(e),this.setPlayerProp("resumeOnTimelinePlay",!0),null!=e.context&&"expandinglabel"===e.context.get("kind")&&f.includeMedia(this.getAssetId()),this.play()},onActionPause:function(t,e){this.setActionStartTime(e.time),this.setTimelineControl(e),this.setPlayerProp("resumeOnTimelinePlay",!1),null!=e.context&&"expandinglabel"===e.context.get("kind")&&f.excludeMedia(this.getAssetId()),this.pause()},onActionToggle:function(t,e){this.state.isPlaying?this.onActionPause(t,e):this.onActionPlay(t,e)},onActionSeek:function(t,e){this.setActionStartTime(e.time),this.seek(t.position),this.currentTime=g.toSeconds(e.currentTime),this.clearCaptions()},onActionSetVolume:function(t,e){var i=t.volume/100;this.setActionStartTime(e.time),this.presentationVol=i,this.determineAudioVolume(c.currentVolume())},play:function(){u.clockIsOverridden&&u.onMediaStarted(this.props.model.id),this.setPlayerProp({isPlaying:!0})},pause:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u.clockIsOverridden&&u.onMediaPaused(this.props.model.id),this.setPlayerProp({isPlaying:!1}),this.hasCaptions&&(e?window.requestAnimationFrame((function(){t.destroyed||t.state.isPlaying||t.isMediaVisible(t)||t.clearCaptions()})):this.clearCaptions())},seek:function(t){DS.flagManager.dropInAcc&&DS.DropIn.forceBatching();var e=this.state.audioClip,i={};i.seekFn=l.partial(e.seek.bind(e),g.toSeconds(t)),this.state.soundComplete&&(i.soundComplete=t>=this.getDuration(),DS.flagManager.dropInAcc&&(this.state.soundComplete=i.soundComplete)),this.setState(i)},setVolume:function(t){this.state.audioClip.setVolume(t)},getDuration:function(){return g.getPath(this,"state.audioClip.getDuration",g.toSeconds(this.props.model.getDuration()))},setActionStartTime:function(t){null==t&&this.state.soundComplete&&(t=0),null!=t&&(this.currActionStartTime=t,this.currActionPlayheadRemaining=this.getDuration()-this.currentTime)},calculatePlaybackDifference:function(t){return t-(this.currActionStartTime||0)},onTimelinePlay:function(){this.timelinePlaying=!0,this.props.model.prop("resumeOnTimelinePlay")&&this.play()},onTimelinePause:function(){this.timelinePlaying=!1,this.pause(!0)},onTimelineSeek:function(t){this.getTimelineControl()&&(t=this.calculatePlaybackDifference(t),this.seek(t),!this.timelinePlaying&&this.state.isPlaying&&(this.setPlayerProp("resumeOnTimelinePlay",!0),this.pause()))},onTimelineReset:function(){this.clearCaptions().setState({soundComplete:!1})},onTimelineTick:function(t){this.state.isPlaying&&(g.toSeconds(t*this.props.timeline.duration())>=this.currActionPlayheadRemaining+this.currActionStartTime&&this.props.model.executePlayerEvent("onmediacomplete"))},isMediaVisible:function(){var t=this.props.model.parent.get("isBaseLayer"),e=DS.windowManager.getCurrentWindowSlide().slideLayers().getTopMostLayer(),i=null!=e&&!0===t&&!0===e.get("pauseParent");return this.props.slideVisible&&(this.props.objectVisible||t)&&!i},template:function(){return DS.flagManager.dropInCore?e.createElement("span"):null}});return S}.call(e,i,e,t),void 0===n||(t.exports=n)},4516:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(5722),o=DS.detection,s=(DS.pubSub,DS.events,DS.mobileChromeKiller);DS.flagManager.dropInMisc&&(e=DS.DropIn);var a=e.createClass({displayName:"ButtonSlideObject",mixins:[DS.flagManager.dropInMisc?n.dropIn:n],componentDidMount:function(){if(document.querySelector(".resume-prompt-slide")){var t=o.device.isDesktop?"mousedown":"touchend";this.el.addEventListener(t,(function(){o.deviceView.isMobile&&s.init()}))}},getClassNames:function(){var t=["btn","slide-object-button"];return o.deviceView.isMobile||(this.props.model.getSlide().isMessageSlide()?t.push(["cs-",this.props.model.id.replace(/_/g,"-")].join("")):t.push("cs-button")),t.join(" ")},getAccTextModel:function(){var t=this.getPath("props.model.data.textdata");return{parent:this,width:function(){return t.width},height:function(){return t.height},wordwrap:function(){return t.wordWrap},textshadow:function(){return t.textshadow},vartext:function(){return DS.localizationManager.getStringFromRef(t.vartextL10nRef)},valign:function(){return"center"},linkdata:function(){return[]}}}});return DS.flagManager.dropInMisc&&!DS.flagManager.dropInCore?r(a):a}.call(e,i,e,t))||(t.exports=n)},2183:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(8926),o=i(2817),s=i(7461),a=s.util,l=s.DraggableHelper,c=i(5722),u=DS._,h=DS.windowManager,d=DS.utils,p=(DS.dom,DS.keyManager,1500),f={dropInSettings:{useSpecificSetState:!0},performReview:function(){this.getPath("props.model.reviewdata")&&this.setState({reviewStroke:d.hexify(this.props.model.get("reviewCorrectColor")||"0x008000")})},dropComplete:function(t){var e=d.getPath(t,"props.model.getParentContainer");e&&this.props.model.reparentChild(e),this.setState({backgroundVisible:!1})},getDropSnapX:function(t){return t.prop("RawXPos")},onDragEnd:function(t,e){this.state.dropped||this.unDrop(),e&&e.params.data.setState({hoverStroke:!1})},setSelectedItem:function(){this.setPlayerProp("SelectedItem",1)},unDrop:function(){var t=this.getPlayerProp("ShuffleXPos"),e=this.getPlayerProp("ShuffleYPos");this.moveBackAndEnable(),this.setDragPosition(t,e),this.putBackInParent(),this.setState({backgroundVisible:!0}),this.setPlayerProp("SelectedItem",-1)},dropAndDisable:function(){this.draggableHelper.disable(),this.setPlayerProp("Enabled",!1),this.setState({dropped:!0,hovered:!1})},moveBackAndEnable:function(){this.setState({dropped:!1}),this.draggableHelper.enable(),this.setPlayerProp("Enabled",!0)},onDragOut:function(t,e){e.params.data.setState({hoverStroke:!1})},onDraggingOver:function(t,e){e.params.data.setState({hoverStroke:!0})},reconnectDrop:function(t){this.setPlayerProp({depth:++p,OnStage:!0}),this.onDrop(this.draggableHelper,{params:{data:t}})},savePrevLoc:u.noop,dragStarted:u.noop},g={performReview:function(){this.setState({reviewDot:"drag-incorrect"}),this.setState({reviewStroke:d.hexify(this.props.model.get("reviewIncorrectColor")||"0xFF0101")}),this.setState({isDropChild:!0}),this.resetXPos()},resetXPos:function(){this.setPlayerProp("RawXPos",this.getPlayerProp("ShuffleXPos"))},getDropSnapX:function(t){return t.prop("RawXPos")+t.width()-this.props.notchWidth},dropComplete:function(t){this.dropView=t,this.dropView.setState({collision:!1}),this.droppedX=this.getPlayerProp("RawXPos"),this.droppedY=this.getPlayerProp("RawYPos"),this.putBackInParent()},dropAndDisable:function(){this.setState({dropped:!0,hovered:!1})},onDragOut:function(t,e){e.params.data.setState({collision:!1})},onDraggingOver:function(t,e){e.params.data.setState({collision:!0})},onDragEnd:function(t,e){this.state.dropped?(this.putBackInParent(),this.setDragPosition(this.droppedX,this.droppedY),this.swapDisconnectedItems(!0)):this.swapDisconnectedItems()||this.unDrop(),this.savePrevLoc(),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null)},setSelectedItem:function(t){this.setPlayerProp("SelectedItem",t.prop("slideIndex"))},swapDisconnectedItems:function(t){var e,i,n,r,o,s=[];if(this.dragItemViews.forEach(function(t){var e,i=this.props.model.id,n=t.props.model.id,r=DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?t.refs.innard.dropInView:t.refs.innard;i===n||r.state.dropped||0!==(e=a.unionArea(this.el.getBoundingClientRect(),t.el.getBoundingClientRect()))&&s.push({area:e,view:t})}.bind(this)),e=u(s).sortBy("area").last())return r=(i=e.view).getPlayerProp("RawXPos"),o=i.getPlayerProp("RawYPos"),(n=i.refs.innard).setDragPosition(this.state.dropped?this.getPlayerProp("ShuffleXPos"):this.oldX,this.oldY),n.savePrevLoc(),t||(this.setDragPosition(r,o),this.putBackInParent()),function(t,e){[t,e].map((function(t){return t.props.isInnard?t.props.parent:t}));var i=t.props.model,n=e.props.model,r=n.prop("tabIndex");n.prop("tabIndex",i.prop("tabIndex")),i.prop("tabIndex",r)}(this,i),!0},unDrop:function(t){t&&this.dropView!==t||(this.setState({dropped:!1}),this.putBackInParent(),this.setDragPosition(this.oldX||this.getPlayerProp("ShuffleXPos"),this.oldY||this.getPlayerProp("ShuffleYPos")),this.setPlayerProp("SelectedItem",-1))},savePrevLoc:function(){this.oldX=this.getPlayerProp("RawXPos"),this.oldY=this.getPlayerProp("RawYPos")},dragStarted:function(){this.autoScrollId||this.checkForAutoScroll()},checkForAutoScroll:function(){null!=this.scrollInterface&&(this.scrollInterface.autoScroll(this.slideObjectParent),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll.bind(this)))}};DS.flagManager.dropInInteractions&&(e=DS.DropIn);var m=e.createClass({displayName:"DragitemSlideObject",mixins:[DS.flagManager.dropInInteractions?n.dropIn:n,o,r],shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{backgroundVisible:!0,dropped:!1}},componentDidMount:function(){this.applyStyleMixin(),this.htmlReady(this.setupDragging)},onSetReview:function(t){t&&this.performReview()},applyStyleMixin:function(){this.style=this.getPath("props.model.style"),"wordbank"===this.style?(u.mixin(this,f),u.bindAll(this,"performReview","dropComplete","getDropSnapX","onDragEnd","setSelectedItem","unDrop","dropAndDisable","moveBackAndEnable","onDragOut","onDraggingOver","reconnectDrop","savePrevLoc","dragStarted")):(u.mixin(this,g),u.bindAll(this,"performReview","resetXPos","getDropSnapX","dropComplete","dropAndDisable","onDragOut","onDraggingOver","onDragEnd","setSelectedItem","swapDisconnectedItems","unDrop","savePrevLoc","dragStarted","checkForAutoScroll")),u.bindAll(this,"setupDragging","checkShouldDisable","reparentIfSelected","getDraggableConfig","getDragPosition","onDragStart","onDrop","setDragPosition","putBackInParent")},setupDragging:function(){this.parentSlide=h.getCurrentWindow().getCurSlide(),this.slideObjectParent=this.el.parentNode,this.parentEl=this.slideObjectParent.parentNode,this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.draggableHelper=new l(this.props.parent,this.getDraggableConfig()),this.scrollInterface=a.getClosestScrollInnard(this),"matching"===this.style?this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"):this.reparentIfSelected(),this.checkShouldDisable()},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.draggableHelper.disable()},reparentIfSelected:function(){var t;this.getPlayerProp("SelectedItem")>=0&&(t=this.props.model).reparentChild(t.getSlide())},getDraggableConfig:function(){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,getPosition:this.getDragPosition,setPosition:this.setDragPosition,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver}},getDragPosition:function(){return this.savePrevLoc(),{x:this.getPlayerProp("RawXPos"),y:this.getPlayerProp("RawYPos")}},onDragStart:function(){this.setPlayerProp("depth",++p),this.dragStarted()},onDrop:function(t,e){this.setState({dropped:!0});var i=e.params.data,n=i.props.model,r=this.getDropSnapX(n),o=n.prop("RawYPos"),s=i.getDropChild();this.dropAndDisable(),null!=s&&s.props.model!==t.view.props.model&&s.unDrop(i),this.setPlayerProp("TimelineControlled",!1),this.setSelectedItem(n),i.setDropChild(this),this.setDragPosition(r,o),this.dropComplete(i)},setDragPosition:function(t,e){this.setPlayerProp({RawXPos:t,RawYPos:e})},putBackInParent:function(){this.props.model.reattachChild()}});return DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?c(m):m}.call(e,i,e,t))||(t.exports=n)},5722:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n=function(t){"use strict";var e=i(2577),n=i(2290),o=(i(9526),DS.utils),s=0;return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",a=arguments.length>2?arguments[2]:void 0;if("object"===r(t)){var l="wrap-"+s;s++;var c=e.createElement(i,{className:"dropin-wrap",ref:l},null),u=DS.DropInDOM.render(t);return requestAnimationFrame((function(){null!=a.refs[l]&&(a.refs[l].innerHTML="",a.refs[l].append(u))})),c}var h=e.createClass({displayName:"Wrap",shouldComponentUpdate:DS.flagManager.dropInMisc&&null!=t.prototype.dropInShouldWrapUpdate?t.prototype.dropInShouldWrapUpdate:function(t,e){return!DS.flagManager.dropInVectors||(!!(o.shallowEqual(this.props,t)&&o.shallowEqual(DS.flagManager.dropInCore?this.state||this.dropInView.state:this.state,e||{})||!this.shouldUpdate||null==e||null==t)||this.shouldUpdate(t,e))},componentWillUnMount:function(){DS.flagManager.dropInVideo&&this.dropInView.componentWillUnMount()},componentDidMount:function(){for(var e in this.wrappedEl=DS.DropIn.createElement(t,this.props),this.dropInView=DS.DropInDOM.render(this.wrappedEl),this.dropInView.isWrapped=!0,this.dropInView)null==this[e]&&"function"==typeof this.dropInView[e]&&(this[e]=this.dropInView[e].bind(this.dropInView));this.el=n.findDOMNode(this),this.el.appendChild(this.dropInView.el)},componentWillReceiveProps:DS.flagManager.dropInVectors?function(t){var e={};if(!DS.flagManager.dropInCore||null!=this.dropInView){for(var i in t)null==e[i]&&(e[i]=t[i]);for(var n in this.dropInView.props)null==e[n]&&(e[n]=this.dropInView.props[n]);DS.flagManager.dropInCore?this.dropInView.nextProps=Object.assign(this.dropInView.getDefaultProps(),t):this.dropInView.props=e}}:null,render:function(){var t=DS.flagManager.dropInMisc?{height:"100%",position:DS.flagManager.dropInCore?"absolute":null}:null;return null!=this.dropInView&&(DS.flagManager.dropInVectors||(this.dropInView.props=this.props),this.dropInView.doRender(),DS.flagManager.dropInCore&&"Slide"===this.dropInView.displayName&&(t.zIndex=null!=this.state&&this.state.transitionDepth||0)),e.createElement(i,{className:"dropin-wrap",style:t},null)}});return h.notWrapped=t,h}}.call(e,i,e,t),void 0===n||(t.exports=n)},7738:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(5953),n=i(9526),r=i(2577),o=DS,s=(o._,o.appState),a=o.events;return DS.flagManager.dropInInteractions&&(r=DS.DropIn),r.createClass({mixins:[DS.flagManager.dropInInteractions?n.dropIn:n],displayName:"DropListItem",componentDidMount:function(){this.listenTo(s,a.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged)},onAccessibleTextChanged:function(t){this.setState({useAccText:this.getUseAccText()})},getUseAccText:function(){if(DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport){var t=this.getPath("props.textdata"),e=t.type,i=t.scrollOverflow;return"richvartext"===e||"acctext"===e&&(s.accessibleTextOn()||i)}return"acctext"===this.getPath("props.textdata.type")&&(s.accessibleTextOn()||this.getPath("props.textdata.scrollOverflow"))},getInitialState:function(){var t=this.props.textdata;return DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?this.accTextModel=new e(t,{parent:this.props.model}):this.accTextModel={parent:this,width:function(){return t.width},height:function(){return t.height},wordwrap:function(){return t.wordwrap},textshadow:function(){return t.textshadow},vartext:function(){return t.vartext},valign:function(){return t.valign},linkdata:function(){return[]}},{hovered:!1,display:"none",selected:!1,useAccText:this.getUseAccText()}},onClick:function(){this.touchMoved||this.props.selected(this.props.order)},onTouchStart:function(){this.touchMoved=!1,this.didMouseOver()},onTouchMove:function(t){this.touchMoved=!0},fillColorClass:function(){return this.state.hovered?"drop-list-item-over":this.state.selected?"drop-list-item-selected":"drop-list-item-out"},didMouseOver:function(){this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},getAccTextModel:function(){return this.accTextModel}})}.call(e,i,e,t))||(t.exports=n)},6257:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e,n=i(9526),o=i(2817),s=i(2577),a=i(2290),l=i(3986),c=i(23),u=i(5953),h=DS,d=h._,p=h.windowManager,f=h.dom,g=h.utils,m=h.events,v=h.detection,S=v.os.isIOS,y=v.device,b=h.svgUtils,w=h.pubSub,x=h.appState,D=h.keyManager,C=h.globalEventHelper,E=C.addBodyListener;C.removeBodyListener;return DS.flagManager.dropInInteractions&&(s=DS.DropIn,a=DS.DropInDOM),s.createClass({mixins:[DS.flagManager.dropInInteractions?n.dropIn:n,o],displayName:"DropListParentable",subscriptions:(e={},e[m.slideContainer.POSITIONED]="onSlideContainerPositioned",e),shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){var t=this.getPath("props.model.data.textdata",{});return DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?{hovered:!1,display:"none",textdata:this.getPath("props.model.data.textdata"),winScale:this.props.winScale,useAccText:this.getUseAccText(t)}:{hovered:!1,display:"none",pr:this.getPath("props.model.data.textdata.vectortext.pr"),textdata:this.getPath("props.model.data.textdata"),winScale:this.props.winScale,useAccText:this.getUseAccText(t)}},getUseAccText:function(t){if(DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport){var e=g.getPath(t,"type"),i=g.getPath(t,"scrollOverflow");return"richvartext"===e||"acctext"===e&&(x.accessibleTextOn()||i)}var n=(null==t?this.state||{}:{textdata:t}).textdata,r=(n=void 0===n?{}:n).type,o=n.scrollOverflow;return"acctext"===r&&(x.accessibleTextOn()||o)},componentWillMount:function(){var t=this;(DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport)&&(this.removeReviewListener=w.addListener(m.localization.REVIEW_STRING_UPDATED,(function(e){null!=t.prevSelected&&t.updateText(t.prevSelected),t.setState({stringRev:e})}))),this.itemslist=this.getPath("props.model.itemslist"),this.currentIndex=-1},componentDidMount:function(){this.initReparenting(),this.createRefOrder(),this.onShown(this.selectItemIfSet),this.listenTo(x,m.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged)},componentDidUpdate:function(t,e){var i,n,r,o;DS.flagManager.dropInCore?null==this||null===(i=this.props)||void 0===i||null===(n=i.parent)||void 0===n||null===(r=n.accShadowView)||void 0===r||null===(o=r.onStateChanged)||void 0===o||o.call(r,e,this.state):this.props.parent.accShadowView.onStateChanged(e,this.state)},componentWillUnMount:function(){null!=this.removeReviewListener&&this.removeReviewListener()},onAccessibleTextChanged:function(t){var e=DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?this.getUseAccText(this.textModel):this.getUseAccText(selected.props.textdata);this.setState({useAccText:e})},getAccTextModel:function(){var t=this;return DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?(null==this.textModel&&(this.textModel=new u(this.state.textdata,{parent:this.props.model}),this.textModel.width=function(){return(t.state.reviewWidth||t.getPath("props.model.width"))-30},this.textModel.height=function(){return t.getPath("props.model.height")-2}),this.textModel):{parent:this,width:function(){return t.state.ReviewMode?t.state.reviewWidth-35:t.state.textdata.width-10},height:function(){return t.state.textdata.height-4},wordwrap:function(){return t.state.textdata.wordWrap},textshadow:function(){return t.state.textdata.textshadow},vartext:function(){return t.state.textdata.vartext},valign:function(){return"top"},linkdata:function(){return[]}}},createRefOrder:function(){this.refOrder=[],this.itemslist.forEach(function(t,e){var i=this.refs["item"+e];this.refOrder[i.props.order]=i}.bind(this))},onSetReview:function(t){var e=this.getPath("props.model.reviewwidth");t&&e&&this.setState({reviewWidth:e})},selectItemIfSet:function(){var t=this.getPlayerProp("SelectedItemIndex");t>-1&&this.itemSelected(t)},itemSelected:function(t){if(-1!==t){var e=this.refs["item"+t];e.setState({selected:!0}),this.setPlayerProp("SelectedItemData",this.props.model.origItemsList[t].itemdata),this.setPlayerProp("SelectedItemIndex",t),this.prevSelected&&this.prevSelected.setState({selected:!1}),this.prevSelected=e,this.updateText(e)}},updateText:function(t){this.textModel=new u(t.props.textdata,{parent:this.props.model}),DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?this.setState({textdata:t.props.textdata,useAccText:DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?this.getUseAccText(this.textModel):this.getUseAccText(t.props.textdata)}):this.setState({pr:t.props.pr,textdata:t.props.textdata,useAccText:DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?this.getUseAccText(this.textModel):this.getUseAccText(t.props.textdata)});var e=this.refs.acctext;if(null!=e){var i=DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport?this.textModel.vartext():g.getPath(t.props,"textdata.vartext");null!=i&&e.updateTemplate(i)}},contentheight:function(){return(this.getPath("props.model.height")+8)*this.itemslist.length},onShowList:function(){var t=this;if(this.isEnabled()){if(S)return void this.props.parent.accShadowView.refs.input.dispatchEvent(new MouseEvent("mousedown"));null!=this.refs.scrollBar&&this.refs.scrollBar.update(),w.on(m.timer.COMPLETE,this.onTimerComplete),this.removeMousedownListener=E("mousedown",this.onListDown),this.removeMouseupListener=E("mouseup",this.onListUp),this.removeTouchstartListener=E("touchstart",this.onListDown),this.removeTouchendListener=E("touchend",this.onListUp),this.setState({display:"block"}),DS.flagManager.dropInInteractions?requestAnimationFrame((function(){return t.positionList()})):this.positionList()}},onHideList:function(t){var e;null!=t&&(e=f.closest(t.target,(function(t){return f.hasClass(t,"drop-list-top")||S&&f.hasClass(t,"drop-list")})),f.hasClass(t.target,"scrollarea-scrollbar")||f.hasClass(t.target,"scrollarea-btn"))||e||(this.unpositionList(),this.setState({display:"none"}),null!=this.removeMousedownListener&&(this.removeMousedownListener(),this.removeMouseupListener(),this.removeTouchstartListener(),this.removeTouchendListener()),w.off(m.timer.COMPLETE,this.onTimerComplete))},saveTouchStart:function(t){var e=r(t.touches||t.changedTouches||[t],1)[0],i=e.pageX,n=e.pageY;this.ptStart={x:i,y:n}},didTouchMove:function(t){if(null==this.ptStart||!y.isMobile)return!1;var e=r(t.changedTouches||t.touches||[t],1)[0],i=e.pageX,n=e.pageY;return!(Math.abs(i-this.ptStart.x)<2||Math.abs(n-this.ptStart.y<2))},onTouchStart:function(t){this.didMouseOver(),this.saveTouchStart(t)},onTouchEnd:function(t){this.didMouseOut(),this.didTouchMove(t)||this.onShowList()},getItemScrollTop:function(){return a.findDOMNode(this.refs.dropdownInner).scrollTop},onListDown:function(t){this.saveTouchStart(t),this.containerScrollTop=this.getItemScrollTop()},onListUp:function(t){this.didTouchMove(t)||this.onHideList(t)},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},autoOpenList:function(){var t;return"block"===this.state.display?(this.onHideList(),this.itemSelected(-1===this.currentIndex?-1:this.refOrder[this.currentIndex].props.idx)):(this.onShowList(),t=this.getPlayerProp("SelectedItemIndex"),this.currentIndex=-1===t?-1:this.refs[["item",t].join("")].props.order),!0},focusItem:function(t){if(-1!==t){var e=this.refOrder[t],i=this.refs.dropdownInner;this.refOrder.forEach((function(e,i){e.setState({hovered:i===t})})),this.currentIndex=t,this.itemSelected(e.props.idx);var n=f.getScrollRecommendation(i,e.el.firstChild);-1!==n&&(i.scrollTop=n)}},initReparenting:function(){var t=this,e=function(){t.targetEl=t.el.parentNode,t.dropDown=t.el.firstElementChild,t.container=l.getTopContainer(),t.overlay=l.getTopOverlay(),t.presentation=l.getMainWindowEl()};DS.flagManager.dropInInteractions?requestAnimationFrame(e):e()},getItemHeight:function(){return this.getPath("props.model.height")+8},getListHeight:function(){return this.getItemHeight()*this.itemslist.length},positionList:function(){var t=this;if(this.targetEl.parentNode!==this.container){this.parentEl=this.parentEl||this.el.parentNode.parentNode;var e,i=p.getCurrentWindowSlide(),n=c.localPtToSlide(this.props.parent,0,0),r=c.localPtToGlobal(this.props.parent,0,0),o=c.getSlideMetrics(i.currView),s=o.scaleX,a=1/s,l=this.presentation.getBoundingClientRect(),u=this.state.winScale,h=l.bottom,m=this.getListHeight()+this.getItemHeight();f.setStyles(this.targetEl,d.mapValues({left:((o.left-l.left)*a+n.x)*u,top:((o.top-l.top)*a+n.y)*u},g.pxify)),this.container.style[this.cssTransform]=b.transformScale(s/u),this.container.style.pointerEvents="all",this.container.appendChild(this.targetEl),r.y+m*s>h&&(e=h-r.y,this.dropDown.style.height=g.pxify(e),DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:e},(function(){t.htmlReady((function(){t.dropDown.style.height=g.pxify(e)}))})):this.setState({dropDownScrollable:"drop-list-scrollable",scrollBarHeight:e})),f.setStyles(this.overlay,d.extend({display:"block"},d.mapValues({left:0,top:0,width:l.width,height:l.height},g.pxify)))}},unpositionList:function(){this.targetEl.parentNode===this.container&&(f.setStyles(this.overlay,{display:""}),f.setStyles(this.targetEl,{left:0,top:0}),this.container.style[this.cssTransform]=b.transformScale(1),this.parentEl.appendChild(this.targetEl))},onSlideContainerPositioned:function(){"block"===this.state.display&&this.htmlReady(d.flow(this.unpositionList,this.positionList))},onFocus:function(t){this.props.parent.accShadowView.takeFocus()},shadowDomKeyHandler:function(t){var e=t.which,i=D.isDownKey(e);D.isUpKey(e)||i?("none"===this.state.display&&this.autoOpenList(),this.focusItem(g.clamp(0,this.itemslist.length-1,this.currentIndex+(i?1:-1))),t.preventDefault()):D.isActionKey(e)&&(this.autoOpenList(),t.preventDefault())},shadowDomBlur:function(t){var e=t.relatedTarget||document.activeElement;this.el.contains(e)||(this.onHideList(),this.focusItem(this.currentIndex))},onTimerComplete:function(){}})}.call(e,i,e,t))||(t.exports=n)},4307:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=i(2290),o=i(6257),s=i(5722),a=DS.dom;DS.flagManager.dropInInteractions&&(n=DS.DropIn,r=DS.DropInDOM);var l=n.createClass({mixins:[DS.flagManager.dropInInteractions?e.dropIn:e],displayName:"DropListSlideObject",componentWillMount:function(){this.droplistEl=n.createElement(o,this.props),this.wrapper=document.createElement("div"),a.setStyles(this.wrapper,{position:"absolute",top:0,left:0}),this.parentableDropList=r.render(this.droplistEl,this.wrapper)},componentDidUpdate:function(){this.parentableDropList.setState({winScale:this.props.winScale})},componentDidMount:function(){this.el.appendChild(this.wrapper)},componentWillUnmount:function(){r.unmountComponentAtNode(this.wrapper)},getSelectedTextData:function(){return this.parentableDropList.state.textdata}});return DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?s(l):l}.call(e,i,e,t))||(t.exports=n)},2584:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(2817),o=i(8926),s=i(7461).DroppableHelper,a=i(5722),l=(DS._,DS.utils),c=DS.windowManager,u=DS.pubSub,h=DS.events;DS.flagManager.dropInInteractions&&(e=DS.DropIn);var d=e.createClass({displayName:"DropareaSlideObject",dropInSettings:{useLegacySetState:!0},mixins:[DS.flagManager.dropInInteractions?n.dropIn:n,r,o],getInitialState:function(){return{backgroundVisible:!0}},shortEvents:{model:{setReview:"onSetReview"}},onSetReview:function(t){t&&this.performReview()},performReview:function(){var t=this,e=this.getPath("props.model.style"),i=this.getPath("props.model.reviewdata"),n=l.getPath(this.dropChild,"props.model.reviewdata"),r=l.hexify(this.props.model.get("reviewCorrectColor")||"0x008000"),o=l.hexify(this.props.model.get("reviewIncorrectColor")||"0xFF0101");"matching"===e?DS.flagManager.updatedThemeColorsEnabled?(t.setState({isDropChild:!1}),t.setState({reviewStroke:o}),t.dropChild&&(t.dropChild.setState({isDropChild:!0}),t.dropChild.setState({reviewStroke:o}),i===n&&(t.dropChild.resetXPos(),t.setState({reviewStroke:r}),t.dropChild.setState({reviewStroke:r})))):t.dropChild&&i===n?(t.setState({reviewDot:"drop-correct"}),t.dropChild.setState({reviewDot:"drag-correct"}),t.dropChild.resetXPos()):t.setState({reviewDot:"drop-incorrect"}):n?this.setState({reviewStroke:r}):this.setState({reviewStroke:o})},componentDidMount:function(){var t=this;this.style=this.getPath("props.model.style"),this.droppableHelper=new s(this.el,{data:this}),this.htmlReady(this.resumeReview),DS.flagManager.dropInAcc||u.once(h.window.MAIN_CHANGED,(function(){t.droppableHelper.unregister()}))},componentWillUnmount:function(){this.droppableHelper.unregister()},resumeReview:function(){this.parentSlide=c.getCurrentWindow().getCurSlide(),this.dragItemViews=this.parentSlide.getSlideObjectViews("dragitem"),"matching"===this.style?this.addMatchingDropChild():this.addWordBankDropChild()},addWordBankDropChild:function(){var t;this.dragItemViews.forEach((function(e){e.getPlayerProp("SelectedItem")>=0&&(t=e.refs.innard)})),t&&t.reconnectDrop(this)},addMatchingDropChild:function(){this.dragItemViews.forEach(function(t){if(t.getPlayerProp("slideIndex")===this.getPlayerProp("SelectedItem")){var e=t.refs.innard;t.setPlayerProp("RawXPos",e.getDropSnapX(this.props.model)),t.setPlayerProp("RawYPos",this.getPlayerProp("RawYPos")),this.setDropChild(e)}}.bind(this))},setDropChild:function(t){var e=l.getPath(t,"props.model.connectdata");this.setPlayerProp("SelectedItem",t.getPlayerProp("slideIndex")),this.setPlayerProp("DragConnectData",e),this.setPlayerProp("TimelineControlled",!1),this.dropChild=DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore&&null!=t.dropInView?t.dropInView:t,this.dropChild.drop=this},disconnect:function(){this.dropChild.drop=null,this.dropChild=null,this.setPlayerProp("DragConnectData",""),this.setPlayerProp("SelectedItem",-1)},isTabbable:function(){return-1===this.getPlayerProp("SelectedItem")||"matching"===this.style},getDropChild:function(){return this.dropChild}});return DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?a(d):d}.call(e,i,e,t))||(t.exports=n)},698:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),o=i(1630),s=i(3685),a=i(7945),l=i(23),c=i(5722),u=DS,h=u._,d=u.utils,p=u.TweenLite,f=u.detection,g=f.browser,m=f.deviceView.isMobile,v=u.vow,S=u.events,y=u.keyManager,b=u.appState,w=u.globalEventHelper.addBodyListener,x=u.constants,D=u.resolver,C=u.pubSub;DS.flagManager.dropInMisc&&(n=DS.DropIn);var E,P=n.createClass({completeHook:h.noop,displayName:"ExpandingLabelSlideObject",mixins:[DS.flagManager.dropInMisc?e.dropIn:e],shortEvents:{model:(E={},E[a.OBJECT_ACTION]="onObjectAction",E)},componentDidMount:function(){this.label=this.find(".expanding-label"),this.content=this.find(".expanding-label-content"),this.initDepth=this.props.model.parent.depth(),this.content.style.visibility="hidden",this.scrollArea=this.findComponent("ScrollAreaSlideObject"),this.listenTo(b,S.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),this.bindEvents()},componentDidUpdate:function(){var t=this.props,e=t.model,i=t.winScale,n=[e.get("arrowxpos"),e.get("arrowypos"),0].map((function(t){return d.pxify(t*i)})).join(" ");p.set(this.el,{transformOrigin:n}),this.el.style.transformOrigin=n,this.bindEvents()},componentWillUnmount:function(){null!=this.removePrepareListener&&this.removePrepareListener(),this.killAllTweens(),this.stopListening(),null!=this.removeLocalizationListener&&this.removeLocalizationListener()},componentWillMount:function(){var t=this,e=this.props.model;this.prepared=v.Deferred(),this.startHeight=this.props.model.getBounds().height+6+3,this.arrowSize=s.calcArrowLength(this.props.playerProps.width,this.props.playerProps.height,e.get("arrowxpos"),e.get("arrowypos")),this.calcAlignment().calcLabelSize().calcLabelTranslate().calcLabelPos(),this.listenTo(e.getLayer().timeline(),S.timeline.BEFORE_SEEK_UPDATE,this.hideComplete),this.actionConfig={showcomplete:this.showComplete,hidecomplete:this.hideComplete,showtitle:this.showTitle,hidetitle:this.hideTitle,togglecontent:this.toggleContent},m&&(this.actionConfig.showtitle=this.showComplete,this.actionConfig.hidetitle=this.hideComplete,this.actionConfig.togglecontent=this.toggleComplete),e.once("trueVisibilityChanged",this.prepare),this.removePrepareListener=function(){e.off("trueVisibilityChanged",t.prepare)},DS.flagManager.multiLangSupport&&(this.removeLocalizationListener=C.addListener(S.localization.LANGUAGE_UPDATED,(function(e){t.setState({currLangCode:e})})))},onAccessibleTextChanged:function(t){this.setState({accessibleText:t})},bindEvents:function(){var t=this;this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).concat(this.findAllComponents("RichVariableText")).concat(this.findAllComponents("AccessibleText")).forEach((function(e){t.stopListening(e),t.listenTo(e,{textHit:t.props.textHit,textOver:t.props.textOver,textOut:t.props.textOut})}))},svg:function(){return!DS.flagManager.dropInMisc&&DS.flagManager.dropInVectors?c(o.getSvgFromData(this.props.model,this),"div",this):o.getSvgFromData(this.props.model,this)},shouldShowContent:function(){return this.props.playerProps.Expanded},patternFillId:function(){return"pattern-fill-"+this.props.model.id},prepare:function(){if(this.isMounted()){var t=this.el.getBoundingClientRect();if(0!==t.width||0!==t.height){var e=this.props,i=e.model,n=e.winScale,r=[i.get("arrowxpos"),i.get("arrowypos"),0].map((function(t){return d.pxify(t*n)})).join(" ");this.labelProgress={tweenPercent:0},this.contentProgress={tweenPercent:0},this.updateLabel(),p.set(this.el,{scaleX:.01,scaleY:.01,transformOrigin:r}),this.el.style.transformOrigin=r,this.content.style.visibility="",this.setupTweens(),this.prepared.resolve()}else requestAnimationFrame(this.prepare)}},setupTween:function(t){var e=this.tweenedNodes;return e=h(e).push(t.node).compact().uniq().value(),this.tweenedNodes=e,this[t.name]=new p(t.node,t.duration,t.opts),this},setupTweens:function(){var t=this,e=[{name:"titleTween",node:this.el,duration:.3,opts:{scaleX:1,scaleY:1,onComplete:this.onTitleComplete,onReverseComplete:function(){t.props.model.parent.prop("depth",t.initDepth)},onStart:function(){g.isFF&&r(t.el.querySelectorAll("svg")).forEach((function(t){t.style.transformOrigin="0 0",t.style.transform="translate3d(0, 0, 0) scale3d(1, 1, 1.01)"}))},paused:!0}},{name:"labelTween",node:this.labelProgress,duration:.3,opts:{tweenPercent:1,paused:!0,onUpdate:this.updateLabel}},{name:"contentTween",node:this.contentProgress,duration:.3,opts:{tweenPercent:1,paused:!0,onUpdate:this.updateContent,onComplete:this.onContentComplete,onReverseComplete:this.onContentReverseComplete}}];return this.tweenedNodes=[],e.forEach((function(e){return t.setupTween(e)})),this},killAllTweens:function(){return null!=this.tweenedNodes&&this.tweenedNodes.forEach((function(t){return p.killTweensOf(t)})),this},showComplete:function(){return this.prepared.then(function(){this.props.playerProps.Expanded||(this.props.model.trigger(S.elso.TOGGLE_EXPANDED,!0),this.showTitle(!0).then(function(){1===this.currentTween.progress()?this.showContent():this.completeHook=this.showContent}.bind(this)))}.bind(this))},hideComplete:function(){return this.prepared.then(function(){this.props.playerProps.Expanded||this.contentTween.isActive()?this.hideContent().then(function(){this.completeHook=this.hideTitle}.bind(this)):(this.currentTween=h.noop,this.hideTitle())}.bind(this))},toggleContent:function(){this.shouldShowContent()?this.hideContent():(this.showTitle(!0),this.showContent())},toggleComplete:function(){this.props.playerProps.Expanded?this.hideComplete():this.showComplete()},contentWillShow:function(t){return this.completeHook===this.showContent&&"hidecomplete"!==t},wasToggledMultipleTimes:function(t,e){if(m){if("onrollout"===e&&"hidecomplete"===t&&"togglecontent"===this.prevCommand)return!0;if("onrollover"===this.prevEventType&&"showcomplete"===this.prevCommand&&"onrollout"===e&&"hidecomplete"===t&&!this.shouldShowContent())return!0}return!1},onObjectAction:function(t,e){var i=t.command,n=e&&e.eventType;this.wasToggledMultipleTimes(i,n)||("togglecontent"===i||this.prevCommand!==i||y.isShowFocus)&&(this.prevCommand=i,this.prevEventType=n,this.contentWillShow(i)||(this.actionConfig[i](),function(){var t=this;g.isChrome&&"showtitle"===i&&this.afterHtmlReady((function(){DS.flagManager.dropInCore||t.forceUpdate()}))}.call(this),"showtitle"===i&&this.repositionLabel()))},triggerObjectEvent:function(t){this.props.model.executeFilteredPlayerEvent((function(e){return e.eventName===t}),"onobjectevent")},calcAlignment:function(){var t,e,i=this.props.model,n=i.get("arrowxpos"),r=i.get("arrowypos"),o="",s="";return r<=0?s="bottom":r>=this.props.playerProps.height&&(s="top"),n<=0?(o="right",n<0&&(e=!0)):n>=this.props.playerProps.width&&(o="left",n>this.props.playerProps.width&&(e=!0)),t=h(e?[o,s]:[s,o]).compact().join("-"),this.alignment=t,this},calcLabelSize:function(){var t=this.arrowSize+2*this.props.model.get("borderwidth");return this.labelSize={width:this.props.playerProps.width+t,height:this.props.playerProps.height+t},this},calcLabelTranslate:function(){var t=s.calcTranslate(this.props.model.get("arrowxpos"),this.props.model.get("arrowypos")),e=this.props.model.get("borderwidth"),i=e%2?.5:0;return t.x+=e+i,t.y+=e+i,t.offX-=e,t.offY-=e,this.labelTranslate=t,this},calcLabelPos:function(){var t=this.props.model,e=this.alignment,i=0;return"right"===e||"left"===e?i=t.get("arrowypos")-this.startHeight/2:h.includes(e,"top")&&(i=t.get("height")-this.startHeight),this.labelPos={x:0,y:i},this},showTitle:function(t){return t||0!==this.props.model.get("textLib").length?(this.labelDirty&&(this.el.style.transform="unset",this.updateLabel()),this.prepared.then(function(){this.currentTween=this.titleTween,this.currentTween.play(),this.completeHook=h.noop}.bind(this))):this.prepared},onTitleComplete:function(){this.completeHook()},hideTitle:function(){return this.prepared.then(function(){this.completeHook=this.hideTitle,this.shouldShowContent()||this.currentTween===this.contentTween||(this.currentTween=this.titleTween,this.currentTween.reverse(),this.completeHook=h.noop)}.bind(this))},keyupHandler:function(t){if(t.which===x.keys.ESCAPE){this.hideComplete();var e=this.props.model.absoluteId.replace("_expandinglabel","");D.resolvePath(e).currView.accShadowView.takeFocus()}},showContent:function(){return this.prepared.then(function(){this.removeBodyListener=w("keyup",this.keyupHandler,!0),C.trigger(S.elso.SHOW_CONTENT_START),this.currentTween=this.contentTween,this.currentTween.play(),this.labelTween.play(),this.triggerObjectEvent("contentin"),this.props.model.trigger(S.elso.TOGGLE_EXPANDED,!0),1===this.currentTween.progress()&&this.onContentComplete()}.bind(this))},updateChildVisibility:function(){h.result(this.props.model,["currView","updateTrueVisibility"])},onContentReverseComplete:function(){this.props.setPlayerProp("Expanded",!1),this.updateChildVisibility(),this.currentTween=null,this.completeHook(),this.triggerObjectEvent("contentoutcomplete"),C.trigger(S.elso.HIDE_CONTENT_COMPLETE)},onContentComplete:function(){this.completeHook=h.noop,this.props.setPlayerProp("Expanded",!0),this.updateChildVisibility(),this.triggerObjectEvent("contentincomplete"),l.setMatrixDirty(this.props.model.currView),null!=this.scrollArea&&this.scrollArea.calcScrolling()},hideContent:function(){return this.prepared.then(function(){null!=this.removeBodyListener&&(this.removeBodyListener(),this.removeBodyListener=null),this.currentTween=this.contentTween,this.currentTween.reverse(),this.labelTween.reverse(),this.triggerObjectEvent("contentout"),this.props.model.trigger(S.elso.TOGGLE_EXPANDED,!1),0===this.currentTween.progress()&&this.onContentReverseComplete()}.bind(this))},calcTweenScale:function(){for(var t,e=this.props.model,i=1;e;)t=e.currView,e.isSlideObject&&null!=t&&null!=t.tweenedConfig&&(i*=d.pctToDec(t.tweenedConfig.props.ScaleY)),e=e.parent;return i},getPercentHeight:function(t){return this.startHeight+(this.props.playerProps.height-this.startHeight)*t},updateContent:function(){null!=this.contentProgress&&(this.content.style.height=d.pxify(this.getPercentHeight(this.contentProgress.tweenPercent)*this.props.winScale))},repositionLabel:function(){null!=this.labelProgress&&this.sizeLabel(this.props)},sizeLabel:function(t){var e=t.winScale,i=t.model.get("objects"),n=null!=i&&i.length>0?this.labelProgress.tweenPercent:0;this.label.style.height=d.pxify(this.getPercentHeight(n)*e),this.label.style[this.cssTransform]="translate(0px, ".concat(this.labelPos.y*d.invertPercent(n)*e,"px)"),this.content.style.height=this.label.style.height},updateLabel:function(){var t=this.props,e=t.winScale,i=t.model;this.sizeLabel({winScale:e,model:i});var n=this.label.getBoundingClientRect();if(this.lastGoodHeight=n.height,0!==n.height){this.labelDirty=!1,this.content.style.height=this.label.style.height;var r=this.el.getBoundingClientRect(),o=this.props.model.getSlide().calculateTotalScale(),a=-(r.top-n.top),l=s.labelPath({width:this.props.playerProps.width,top:a*o/this.calcTweenScale(),height:n.height*o,radius:10,dir:this.alignment,arrowLength:this.arrowSize,arrowX:this.props.model.get("arrowxpos"),arrowY:this.props.model.get("arrowypos")});this.setState({labelPath:l})}else this.labelDirty=!0},getIsVisible:function(){return this.props.playerProps.Expanded},getContentStyles:function(){var t=this,e=this.props.winScale;return window.requestAnimationFrame((function(){t.repositionLabel()})),{paddingTop:6*e,paddingBottom:3*e,paddingLeft:6*e,paddingRight:6*e}}});return DS.flagManager.dropInMisc&&!DS.flagManager.dropInCore?c(P):P}.call(e,i,e,t))||(t.exports=n)},4531:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=(DS._,DS.slideObjectUtils);return DS.flagManager.dropInCore&&(n=DS.DropIn),n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"GroupingSlideObject",getFocusTarget:function(){return r.getGroupFocusTarget(this)}})}.call(e,i,e,t))||(t.exports=n)},5801:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=(i(2817),i(2577)),r=i(2290),o=i(107),s=i(3270),a=i(8876),l=i(3986),c=i(5722),u=DS._,h=DS.detection,d=DS.events,p=DS.windowOpen,f=DS.windowManager;DS.flagManager.dropInBase&&(n=DS.DropIn,r=DS.DropInDOM);var g,m=n.createClass({displayName:"ImageSlideObject",mixins:[DS.flagManager.dropInBase?e.dropIn:e],subscriptions:(g={},g[d.slideContainer.POSITIONED]="onPositioned",g),componentWillMount:function(){this.presentationCanvas=l.getPresoCanvas()},componentDidMount:function(){h.deviceView.isMobile&&this.refs.zoom&&a.tap(this,this.refs.zoom,this.zoom)},getImage:function(){return o.getAssetUrl(this.props.model.get("zoomdata").imagedata.assetId)},zoom:function(){"htmlwindow"===this.props.model.get("zoomtype")?p.open({url:this.getImage(),previewNotification:"PREVIEW_ZOOM_IMAGE"}):this.getOrCreateZoomImage().zoomIn()},getOrCreateZoomImage:function(){return DS.flagManager.dropInVideo||r.unmountComponentAtNode(this.presentationCanvas),this.renderZoomImage()},renderZoomImage:function(){var t=1/f.getCurrentWindowSlide().calculateTotalScale(),e={imageModel:this.props.model,imageElement:this.find(".zoom"),imageUrl:this.getImage(),width:this.props.model.get("zoomdata").html5data.width*t,height:this.props.model.get("zoomdata").html5data.height*t,transform:{xOffset:this.props.model.get("xOffset"),yOffset:this.props.model.get("yOffset"),xPos:this.props.playerProps.RawXPos,yPos:this.props.playerProps.RawYPos,width:this.props.playerProps.width*t,height:this.props.playerProps.height*t}};if(DS.flagManager.dropInBase&&this.zoomImage)return DS.DropInDOM.updateWithProps(this.zoomImage,e,this.presentationCanvas),this.zoomImage;var i=n.createElement(s,e);return this.zoomImage=r.render(i,this.presentationCanvas),this.zoomImage},onPositioned:function(){var t=this.zoomImage;null!=t&&t.isVisible()&&this.htmlReady(this.renderZoomImage)},onClick:function(){h.device.isMobile||this.zoom()},toggleZoom:function(){null!=this.zoomImage&&this.zoomImage.isZoomingIn?this.zoomImage.zoomOut({stopPropagation:u.noop}):this.zoom()},closeZoom:function(){null!=this.zoomImage&&this.zoomImage.zoomOut({stopPropagation:u.noop})}});return DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?c(m):m}.call(e,i,e,t))||(t.exports=n)},5040:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS,o=r.localizationManager,s=r.pubSub,a=r.events;return DS.flagManager.dropInCore&&(e=DS.DropIn),e.createClass({displayName:"LanguagePicker",mixins:[DS.flagManager.dropInCore?n.dropIn:n],getInitialState:function(){return{languages:o.getLanguages().map((function(t){var e=t.langCode,i=t.displayNames;e=e.toLowerCase();var n=i[0].name;return i.forEach((function(t){var i=t.langCode,r=t.name;i.toLowerCase()===e&&(n=r)})),{langCode:e,displayName:n}})),currLangCode:o.getCurrentLangCode()}},componentWillMount:function(){var t=this;this.removeLocalizationListener=s.addListener(a.localization.LANGUAGE_UPDATED,(function(e){t.setState({currLangCode:e})}))},componentWillUnmount:function(){null!=this.removeLocalizationListener&&this.removeLocalizationListener()},onSelectionChange:function(){var t=this.refs.select.value;o.setCurrentLanguage(t)}})}.call(e,i,e,t))||(t.exports=n)},281:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(5722),o=DS.vendorOverrides,s=DS.utils;DS.flagManager.dropInBase&&(e=DS.DropIn);var a=e.createClass({displayName:"LinearBackgroundGradient",mixins:[DS.flagManager.dropInBase?n.dropIn:n],fill:function(){return this.props.fill||this.props.layerModel.background().fill},stopPct:function(t){return s.stopPct(t.stop)},stopProps:o.stopColorProps||function(t){return{stopColor:s.rgbify(t.rgb),stopOpacity:s.opacify(t.alpha)}}});return DS.flagManager.dropInBase&&(a.wrapped=r(a,"g")),a}.call(e,i,e,t))||(t.exports=n)},5269:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(4360),s=DS._,a=DS.detection,l=DS.utils,c=DS.constants,u=(l=DS.utils,DS.events);DS.scaler;DS.flagManager.dropInAcc&&(e=DS.DropIn);var h=s.memoize(s.partial(l.quote,c.MOBILE_FONT));return e.createClass({displayName:"MessageWindow",mixins:[DS.flagManager.dropInAcc?n.dropIn:n,r],subscriptions:o({},u.window.SCALE,"onResize"),getInitialState:function(){return{scale:this.props.getWinScale()}},onResize:function(){this.setState({scale:this.props.getWinScale()})},windowType:function(){return this.state.currentSlide?s.kebabCase(this.state.currentSlide.id).split("-").slice(0,3).join("-"):""},isScaleable:function(){return this.isResumeWin()},isResumeWin:function(){return"resume-prompt-slide"===this.windowType()},componentDidUpdate:function(){this.adjustForMobileLayout()},createResumeText:function(){var t=document.createElement("style");t.innerHTML=[".message-window.resume-prompt-slide .slide-object:nth-child(2) button::after {",' content: "',DS.stringTabler.getString("continueresponsive"),'"; } ',".message-window.resume-prompt-slide .slide-object:nth-child(3) button::after {",' content: "',DS.stringTabler.getString("restart"),'"; }'].join(""),document.body.appendChild(t)},getScrollAreaText:function(){return this.findAll('[data-acc-text]:not([data-acc-text=""]):not(.slide-object-button)').map((function(t){return t.getAttribute("data-acc-text")})).join(" ")},adjustForMobileLayout:function(){var t;a.deviceView.isClassicMobile&&(t=this.find(".message-window-heading"),s.union([t],t.querySelectorAll("*")).forEach((function(t){t.style.fontFamily=h()})),this.isResumeWin()?this.createResumeText():(document.body.classList.add("resume-shown"),this.htmlReady(function(){var t=this.getScrollAreaText();this.setState({mobileText:t})}.bind(this)),DS.pubSub.trigger(DS.events.messageWindow.SHOWN)))}})}.call(e,i,e,t))||(t.exports=n)},5290:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(2577),r=i(9526),o=i(8359),s=DS,a=s._,l=s.dom,c=s.playerGlobals,u=s.pubSub,h=s.events,d=s.detection,p=s.focusManager,f=s.mobileChromeKiller,g=s.vendorOverrides,m=s.localizationManager,v=s.constants.strings,S=null!=g.getAudioInitEvent?g.getAudioInitEvent:a.constant("touchend");return DS.flagManager.dropInBase&&(n=DS.DropIn),n.createClass({displayName:"MobileStartOverlay",mixins:[DS.flagManager.dropInBase?r.dropIn:r],stringTitles:{titleText:v.PROJECT_TITLE,resumeText:v.RESUME,restartText:v.RESTART},subscriptions:(e={},e[h.request.START]="onMobileStart",e[h.presentation.EXIT_FULLSCREEN]="onExitFullScreen",e[h.presentation.ENTER_FULLSCREEN]="onEnterFullScreen",e),componentDidMount:function(){var t=this,e=function(){var e=DS.views.model.frame.controlOptions.courseOptions;DS.flagManager.multiLangSupport?t.setState({fontScale:d.theme.isUnified?DS.frameModel.frame.fontscale/100:1,thumbnailEnabled:e&&e.thumbnailEnabled,thumbnailFillFrame:e&&e.thumbnailFillFrame,thumbnailUrl:e?e.thumbnailUrl:""}):t.setState({titleText:DS.stringTabler.getString(DS.constants.strings.PROJECT_TITLE),resumeText:DS.stringTabler.getString("resume"),restartText:DS.stringTabler.getString("restart"),fontScale:d.theme.isUnified?DS.frameModel.frame.fontscale/100:1,thumbnailEnabled:e&&e.thumbnailEnabled,thumbnailFillFrame:e&&e.thumbnailFillFrame,thumbnailUrl:e?e.thumbnailUrl:""})};null!=DS.frameModel?e():u.on(DS.events.frame.MODEL_READY,e),this.refs.playIcon.addEventListener(S(),this.onStart),this.htmlReady(function(){d.deviceView.isUnifiedMobile&&null!=this.refs.resume&&(this.refs.resume.addEventListener(S(),this.onStart),this.refs.restart.addEventListener(S(),this.onReset))}.bind(this))},getInitialState:function(){return{visible:!1}},onFocus:function(t){p.setFocusRectOn(this.refs[t])},onEnterFullScreen:function(){document.body.classList.add("is-fullscreen")},onExitFullScreen:function(){document.body.classList.remove("is-fullscreen"),d.env.is360&&d.deviceView.isPhone&&(u.trigger(h.mobile.ENTER_THUMB_VIEW),u.trigger(h.slide.PAUSE_TIMELINE),DS.renderEngine.showMobileStartOverlay(),this.setState({visible:!0}),this.restarted=!0)},onReset:function(){o.executeAction({kind:"resume_player",resume:!1},{context:c.presentation}),m.isMultiLanguageProject()?this.setState({isResumePrompt:!1}):this.onStart()},onMobileStart:function(t){var e,i=this;this.rejectDeferred=t.rejectDeferred,l.addClass(document.body,"resume-shown"),e={visible:!0},t.mobileStartAsPrompt&&(e.isResumePrompt=!0),this.setState(e,(function(){var t=null!=i.refs.resume?i.refs.resume:i.refs.playIcon;d.env.is360||t.focus(),u.trigger(h.startOverlay.READY)}))},onStart:function(){d.env.isPhonePreview||(u.trigger(h.loader.UNMUTE),l.removeClass(document.body,"resume-shown"),this.restarted?u.trigger(h.mobile.EXIT_THUMB_VIEW):(this.rejectDeferred(),f.init()),this.setState({visible:!1}),d.env.is360&&d.deviceView.isPhone&&(u.trigger(h.presentation.ENTER_FULLSCREEN),u.trigger(h.slide.PLAY_TIMELINE)),DS.renderEngine.killMobileStartOverlay())}})}.call(e,i,e,t))||(t.exports=n)},1226:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526);return DS.flagManager.dropInVectors&&(e=DS.DropIn),e.createClass({mixins:[DS.flagManager.dropInVectors?n.dropIn:n],displayName:"ObjectSlideBackground",getX:function(){return-this.props.playerProps.RawXPos},getY:function(){return-this.props.playerProps.RawYPos},getXRot:function(){return this.props.playerProps.RawXPos+this.props.playerProps.rotateXPos},getYRot:function(){return this.props.playerProps.RawYPos+this.props.playerProps.rotateYPos},getRot:function(){return-this.props.playerProps.Rotation},getSlideHeight:function(){return this.props.model.getSlide().get("height")},getSlideWidth:function(){return this.props.model.getSlide().get("width")},getSlideId:function(){return this.props.model.getSlide().get("id")}})}.call(e,i,e,t))||(t.exports=n)},7905:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=i(5722);DS._;DS.flagManager.dropInMisc&&(n=DS.DropIn);var o=n.createClass({mixins:[DS.flagManager.dropInMisc?e.dropIn:e],displayName:"PlaceHolderSlideObject"});return DS.flagManager.dropInMisc&&!DS.flagManager.dropInCore?r(o):o}.call(e,i,e,t))||(t.exports=n)},9838:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=(i(2290),i(9526));return DS.flagManager.dropInBase&&(e=DS.DropIn,DS.DropInDOM),e.createClass({displayName:"PresentationOverlay",mixins:[DS.flagManager.dropInBase?n.dropIn:n]})}.call(e,i,e,t))||(t.exports=n)},6661:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(2577),n=i(9526),o=i(9924),s=i(6103),a=i(3423).updateBlockRuns,l=DS._,c=DS.utils,u=DS.svgUtils,h={};DS.flagManager.dropInVectors&&(e=DS.DropIn);var d=e.createClass({displayName:"RichVariableText",dropInSettings:{forceRebuild:!0},mixins:[DS.flagManager.dropInVectors?n.dropIn:n],initialLinkColors:{},getInitialState:function(){return this.parseTemplate(),this.parseVars()},componentWillMount:function(){this.shadowFilterId=l.uniqueId("text-shadow-filter-"),this.totalBigArea=0,this.areaInfo=[],this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(t,e){(t.isSlideObject||t.isSlideLayer)&&this.listenTo(t,{shown:l.partial(this.onAncestorShown,e),hidden:l.partial(this.onAncestorHidden,e)})}.bind(this))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(t){this.ancestors[t]=!0},onAncestorHidden:function(t){this.ancestors[t]=!1},parseVars:function(){var t=this.props.model;return s.parseVectorText(t,this.updateVarText(t))},onMouseDown:function(t){this.isDown=!0;var e=this.getLinkId(t.target);null!=e&&this.setState({activeId:e})},onMouseUp:function(t){this.isDown&&(this.isDown=!1,this.el.onclick(t))},onClick:function(t){t.preventDefault();var e=this.getLinkId(t.target);null!=e&&(h[e]=!0,this.trigger("textHit",e))},onMouseOver:function(t){var e=this.getLinkId(t.target);null!=e&&(this.setState({cursor:"pointer",hoverId:e}),this.trigger("textOver",e))},onMouseOut:function(t){var e=null!=t.relatedTarget&&this.getLinkId(t.relatedTarget);this.setState({cursor:null==e?null:"pointer",hoverId:e,activeId:null});var i=this.getLinkId(t.target);null!=i&&this.trigger("textOut",i)},getLinkId:function(t){return t.getAttribute("data-linkid")},linkIsVisited:function(t){return null!=h[t]},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState(this.parseVars())}.bind(this)),this},getInnerProps:function(){return{transformOrigin:DS.flagManager.dropInVectors?null:[this.props.originX,this.props.originY].join(" "),transform:[u.transformTranslate(this.props.originX,this.props.originY),u.transformRotate(this.props.rotDeg),this.state.textMtx.toCssTransform(!0)].join(" "),cursor:this.state.cursor}},parseTemplate:function(){var t=arguments;this.origTemplate=this.props.model.vartext();var e=this.origTemplate.blocks.reduce((function(e,i){if(0===i.runs.length)return e;var n=0,s=[],u=i.spans.reduce((function(t,e){if(o.splitTemplateOnTokens(e.text).forEach((function(i){var r=o.parseTemplate(i),a=r.addListeners,c=r.updateString,u=r.hasVars;t.addListeners.push(a),t.updateString.push((function(){var t=c.apply(null,arguments);return u?o.splitFormatted(t,e.style):[l.extend({},e,{text:t})]})),u&&s.push({idx:n,len:i.length,updateString:c}),n+=i.length})),s.length>0&&!i.runsUpdated){for(var a=0,c=s[a],u=r(i.runs),h=0;h<u.length;h++){var d=u[h];if(d.idx<=c.idx&&d.idx+d.len>=c.idx+c.len){var p=[l.extend({},d,{idx:d.idx,len:c.idx-d.idx}),l.extend({},d,c),l.extend({},d,{idx:c.idx+c.len,len:d.len-(c.idx-d.idx+c.len)})],f=l.first(p).len>0;if(u.splice.apply(u,[h,1].concat(r(p.filter((function(t){return t.len>0}))))),h+=f?1:0,!(++a<s.length))break;c=s[a]}}i.runsUpdated=!0,i.runs=u}return t}),{addListeners:[],updateString:[]});return e.addListeners=e.addListeners.concat(u.addListeners),e.updateString.push((function(){return l.extend({},i,{spans:l.flatten(c.juxt(u.updateString).apply(null,t))},{runs:a(i.runs)})})),e}),{addListeners:[],updateString:[]});this.listenToVarChanges=function(){var t=c.juxt(e.addListeners).apply(null,arguments);return c.juxt(t)},this.updateVarText=function(){return l.extend({},this.origTemplate,{blocks:c.juxt(e.updateString).apply(null,arguments)})}},shouldShowLinkHighlight:function(t){return t===this.state.hoverId||t===this.state.activeId||this.linkIsVisited(t)},getLinkStateHighlightColor:function(t){var e=this.getLinkState(t);return null==e?"transparent":null!=e.highlightColor?c.hexify(e.highlightColor):"transparent"},getLinkStateTextColor:function(t,e){var i=this.getLinkState(t);return null==i?this.initialLinkColors[e]:c.hexify(i.textColor)},getLinkStateUnderlineColor:function(t,e,i){var n=this.getLinkState(t);return null==n?i?"transparent":this.initialLinkColors[e]:i&&"underline"!==n.decoration?"transparent":c.hexify(n.textColor)},getLinkState:function(t){var e=this.getLink(t);return null==e?null:e.get(this.getCurrentStateName(t))},getLink:function(t){return l.first(this.props.model.linkdata().filter((function(e){return e.get("id")===t})))},getCurrentStateName:function(t){return t===this.state.activeId?"activeState":t===this.state.hoverId?"hoverState":null!=h[t]?"visitedState":null},getTSpanStyle:function(t){if(null==t.linkId)return t.domStyle;var e=Object.assign({},t.domStyle);return e.fill=this.getLinkStateTextColor(t.linkId,t.linkRef),e},saveInitialLinkColors:function(t){null!=t.linkId&&null==this.initialLinkColors[t.linkRef]&&(this.initialLinkColors[t.linkRef]=t.domStyle.fill)}});return d}.call(e,i,e,t),void 0===n||(t.exports=n)},6568:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(8453),r=i(5108),o=i(2577),s=i(23),a=DS.dom,l=DS.detection,c=DS.constants,u=DS.events;return DS.flagManager.dropInCore&&(o=DS.DropIn),o.createClass({displayName:"ScrollAreaSlideObject",dropInSettings:{useSpecificSetState:!0},mixins:[DS.flagManager.dropInCore?e.dropIn:e,n,r],getInitialState:function(){return{shouldNotScroll:!1,contentHeight:10}},componentWillMount:function(){this.listenTo(this.props.model,"updateScrollHeight",this.onUpdateHeight),this.listenTo(this.props.model,"updateScrollPos",this.onUpdatePos),this.listenTo(this.props.model,u.resume.RESET,this.onResetResume)},onResetResume:function(){this.onUpdatePos(0)},componentDidMount:function(){this.calcScrolling(),this.updateScrollBar()},componentDidUpdate:function(){l.browser.isIE&&(this.scrollingArea.scrollTop=Math.round(this.lastScrollTop*this.props.winScale))},onUpdateHeight:function(){this.setState({contentHeight:this.contentheight()}),this.calcScrolling(!0)},shouldUpdate:function(t,e){return e.isVisible!==this.state.isVisible||e.shouldNotScroll!==this.state.shouldNotScroll||e.contentHeight!==this.state.contentHeight||t.winScale!==this.props.winScale||t.tabIndexDisabled!==this.props.tabIndexDisabled},onUpdatePos:function(t){this.props.model.prop("Position",t),this.htmlReady(function(){this.scrollingArea.scrollTop=t,this.updateScrollBar(t),s.setMatrixDirty(this.props.parent)}.bind(this))},calcScrolling:function(t){var e=this.find(".scrollarea-area"),i=this.contentheight(),n=i<=this.height();this.setState({shouldNotScroll:n,contentHeight:i}),this.props.model.prop("Viewed",n),null==t&&this.setupScrollArea(e)},setupScrollArea:function(t){this.scrollingArea=t,this.scrollingArea.addEventListener("scroll",this.onScroll),this.props.model.prop("Position",0)},onScroll:function(){this.lastScrollTop=this.scrollingArea.scrollTop/this.props.winScale,this.props.model.prop("Position",this.lastScrollTop),this.scrollingArea.scrollHeight-this.scrollingArea.scrollTop<=this.scrollingArea.offsetHeight+5&&this.props.model.prop("Viewed",!0),this.scrollingArea.scrollLeft=0,this.updateScrollBar(this.lastScrollTop),s.setMatrixDirty(this.props.parent)},autoScroll:function(t){var e=t.getBoundingClientRect(),i=this.el.getBoundingClientRect(),n=this.props.winScale,r=0;e.top<i.top?r=-5:e.bottom>i.bottom&&(r=5),l.browser.isIE?this.scrollingArea.scrollTop+=r*n:null!=this.refs.scrollBar&&this.refs.scrollBar.scrollTop(this.refs.scrollBar.scrollTop()+r*n)},updateScrollBar:function(t){var e=this.refs.scrollBar;null==e||l.browser.isIE||(null!=t&&e.scrollTop(t),e.update())},scrollOnKey:function(t){if(!this.state.shouldNotScroll)switch(t.which){case c.keys.DOWN:this.scrollingArea.scrollTop+=10;break;case c.keys.UP:this.scrollingArea.scrollTop-=10;break;case c.keys.PAGE_DOWN:this.scrollingArea.scrollTop+=this.height();break;case c.keys.PAGE_UP:this.scrollingArea.scrollTop-=this.height();break;case c.keys.HOME:this.scrollingArea.scrollTop=0;break;case c.keys.END:this.scrollingArea.scrollTop=this.scrollingArea.scrollHeight}},scroll:function(t){if(!this.state.shouldNotScroll){var e=t?10:-10;this.scrollingArea.scrollTop+=e}},beforeChildScrollFocus:function(t){t&&(this.lastScrollTop=Math.round(this.scrollingArea.scrollTop/this.props.winScale))},childScrollFocus:function(t){var e=a.getScrollRecommendation(this.scrollingArea,t.el);-1!==e&&(this.scrollingArea.scrollTop=e),this.scrollingArea.scrollLeft=0,this.refs.contentArea.scrollTop=0,this.refs.contentArea.scrollLeft=0},isTabbable:function(){return!this.state.shouldNotScroll},contentheight:function(){return this.props.model.contentheight()},contentwidth:function(){return this.props.model.contentwidth()},height:function(){return this.props.playerProps.height},width:function(){return this.props.playerProps.width}})}.call(e,i,e,t))||(t.exports=n)},5700:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=(i(2559),i(23)),o=i(5722),s=DS._,a=DS.detection,l=DS.utils,c=(DS.windowManager,DS.dom),u=DS.globalEventHelper,h=u.addBodyListener,d=(u.removeBodyListener,a.device.isMobile?"touchmove":"mousemove"),p=a.device.isMobile?"touchend":"mouseup";DS.flagManager.dropInMisc&&(e=DS.DropIn);var f=e.createClass({displayName:"ScrollBar",mixins:[DS.flagManager.dropInMisc?n.dropIn:n],componentWillMount:function(){this.lastScrollTop=0},componentDidMount:function(){this.contentHeight=this.props.parent.contentheight(),this.yPos=this.props.offY,this.scrollingArea=this.props.parent.refs[this.props.refName||"scrollArea"],this.parentSlideObject=function(t){for(var e=t.props.parent;l.getPath(e,"props.isInnard",!1);)e=e.props.parent;return e}(this),this.el.addEventListener("touchmove",this.onTouchMove),this.scrollingArea.addEventListener("wheel",this.onWheel),a.deviceView.isClassicDesktop&&(this.scrollingArea.style.overflowY="hidden"),this.props.initSelf&&(this.update(),this.scrollingArea.addEventListener("scroll",this.storeAndUpdate))},componentWillUnmount:function(){this.el.removeEventListener("touchmove",this.onTouchMove),this.scrollingArea.removeEventListener("wheel",this.onWheel),this.scrollingArea.removeEventListener("scroll",this.storeAndUpdate)},componentDidUpdate:function(){this.update(),this.scrollTop(this.lastScrollTop)},onTouchMove:function(t){t.preventDefault()},scrollTop:function(t){if(null==t)return this.lastScrollTop;var e=this.props.winScale,i=this.getMaxScroll();t=l.clamp(0,i,t),this.lastScrollTop=t,this.scrollingArea.scrollTop=t*e},storeAndUpdate:function(){this.lastScrollTop=this.scrollingArea.scrollTop/this.props.winScale,this.update()},update:function(){if(!this.scrollByButton){var t=this.props.winScale,e=this.contentHeight,i=this.props.height,n=i/e*i,r=this.lastScrollTop/(e-i);r=l.clamp(0,1,r),r*=1-n/i,this.updateScrollBtn({height:l.pxify(n*t),top:l.decToPct(r,!0)})}},updateScrollBtn:function(t){var e=this;["scrollBtn","after"].forEach((function(i){var n=e.refs[i];s.forEach(t,(function(t,e){n.style[e]=t}))}))},onAutoScroll:function(t){c.hasClass(t.target,"scrollarea-btn")||(this.clickDeltaY=parseFloat(this.refs.scrollBtn.style.height)/this.props.winScale/2,this.onDragBtn(t),this.onScrollBtnDown(t))},getCursorPos:function(t){var e=1===l.getPath(t,"touches.length")?t.touches[0]:t;return r.globalPtToSlideObject(this.parentSlideObject,e.pageX,e.pageY)},onScrollBtnDown:function(t){this.removeMoveListener=h(d,this.onDragBtn),this.removeDragEndListener=h(p,this.onEndScrollDrag);var e=this.refs.scrollBtn,i=l.pctToDec(e.style.top)*this.props.height;this.clickDeltaY=this.getCursorPos(t).y-this.yPos-i,this.scrollByButton=!0,t.preventDefault()},onEndScrollDrag:function(){this.scrollByButton=!1,null!=this.removeMoveListener&&this.removeMoveListener(),null!=this.removeDragEndListener&&this.removeDragEndListener()},onDragBtn:function(t){var e=this.props.winScale,i=this.refs.scrollBtn,n=this.props.height,r=parseFloat(i.style.height)/e,o=n-r,s=this.getCursorPos(t).y-this.yPos-this.clickDeltaY,a=l.clamp(0,1,s/o);this.updateScrollBtn({top:l.decToPct(a*(1-r/n),!0)}),this.scrollTop(this.getMaxScroll()*a),t.preventDefault()},getMaxScroll:function(){return this.contentHeight-this.props.height},onWheel:function(t){var e=t.deltaY,i=DS.utils.getPath(this.props.parent,"getItemHeight",Math.abs(e));this.scrollTop(this.scrollTop()+i*(e>0?1:-1)),this.update()},dropInShouldWrapUpdate:function(){return!1}});return DS.flagManager.dropInMisc&&!DS.flagManager.dropInCore?o(f):f}.call(e,i,e,t))||(t.exports=n)},9721:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(8926),r=i(2577);DS._;return DS.flagManager.dropInInteractions&&(r=DS.DropIn),r.createClass({mixins:[DS.flagManager.dropInInteractions?e.dropIn:e,n],displayName:"SequenceCtrlDragItem",dropInSettings:DS.flagManager.dropInCore?{forceRebuild:!0,useLegacySetState:!0,noRebuildForProps:{winScale:!0},noRebuildForState:{hovered:!0}}:null,getInitialState:function(){return this.originX=10,this.originY=3,this.createInitialState()},createInitialState:function(){return{backgroundVisible:!0,Rotation:0,ScaleX:100,ScaleY:100}},enabledHook:function(){return this.props.parent.getPlayerProp("Enabled")}})}.call(e,i,e,t))||(t.exports=n)},9225:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=i(7461).DroppableHelper;i(5722),DS._;return DS.flagManager.dropInInteractions&&(n=DS.DropIn),n.createClass({mixins:[DS.flagManager.dropInInteractions?e.dropIn:e],displayName:"SequenceCtrlDrop",getInitialState:function(){return{topBar:!1,bottomBar:!1,reviewColor:"black",reviewIdx:this.props.idx}},componentDidMount:function(){this.setupDragging()},componentWillReceiveProps:function(t){this.props.parent.isEnabled()&&this.setState({reviewIdx:t.idx})},componentWillUnmount:function(){this.droppableHelper.unregister()},setupDragging:function(){this.droppableHelper=new r(this.el,{data:this,slideOwner:this.props.slideOwner})},setDropChild:function(t){this.dropChild=t,t.drop=this},getDropChild:function(){return this.dropChild},showHideBar:function(t){if(t.el){var e=this.el.getBoundingClientRect();t.el.getBoundingClientRect().top>e.top+e.height/3?this.setState({topBar:!1,bottomBar:!0}):this.setState({topBar:!0,bottomBar:!1})}},hideBar:function(){this.setState({topBar:!1,bottomBar:!1})}})}.call(e,i,e,t))||(t.exports=n)},9540:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2817),r=i(7461).DraggableHelper,o=i(2577),s=i(5722),a=DS._,l=DS.windowManager,c=DS.utils,u=DS.dom,h=DS.svgUtils;DS.flagManager.dropInInteractions&&(o=DS.DropIn);var d=o.createClass({mixins:[DS.flagManager.dropInInteractions?e.dropIn:e,n],displayName:"SequenceCtrlSlideObject",dropInSettings:{useLegacySetState:!0},shortEvents:{model:{setReview:"onSetReview"}},getInitialState:function(){return{itemslist:[]}},onSetReview:function(t){this.displayReview(t)},componentWillMount:function(){this.resetIndex(),this.getItemsList()},componentDidMount:function(){var t=this;DS.flagManager.dropInCore?this.onShown((function(){requestAnimationFrame(t.setupDragging)})):this.onShown(this.setupDragging)},componentDidUpdate:function(t,e){var i=this;(DS.flagManager.dropInInteractions?null!=e&&e.ItemOrder:e.ItemOrder)!==this.getPlayerProp("ItemOrder")&&this.getItemsList(),this.itemslist.forEach((function(t,e){var n=i.refs["sequenceItem"+e];null!=n&&null!=n.loc&&i.setItemPosition(n.parent,n.loc)}))},getItemsList:function(){var t,e,i,n=this.getPlayerProp("ItemOrder");n?(t=n.split(""),e=this.getPath("props.model.itemsListOrder"),this.itemslist=[],t.forEach(function(t){this.itemslist.push(e[t])}.bind(this))):this.itemslist=this.getPath("props.model.itemslist"),i=this.itemslist.length.toString(),this.numWidth=28+10*(i.length-1),this.setState({itemslist:this.itemslist})},setupDragging:function(){this.parentSlide=l.getCurrentWindow().getCurSlide(),this.container=this.parentSlide.el.querySelector(".slide-top-container"),this.scrollArea=this.find(".sequence-ctrl-scroll-area"),this.scrollArea.addEventListener("scroll",this.onScroll),this.checkIfViewed(),this.setupItems(),this.checkShouldDisable(),this.shouldShowScroll(),this.displayReview(this.reviewMode)},checkIfViewed:function(){this.scrollArea.scrollHeight-this.scrollArea.scrollTop<=this.scrollArea.offsetHeight+5&&this.props.model.prop("Viewed",!0)},onScroll:function(){this.checkIfViewed()},shouldShowScroll:function(){this.scrollArea.scrollHeight>this.scrollArea.offsetHeight&&(this.scrollArea.style.height=this.lastHeight,this.scrollArea.style.overflowY="scroll",this.setState({shouldScroll:!0}))},contentheight:function(){return this.lastHeight},getReviewElementSize:function(){var t=this,e=this.itemslist.reduce((function(e,i,n){return e+t.refs["sequenceItem"+n].props.model.height}),0)/this.itemslist.length;return Math.min(e,28)},setupItems:function(){var t=0;DS.flagManager.updatedThemeColorsEnabled&&(this.numWidth=this.getReviewElementSize(),t=3),this.items=[];var e=0,i=this.numWidth+t,n=11;this.itemslist.forEach(function(t,o){var s=this.refs["sequenceItem"+o],a=s.props.model.height;s.idx=o,s.itemdata=this.itemslist[o].itemdata,s.parent=s.el.parentNode,s.barInfo=null,s.didMouseOut(),this.items.push(s),this.setPlayerProp("_pos"+o,s.itemdata),n=(e=n)+a+16,s.loc={x:i,y:e},this.lastHeight=n,this.setItemPosition(s.parent,s.loc),s.draggableHelper&&s.draggableHelper.disable(),s.draggableHelper=new r(s,this.getDraggableConfig(s.parent),s.parent),s.onDragItemDown=function(){this.idx=s.idx}.bind(this),s.el.addEventListener("mousedown",s.onDragItemDown),s.draggableHelper.getDropTarget("drag").params.data.setDropChild(s)}.bind(this))},checkShouldDisable:function(){this.getPlayerProp("Enabled")||this.items.forEach((function(t){t.draggableHelper.disable()}))},displayReview:function(t){this.reviewMode=t,t&&null!=this.items&&this.items.forEach(function(t,e){var i=this.props.model.getIndexByData(t.itemdata),n=i===e?c.hexify(this.props.model.get("reviewCorrectColor")||"0x008000"):c.hexify(this.props.model.get("reviewIncorrectColor")||"0xFF0101");t.drop.setState({reviewColor:n,reviewIdx:i,reviewMode:!0})}.bind(this))},getDraggableConfig:function(t){return{containment:this.parentSlide.el,ondragstart:this.onDragStart,ondragend:this.onDragEnd,ondrop:this.onDrop,ondrag:this.onDrag,ondropleave:this.onDragOut,ondropdrag:this.onDraggingOver,getPosition:a.partial(this.getDragPosition,t)}},setItemPosition:function(t,e){var i=e.x,n=e.y,r=this.props.winScale;t.style[this.cssTransform]=h.transformTranslate(c.pxify(i*r),c.pxify(n*r))},resetPositionItem:function(t){this.scrollArea.appendChild(t.draggableHelper.el),this.setItemPosition(t.draggableHelper.el,t.loc)},onDrag:function(t){a.toArray(document.querySelectorAll(".sequence-ctrl-bar")).every((function(e,i){var n="block"===e.style.display;return n&&(t.view.currY=e.getBoundingClientRect().top),!n}))},resetIndex:function(){this.idx=-1},childScrollFocus:function(t){var e=this.scrollArea,i=u.getScrollRecommendation(e,t.el);-1!==i&&(e.scrollTop=i)},insertItem:function(t){var e;this.scrollArea.appendChild(t.draggableHelper.el),this.items=a.sortBy(this.items,(function(t){return t.currY})),e=this.items.reduce(function(t,e,i){return t+this.props.model.getIndexByData(e.itemdata)}.bind(this),""),this.setPlayerProp("ItemOrder",e)},checkForAutoScroll:function(){var t=this.currDraggable.getBoundingClientRect(),e=this.scrollArea.getBoundingClientRect(),i=this.props.winScale;t.top<e.top?(this.scrollArea.scrollTop-=5*i,this.updateItemYs()):t.bottom>e.bottom&&(this.scrollArea.scrollTop+=5*i,this.updateItemYs()),this.autoScrollId=window.requestAnimationFrame(this.checkForAutoScroll)},getDragPosition:function(t){var e=t.getBoundingClientRect(),i=this.parentSlide.el.getBoundingClientRect();return{x:e.left-i.left,y:e.top-i.top}},updateItemYs:function(){this.items.forEach((function(t){t.currY=t.parent.getBoundingClientRect().top}))},getTargetModeTextInfo:function(t,e){var i=this.items.find((function(i){var n=i.parent.getBoundingClientRect(),r=n.top,o=n.left,s=n.bottom,a=n.right;return t>=o&&t<=a&&e>=r&&e<=s})),n=c.getPath(i,"accTextModel.parent.lastRenderedTextId");if(null!=n)return{textId:n,targetEl:i.parent}},getTextItemEl:function(t){var e=this.items.find((function(e){return c.getPath(e,"accTextModel.parent.lastRenderedTextId")===t}));if(null!=e)return e.parent},onDragEnd:function(t,e){var i=t.view;t.el.style.opacity=1,this.resetPositionItem(i),this.autoScrollId&&(window.cancelAnimationFrame(this.autoScrollId),this.autoScrollId=null),null!=this.lastOver&&this.lastOver.hideBar()},onDragStart:function(t,e){t.el.style.opacity=.5,this.container.appendChild(t.el),this.currDraggable=t.el,this.autoScrollId||this.checkForAutoScroll(),this.updateItemYs()},onDrop:function(t,e){var i=t.view,n=e.params.data,r=n.getDropChild();this.insertItem(i),r&&(i.drop.setDropChild(r),n.setDropChild(i)),this.lastOver=null,n.hideBar(),DS.flagManager.dropInInteractions&&(this.getItemsList(),this.setupItems()),this.htmlReady(function(){this.getItemsList(),this.setupItems()}.bind(this))},onDragOut:function(t,e){this.lastOver=null,e.params.data.hideBar()},onDraggingOver:function(t,e){this.lastOver=e.params.data,this.lastOver.showHideBar(t)},componentWillUnmount:function(){this.itemslist.forEach(function(t,e){var i=this.refs["sequenceItem"+e];i.el.removeEventListener("mousedown",i.onDragItemDown)}.bind(this))}});return DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?s(d):d}.call(e,i,e,t))||(t.exports=n)},2559:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2577),n=i(2817),o=i(4455),s=i(8958),a=i(5555),l=i(3558),c=i(9526),u=i(964),h=i(5108),d=i(23),p=i(254),f=i(5722),g=DS.globalEventHelper,m=g.addDocumentListener,v=g.addWindowListener,S=DS._,y=DS.windowManager,b=DS.vow,w=DS.pubSub,x=DS.keyManager,D=DS.resolver,C=DS.utils,E=DS.events,P=DS.detection,T=DS.dom,I=function(t,e,i){i.executeFilteredPlayerEvent((function(t){return S(t.objects).map("value").map(D.splitPath).map(S.last).intersection(e).isEmpty()}),t)};DS.flagManager.dropInCore&&(e=DS.DropIn);var A=e.createClass({displayName:"Slide",mixins:[DS.flagManager.dropInCore?c.dropIn:c,n,o,u,s,a,l,h],getDefaultProps:function(){return{onSlideStarted:S.noop}},componentWillMount:function(){var t=this.props.model;this.props.model.buildFlatDepths(),this.removeKeyListener=m("keydown",this.onKeyDown),t.slideReady=!1,t.destroyed=!1,t.getVariableChangeSubscriptions();var e=t.getSlideDraw();y.getCurrentWindow();null!=e&&this.listenTo(e,E.draw.EXIT,this.onSlideDrawExit),this.mouseX=0,this.mouseY=0,t.executePlayerEvent("onbeforeslidein"),this.getSlideObjectViews=S.memoize(this.getSlideObjectViews),this.loadDfd=this.props.model.loadSlideAssets()},componentDidMount:function(){var t=this,e=this.props.model;DS.flagManager.jsApiBasics&&(this.removeMouseMoveListener=m("mousemove",this.onStoreMouseLoc),this.removeTouchMoveListener=m("touchmove",this.onStoreMouseLoc)),e.applyResumeData(),this.registerEvent("clickoutsideobjects",(function(e){e.startingSlideId===t.props.model.id&&t.triggerClickOutside("on"+e.type,e.data)})),this.resetQuestionCorrectVariable(),e.interactions().invoke("updateInitialAttemptCount"),e.interactions().invoke("updateQuestionCorrectVariable"),e.setAsViewed(),b.isPending(this.loadDfd)?this.loadDfd.always(this.whenHtmlReady):this.htmlReady(this.whenHtmlReady),this.updateWindowId(),w.trigger(E.slide.HAS_MOUNTED,this)},shouldUpdate:function(t,e){return e.isVisible!==this.state.isVisible||e.transitionDepth!==this.state.transitionDepth||t.winScale!==this.props.winScale||e.trulyVisible!==this.state.trulyVisible},componentWillUpdate:function(t,e){e.isVisible&&!this.state.isVisible&&this.props.model.executePlayerEvent("onbeforeslidein")},componentDidUpdate:function(t,e){var i=this;t.winScale!==this.props.winScale&&(cancelAnimationFrame(this.scaleRequest),this.scaleRequest=requestAnimationFrame((function(){DS.flagManager.dropInCore?requestAnimationFrame((function(){w.trigger(E.slide.SCALE_COMPLETE,i.props.winScale),DS.focusManager.updateFocusBox()})):(w.trigger(E.slide.SCALE_COMPLETE,i.props.winScale),DS.focusManager.updateFocusBox())})))},whenHtmlReady:function(){var t=this,e=this.props.model,i=e.getBaseLayer(),n=this.swipe.wasSwiped();null!=this.prevSlide&&(this.prevSlide.trulyVisible=!1,this.prevSlide.props.model.executePlayerEvent("ontransitionout")),this.timelineReady=!0,i.timeline().pause(),e.executePlayerEvent("ontransitionin"),w.trigger(E.slide.ON_TRANSITION_IN,this.props.model),this.setState({trulyVisible:!0}),this.trulyVisible=!0,this.props.model.windowId!==y.PRINT_WINDOW?(this.transitionIn(function(){e.executePlayerEvent("ontransitionincomplete"),null==this.props.slideFrame&&i.isTimelineLayerPlayable()&&!e.pauseForResume&&i.resumeTimeline(),e.pauseForResume=!1,w.trigger(E.preview.NOTIFY,"PREVIEW_SLIDE_IN_COMPLETE",e.absoluteId),e.executePlayerEvent("onslidestart"),this.initPinchZoom(),this.publishSlideStarted()}.bind(this),n),e.slideReady=!0,w.trigger(E.slide.READY),P.device.isMobile?setTimeout((function(){window.requestAnimationFrame((function(){w.trigger(E.loader.HIDE)}))}),60):w.trigger(E.loader.HIDE)):this.transitionIn((function(){var e=function(){requestAnimationFrame((function(){var e=y.findWindowById(y.PRINT_WINDOW);if(e){var i=t.props.model;e.close(),i.windowId=null}}))},i=m("pointerdown",(function(){i(),e()}));if(!P.device.isMobile)var n=v("afterprint",(function(){n(),i(),e()}));requestAnimationFrame((function(){w.trigger(E.loader.HIDE),p.printSlide(t.props.model)}))}),!0)},componentWillUnmount:function(){DS.flagManager.jsApiBasics&&(this.removeMouseMoveListener(),this.removeTouchMoveListener()),this.removeKeyListener(),this.props.model.prepareResumeData(),y.isMultiWindowSlide(this.props.model)||this.props.model.resetModel()},addAccEl:function(t,e){if(P.deviceView.isClassicMobile&&-1!=this.props.model.absoluteId.indexOf("ResumePromptSlide")){var i=t.currView;T.setAttributes(i.el,{tabindex:i.getTabIndex(),"aria-label":i.getAccessibleText(),"aria-hidden":!1})}else if(!1!==t.get("tabEnabled")||"textinput"===t.kind()||"table"===t.kind()){if("table"===C.getPath(t,"parent.kind"))return;DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc?(this.refs.accShadowDom.reactView||this.refs.accShadowDom.forceReactRender(),this.refs.accShadowDom.reactView.addAccEl(t,e)):this.refs.accShadowDom.addAccEl(t,e)}},retainShadowFocus:function(t,e){var i=this;DS.flagManager.dropInAcc?this.htmlReady((function(){i.refs.accShadowDom.retainShadowFocus(t,e)})):DS.flagManager.dropInCore?this.refs.accShadowDom.reactView.retainShadowFocus(t,e):this.refs.accShadowDom.retainShadowFocus(t,e)},getCurrentShadowFocus:function(){return DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc?this.refs.accShadowDom.reactView.getCurrentShadowFocus():this.refs.accShadowDom.getCurrentShadowFocus()},updateWindowId:function(t){this.props.model.windowId=t||this.props.slideContainer&&this.props.slideContainer.props.windowId},triggerClickOutside:function(t,e){var i,n=this.props.model,r=n.slideLayers(),o=S.partial(I,t,e),s=r.activeLayers.slice(),a=r.prevLayers,l=!1;(null==a||S.isEqual(s,a))&&(i=s.reverse().reduce((function(t,e){return l||(l=!!e.modal(),t.push(e)),t}),[]),l||o(n),i.forEach(o)),r.prevLayers=void 0},onStoreMouseLoc:function(t){var e=d.globalPtToLocal(this,t.clientX,t.clientY);this.mouseX=e.x,this.mouseY=e.y,DS.mouseX=e.x,DS.mouseY=e.y},calcMouseLoc:function(t,e){var i=this.el.getBoundingClientRect(),n=t-i.left,r=e-i.top,o=this.props.model.calculateTotalScale();return{x:n*o,y:r*o,slideRect:i,scale:o}},onStoreTouchLoc:function(t){1===t.touches.length&&this.onStoreMouseLoc(t.touches[0])},getObjectUnderPoint:function(t,e){var i,n,o=this.props.model.slideLayers(),s=[].concat(r(o.activeLayers.reverse()),[o.getBaseLayer()]),a=function r(o){var s=n+o.layerDepth;if(null==i||i.depth<s){var a=o.currView;if(null!=a){var l=a.el.getBoundingClientRect(),c=l.top,u=l.left,h=l.bottom,d=l.right;t>=u&&t<=d&&e>=c&&e<=h&&(i={view:a,depth:s})}}null!=o.objects&&o.objects().forEach((function(t){r(t)}))};return s.forEach((function(t){n=t.startDepth,r(t.objects()).reverse().forEach(a)})),null!=i?i.view:null},resetQuestionCorrectVariable:function(){var t=DS.playerGlobals.presentation.playerVars&&DS.playerGlobals.presentation.playerVars()?DS.playerGlobals.presentation.playerVars().variables().get("questionCorrect"):null;null!=t&&t.value(!1)},publishSlideStarted:function(){this.props.model.trigger("started"),w.trigger(E.slide.STARTED,C.stripPlayer(this.props.model.absoluteId),this.props.model,this.props.windowId),this.props.onSlideStarted()},onCtxMenu:function(t){t.preventDefault()},getSlideObjectViews:function(t,e){var i;return t=t||"",e=e||0,i=this.refs["layer"+e].findAllComponents("SlideObject"),""!==t?i.filter((function(e){return e.props.model.kind()===t})):i},onSlideDrawExit:function(){this.props.model.storeInteractionResults()},killSlide:function(){null!=this.props.killSlide&&this.props.killSlide()},onKeyDown:function(t){var e=this.props.model,i=e.slideLayers().getTopMostLayer()||e.getBaseLayer(),n=e.slideLayers().activeLayers.slice(0);window.requestAnimationFrame((function(){x.executeKeypressEvent(i,t,n)}))}});return DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc?f(A):A}.call(e,i,e,t))||(t.exports=n)},7155:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=(i(281),i(5722));DS.flagManager.dropInBase&&(e=DS.DropIn);var o=e.createClass({displayName:"SlideBackground",mixins:[DS.flagManager.dropInBase?n.dropIn:n],patternFillId:function(){return"pattern-fill-"+this.props.layerModel.id}});return DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?r(o):o}.call(e,i,e,t))||(t.exports=n)},8132:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(2577),r=i(9526),o=DS,s=o._,a=o.vow,l=o.detection,c=o.events,u=(o.utils,o.pubSub),h=o.slideObjectUtils,d=o.scaler,p=function(t){t.target.scrollTop=0,t.target.scrollLeft=0};return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"SlideContainer",dropInSettings:{useSpecificSetState:!0},mixins:[DS.flagManager.dropInAcc?r.dropIn:r],subscriptions:(e={},e[c.mobile.ENTER_THUMB_VIEW]="onEnterThumbView",e[c.mobile.EXIT_THUMB_VIEW]="onExitThumbView",e[c.sidebar.RESIZING]="onResize",l.deviceView.isClassicDesktop||!window.globals.HAS_FRAME?e[c.window.SCALE]="onWindowScale":e[c.frame.SCALE]="onWindowScale",e[c.frame.RESIZE]="onWindowScale",e[c.window.AFTER_SCALE]="onResize",e),getInitialState:function(){return{slides:[],loadContainerStyleAttr:{},scale:this.props.getWinScale()}},componentWillMount:function(){this.firstLoad=!0},componentDidMount:function(){this.thumbView=!1},componentWillUnmount:function(){this.findAll(".slide-transition-container").forEach((function(t){t.removeEventListener("scroll",p)}))},resize:function(){null!=this.curSlide&&this.positionSlide(this.curSlide)},onResize:function(){this.resize(),l.env.isMobilePreview&&(clearInterval(this.previewTimeout),this.previewTimeout=setTimeout(this.resize,500))},onEnterThumbView:function(){this.thumbView=!0,this.positionSlide(this.curSlide)},onExitThumbView:function(){this.thumbView=!1,this.positionSlide(this.curSlide)},addSlideEvents:function(t){return t.on("pinchzoom",this.onPinchZoom),this},removeSlideEvents:function(t){return this.prevSlide.killPinchZoom(),t.off("pinchzoom",this.onPinchZoom),this},componentWillUpdate:function(t){t.currentSlide===this.props.currentSlide||this.isShowingMovedSlide||(this.el.contains(document.activeElement)&&(document.activeElement.focus=s.noop),this.slideScale=t.scale,this.updateInnerSlides(t.currentSlide)),(l.device.isMobile||l.theme.isUnified)&&d.setWindowScale(this.state.scale)},componentDidUpdate:function(t,e){var i,n=["xOff","yOff","scale"];if(s.isEqual(s.pick(e,n),s.pick(this.state,n))||u.trigger(c.slideContainer.POSITIONED),!s.isEqual(e.slides,this.state.slides)){if(s.intersection(Object.keys(this.refs),s.map(this.state.slides,"absoluteId")).length!==this.state.slides.length)return;(i=0===this.state.slides.length?null:this.refs[s.last(this.state.slides).absoluteId])!==this.curSlide&&(this.prevSlide=this.curSlide,this.curSlide=i,null!=this.curSlide&&(this.curSlide.el.parentNode.addEventListener("scroll",p),this.curSlide.slideScale=this.slideScale,this.addSlideEvents(this.curSlide),this.positionSlide(this.curSlide),null!=this.prevSlide&&(this.prevSlide.el.parentNode.removeEventListener("scroll",p),this.removeSlideEvents(this.prevSlide),this.curSlide.setPrevSlide(this.prevSlide)),this.curSlideDfd.resolve(this.curSlide)))}},stateableValuesUpdated:function(){this.htmlReady(this.onResize)},updateInnerSlides:function(t){return this.curSlideDfd=a.Deferred(),this.setState((function(e){return{slides:s(e.slides).without(t).push(t).value(),overflowHide:l.deviceView.isMobile}})),this},getCurSlidePromise:function(){return this.curSlideDfd=this.curSlideDfd||a.Deferred(),this.curSlideDfd.promise()},rebuildCurSlide:function(){return this.updateInnerSlides(this.props.currentSlide),this},transitionComplete:function(){this.setState({overflowHide:!1}),this.firstLoad&&(h.removeEngageBorder(),this.setLoaderStyle()),this.firstLoad=!1},killSlide:function(t){this.setState((function(e){return{slides:s.without(e.slides,t)}}))},positionSlide:function(t){if(!this.props.shouldScale||this.props.shouldScale()){var e=t.props.model,i={xOff:0,yOff:0,scale:this.state.scale};e.parentTransform=i}},onPinchZoom:function(t){this.props.onPinchZoom(t)},getWrapperDimensions:function(){return null!=this.props.getWrapperDimensions?this.props.getWrapperDimensions():{width:document.body.clientWidth,height:document.body.clientHeight}},prepareToUpdateSlide:function(t){return this.isShowingMovedSlide=t,this},replaceSlideWith:function(t){return l.deviceView.isMobile&&(t.killPinchZoom(),t.initPinchZoom(this.props.lightboxed?this:null)),t.props.slideContainer.killSlide(t.props.model),this.updateInnerSlides(t.props.model),this.props.lightboxed&&this.props.lightbox.updateSizeCalculations(t.props.model),this},setLoaderStyle:function(t){t=t||{},this.setState({loadContainerStyleAttr:t})},onWindowScale:function(){this.setState({scale:this.props.getWinScale()}),this.forceUpdate(),u.trigger(DS.events.loader.HIDE)}})}.call(e,i,e,t))||(t.exports=n)},486:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(8453),o=DS.windowManager,s=DS.animationClock,a=DS.detection,l=DS.resolver,c=DS.pubSub,u=DS.utils,h=DS.events,d=DS.vow,p=a.deviceView.isMobile?500:0;return e.createClass({displayName:"SlideFrameSlideObject",mixins:[n,r],shortEvents:{model:{"show showcustom":"onShow","hide hidecustom":"onHide"}},getInitialState:function(){return{slideModel:null}},componentWillMount:function(){!1===this.props.model.get("scalecontents")&&(this.props.parent.animationOverride={scale:this.applyScale,adjustProps:this.adjustProps,update:this.animationUpdate})},animationUpdate:function(t){this.applyScale(t)},adjustProps:function(t){return t.ScaleX=100,t.ScaleY=100,t},applyScale:function(t){this.el.style.width=u.pxify(this.props.playerProps.width*u.pctToDec(t.ScaleX)),this.el.style.height=u.pxify(this.props.playerProps.height*u.pctToDec(t.ScaleY))},onShow:function(){var t,e,i;null==this.readyPromise&&(t=this.props.model.get("startingslide"),e=l.resolvePath(t),i=d.Deferred(),this.startedDfd=d.Deferred(),this.readyPromise=d.when(this.startedDfd,i),e.on(h.slide.CURRENT_TIMELINE,i.resolve),null==this.lockId&&(this.lockId=s.lock()),c.trigger(h.loader.SILENCE),this.loadChildSlide(),c.trigger(h.loader.SHOW,p)),this.readyPromise.then(function(){var t=this.state.slideModel;t.resetBeforeView().restart().setAsViewed(),c.trigger(h.timeline.CURRENT_TIMELINE,t.currentTimeline())}.bind(this))},onHide:function(){null!=this.readyPromise&&this.readyPromise.then(function(){var t=this.state.slideModel.currentTimeline();null!=t&&t.pause()}.bind(this))},loadChildSlide:function(){var t=this.props.model.get("startingslide");o.loadSlide(t,function(t){this.setState({slideModel:t})}.bind(this),!0)},onSlideStarted:function(){var t=this.lockId;this.lockId=null,s.unlock(t),this.startedDfd.resolve()}})}.call(e,i,e,t))||(t.exports=n)},3326:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(2577),r=i(9526),o=i(3091),s=i(5108),a=i(7380),l=(i(5722),DS._),c=DS.utils,u=DS.pubSub,h=DS.events,d=DS.windowManager,p=function(t){t.target.scrollTop=0,t.target.scrollLeft=0},f=!window.globals.HAS_FRAME;return DS.flagManager.dropInCore&&(n=DS.DropIn),n.createClass({displayName:"SlideLayer",initialVisibility:!1,mixins:[DS.flagManager.dropInCore?r.dropIn:r,a,o,s],dropInSettings:{useSpecificSetState:!0},subscriptions:(e={},e[h.slide.WILL_CHANGE]="onSlideWillChange",e),shortEvents:{model:{shown:"onShow",hidden:"onHide",showcustom:"onShowCustom",cancelTransition:"onCancelTransition",adjustTabIndexForModal:"onAdjustTabIndexForModal"}},componentDidMount:function(){var t=this;this.toggleVisibility(!!this.isBaseLayer()),this.listenToDepth().setInitModelProps(),this.el.addEventListener("scroll",p),window.requestAnimationFrame((function(){"dialog"===t.props.model.get("presentAs")&&null!=t.addAccEl&&t.addAccEl()}))},componentWillUnmount:function(){this.props.model.isShowable=!1,this.props.model.shownInCurrentView=!1,this.props.model.isOpen=!1,this.el.removeEventListener("scroll",p)},shouldUpdate:function(t,e){return e.isVisible!==this.state.isVisible||e.audio!==this.state.audio||e.depth!==this.state.depth||e.tabIndexDisabled!==this.state.tabIndexDisabled||t.winScale!==this.props.winScale},getInitialState:function(){return{depth:0,audio:!0,renderChildren:this.isBaseLayer()}},onSlideWillChange:function(t,e,i){var n=c.stripPlayer(this.props.model.getClosestAncestorByKind("slide").absoluteId),r=c.stripPlayer(t.absoluteId),o=c.stripPlayer(e.absoluteId);i?l(this.refs).filter((function(t,e){return l.startsWith(e,"audio")})).invokeMap("pause").commit():n===r&&n!==o&&this.setState({audio:!1})},isBaseLayer:function(){return this.props.model.isBaseLayer()},updateSlideResume:function(){f||d.getCurrentWindowSlide().prepareResumeData({retainState:!0})},onShow:function(){this.setState({isVisible:!0,renderChildren:!0},function(){this.props.model.get("timeline").play(),u.trigger(h.layer.PLAYING),DS.flagManager.dropInCore&&this.forceUpdate(),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin"),this.adjustTabbables(!0).execSlideStart(),u.trigger(h.layer.HIDE_OR_SHOW),this.updateSlideResume()}.bind(this))},onShowCustom:function(t,e,i,n){this.props.model;var r=function(t){n(),this.props.model.get("timeline").play(),u.trigger(h.layer.PLAYING),this.adjustTabbables(!0),u.trigger(h.layer.HIDE_OR_SHOW),t||this.execSlideStart()}.bind(this);this.setState({isVisible:!0,renderChildren:!0},function(){this.transitionIn(i,r),this.updateTrueVisibility(!0),this.props.model.executePlayerEvent("ontransitionin"),this.updateSlideResume()}.bind(this))},onCancelTransition:function(){this.cancelTransition()},onHide:function(){DS.flagManager.dropInCore&&this.forceUpdate(),this.props.model.get("timeline").pause(!0),this.hide(),this.updateTrueVisibility(!1),this.adjustTabbables(),u.trigger(h.layer.HIDE_OR_SHOW),this.props.model.executePlayerEvent("ontransitionout")},onAdjustTabIndexForModal:function(t){this.setState({tabIndexDisabled:t.disable})},adjustTabbables:function(t){this.props.model;return this},execSlideStart:function(){var t=this;this.props.model.executePlayerEvent("onslidestart"),window.requestAnimationFrame((function(){t.props.retainShadowFocus(t.props.model.modal()||t.props.model.hideAllObjectsOnDisplay(),!0)}))},listenToDepth:function(){return this.setState({depth:this.props.model.depth()}),this.listenTo(this.props.model,"change:depth",function(t,e){this.setState({depth:e})}.bind(this)),this},setInitModelProps:function(){return this.props.model.createObjectIndex(),this},addAccEl:function(){this.props.addAccEl&&"dialog"===this.props.model.get("presentAs")&&this.props.addAccEl(this.props.model)}})}.call(e,i,e,t))||(t.exports=n)},6844:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2817),n=i(7697),o=i(7133),s=i(4455),a=i(9526),l=i(3091),c=i(2577),u=i(7859),h=i(1958),d=i(9924),p=i(6536),f=i(23),g=DS,m=g._,v=g.windowManager,S=g.detection,y=g.dom,b=g.pubSub,w=g.events,x=g.utils,D=g.svgUtils,C=g.TransMatrix,E=g.vendorOverrides,P=g.focusManager,T=g.TweenLite,I=g.localizationManager,A={VectorSlideObject:i(4977),ButtonSlideObject:i(4516),PlaceHolderSlideObject:i(7905),GroupingSlideObject:i(4531),StateGroupSlideObject:i(384),ImageSlideObject:i(5801),WebObjectSlideObject:i(6737),ScrollAreaSlideObject:i(6568),ExpandingLabelSlideObject:i(698),DropareaSlideObject:i(2584),DragitemSlideObject:i(2183),TextInputSlideObject:i(729),VideoSlideObject:i(4427),DropListSlideObject:i(4307),SequenceCtrlSlideObject:i(9540),SlideFrameSlideObject:i(486),ThreeSixtyImageSlideObject:i(4922),SvgImageSlideObject:i(9269)},L=/\n/g,M={vectorshape:"Vector",button:"Button",objgroup:"Grouping",table:"Grouping",shufflegroup:"Grouping",image:"Image",webobject:"WebObject",stategroup:"StateGroup",scrollarea:"ScrollArea",expandinglabel:"ExpandingLabel",textinput:"TextInput",droparea:"Droparea",dragitem:"Dragitem",video:"Video",droplist:"DropList",sequencectrl:"SequenceCtrl",slideframe:"SlideFrame",threesixtyimage:"ThreeSixtyImage",svgimage:"SvgImage"},k={vectorshape:"vectorData.altText",scrollarea:"vectorData.altText",video:"videodata.altText",droplist:"textdata.altText",button:"textdata.altText",expandinglabel:"vectorData.altText",image:"imagedata.altText",svgimage:"imagedata.altText",threesixtyimage:"imagedata.altText"},R=["release","press","doubleclick","rightrelease","rightpress"],V=["releaseoutside","rollover","rollout"],O=E.handleWillChange||m.noop,_={image:"img",radio:"radio",checkbox:"checkbox",button:"button",slider:"slider",dial:"slider"},N={button:"button"},j=function(t){return m.map(t.events(),"kind").map(B)},B=function(t){return t.replace(/^on/,"")},F=function(t,e){var i=t.currView,n=null==i||null==i.tweenedConfig?function(t){var e=t.getPlayerPropsRaw();return e.ScaleX/=100,e.ScaleY/=100,(new C).adjustByViewProps(e)}(t):e?i.tweenedConfig.matrix.copy():i.tweenedConfig.matrix;return n};DS.flagManager.dropInCore&&(c=DS.DropIn);var H=c.createClass({displayName:"SlideObject",initialVisibility:!1,mixins:[DS.flagManager.dropInCore?a.dropIn:a,e,n,s,l],shortEvents:{model:{show:"showObject",hidden:"hideObject",getMousePosition:"updateMousePosition",moveTo:"moveTo",shown:"updateDecorators"}},getInitialState:function(){return DS.flagManager.multiLangSupport?{currLangCode:I.getCurrentLangCode()}:{}},componentWillMount:function(){var t,e,i,n,r,o=this;this.key=m.uniqueId("slideobject"),this.isObscurable=this.props.model.isObscurableBySelf(),this.latestEvent=null,this.innardConfigs={vectorshape:{textHit:m.partial(this.textEvent,"onlinkrelease"),textOver:m.partial(this.textEvent,"onlinkrollover"),textOut:m.partial(this.textEvent,"onlinkrollout")}},this.innardConfigs.expandinglabel=this.innardConfigs.vectorshape,this.parentSlide=null===(t=this.props)||void 0===t||null===(e=t.model)||void 0===e||null===(i=e.parent)||void 0===i?void 0:i.parent,n=A[(r=this.props.model,(M[r.kind()]||"PlaceHolder")+"SlideObject")],this.slideObjectInnard=n,this.setupVariableRefs(),this.setupShapeMask(),DS.flagManager.multiLangSupport&&this.props.model.hasLocalizedText()&&(this.removeLocalizationListener=b.addListener(w.localization.LANGUAGE_UPDATED,(function(t){o.setState({currLangCode:t})}))),DS.flagManager.aiCourseTranslation&&(this.removeReviewListener=b.addListener(w.localization.REVIEW_STRING_UPDATED,(function(t){o.setState({stringRev:t})}))),DS.flagManager.dropInAcc&&"video"===this.props.model.kind()&&(this.dropInSkipBatching=function(t){return null!=t.OnStage}),S.theme.isClassic||S.env.isPerpetual||"video"!==this.props.model.kind()||!x.fullScreen.isSupported()||(this.removeFullScreenListener=x.fullScreen.addChangeListener(this.handleFullScreenChange))},storeObjectByName:function(){var t=this.props.model.get("referenceName");if(null!=t){var e=x.getPath(this,"props.parent.props.model"),i=null!=e&&"stategroup"===e.kind();H.objectsByName[t]=i?this.props.parent:this,H.objectsByName["layer".concat(this.props.layerIdx,"/").concat(t)]=i?this.props.parent:this,null==H.objectsByName[this.parentSlide.id]&&(H.objectsByName[this.parentSlide.id]={}),H.objectsByName[this.parentSlide.id][t]=!0}},clearObjectByName:function(){var t,e,i=this.props.model.get("referenceName");null!=i&&(null!=H&&null!==(t=H.objectsByName)&&void 0!==t&&null!==(e=t[this.parentSlide.id])&&void 0!==e&&e[i]||(delete H.objectsByName[i],delete H.objectsByName["layer".concat(this.props.layerIdx,"/").concat(i)]))},componentDidMount:function(){this.getAllRefs().registerEvents(),this.storeObjectByName(),this.getPlayerProp("MouseOver")&&!this.isMousedOver()&&(this.triggerEvent({type:"rollout"}),this.setPlayerProp("MouseOver",!1)),this.renderShapeMask(),null!=this.addAccEl&&this.addAccEl(),"swirl"===this.props.model.get("markerType")&&(this.markerAnimationTween=T.to(this.refs.markerAnimation,.6,{rotation:360,ease:"none",onComplete:function(){this.markerAnimationTween.restart()}.bind(this)})),this.clearShowFns(),this.htmlReady(this.whenHtmlReady)},whenHtmlReady:function(){this.trulyVisible!==this.getPlayerProp("OnStage")&&this.updateTrueVisibility()},componentWillUpdate:function(t,e){this.state.ObjectState!==e.ObjectState&&this.compareStateAspects(e)&&(this.key=m.uniqueId("slideobject")),(this.state.ObjectState!==e.ObjectState||this.state.currLangCode!==e.currLangCode&&this.localizedAltText)&&(DS.flagManager.dropInCore?this.htmlReady(this.setupVariableRefs):this.setupVariableRefs())},componentDidUpdate:function(t,e){var i=this;this.renderShapeMask(),e.RawXPos===this.state.RawXPos&&e.RawYPos===this.state.RawYPos||f.setMatrixDirty(this),null!=this.accShadowView&&(DS.flagManager.dropInVectors&&!DS.flagManager.dropInCore?requestAnimationFrame((function(){i.accShadowView.onStateChanged(e,i.state)})):this.accShadowView.onStateChanged(e,this.state))},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges(),this.clearObjectByName(),this.allRefs=null,null!=this.shapeMask&&(this.shapeMask.off(w.tween.UPDATE,this.renderShapeMask),this.props.model.off(w.tween.UPDATE,this.renderShapeMask)),null!=this.markerAnimationTween&&this.markerAnimationTween.kill(),null!=this.removeFullScreenListener&&this.removeFullScreenListener(),null!=this.removeReviewListener&&this.removeReviewListener(),null!=this.removeLocalizationListener&&this.removeLocalizationListener()},handleFullScreenChange:function(){this.setState({fullScreen:this.el.contains(x.fullScreen.getEl())})},compareStateAspects:function(t){var e,i,n=!1;return(this.props.model.imagelib()||[]).length>0&&(e=(this.props.model.getCurrentStateData()||{}).html5data||{},null!=(i=(this.props.model.getStateFromName(t.ObjectState)||{}).html5data||{}).height&&null!=i.width&&null!=e.height&&null!=e.width&&(n=i.height/i.width!=e.height/e.width)),n},getInnardConfigs:function(){return m.extend({ref:"innard",key:this.key,model:this.props.model,parent:this,playerProps:this.state,setPlayerProp:this.setPlayerProp,onScrollFocus:this.props.onScrollFocus,onBeforeScrollFocus:this.props.onBeforeScrollFocus,isInnard:!0,tabIndexDisabled:this.props.tabIndexDisabled,winScale:this.props.winScale,slideFrame:this.props.slideFrame,checkElso:this.props.checkElso,slideVisible:!!this.props.slideVisible,onElsoAction:this.props.onElsoAction,addAccEl:this.props.addAccEl},this.innardConfigs[this.props.model.kind()]||{},this.props.topOffset?{topOffset:this.props.topOffset}:{})},getAllRefs:function(){var t=this.findAllComponents("SlideObject");return this.allRefs=m.reject(t,(function(t){return t.props.model.isGroupingSlideObject})).map((function(t){return t.props.model})),this},registerEvents:function(){var t=this.getRegisterableEvents();return m.forEach(t,function(t){this.registerEvent(t,this.triggerEvent)}.bind(this)),h.registerCollisions(this.props.model),this},setupVariableRefs:function(){var t,e,i=this.props.model.kind(),n=k[i],r="".concat(n,"OverridesText");if(null!=n){var o=this.props.model.getCurrentStateData(),s=x.getPath(o,n);if(DS.flagManager.multiLangSupport){var a="".concat(n,"L10nRef"),l=x.getPath(o,a);this.localizedAltText=null!=s,s=I.getStringFromRef(l)||s}this.accessibleTextTemplate=s,e=x.getPath(o,r)}else if("textinput"===i){var c=x.getPath(this,"props.model.background");if(null!=c){var u=x.getPath(c,"vectorData.altText");if(DS.flagManager.multiLangSupport){var h=x.getPath(c,"vectorData.altTextL10nRef");this.localizedAltText=null!=u,u=I.getStringFromRef(h)||u}this.accessibleTextTemplate=u,e=x.getPath(c,"vectorData.altTextOverridesText")}}else{var p=this.props.model.get("altText");if(DS.flagManager.multiLangSupport){var f=this.props.model.get("altTextL10nRef");this.localizedAltText=null!=p,p=I.getStringFromRef(f)||p}this.accessibleTextTemplate=p,e=this.props.model.get("altTextOverridesText")}this.setState({altTextOverridesText:e}),t=d.parseTemplate(this.accessibleTextTemplate),this.updateVarText=t.updateString,this.updateAccessibleText(),this.stopListeningToVarChanges=t.addListeners(this.props.model,this.updateAccessibleText)},setupShapeMask:function(){var t=this.shapeMask=this.props.model.getShapeMask();return null!=t&&(t.isShapeMask=!0,this.props.model.isShapeMasked=!0,t.on(w.tween.UPDATE,this.renderShapeMask),this.props.model.on(w.tween.UPDATE,this.renderShapeMask)),this},renderShapeMask:function(){if(null!=this.shapeMask){var t=F(this.shapeMask),e=F(this.props.model,!0);this.applyShapeMask(t,e)}return this},applyShapeMask:function(t,e){var i=e.invert().append(t),n=this.shapeMask,r=n.prop("width"),o=n.prop("height"),s=i.transform(0,0),a=i.transform(r,o),l=[s.y,a.x,a.y,s.x].map(x.pxify);return null!=this.el&&(this.el.style.clip=["rect(",l.join(","),")"].join("")),this},updateDecorators:function(){this.callLifeCycleEvent("onAfterShow")},moveTo:function(t,e){this.setPlayerProp({RawXPos:t,RawYPos:e})},updateMousePosition:function(t){var e=v.getCurrentWindow().getCurSlide();this.props.model.adjustVariables({name:t.xvar.value,value:e.mouseX},{name:t.yvar.value,value:e.mouseY})},updateFromTween:function(){var t;return null!=this.tweenedConfig&&(t=null!=this.animationOverride?this.animationOverride.adjustProps(m.clone(this.tweenedConfig.props)):this.tweenedConfig.props,null!=this.decorators.draggable&&this.decorators.draggable.updateAfterTween(m.pick(t,"RawXPos","RawYPos")),this.setPlayerProp(t)),this},applyStylesDirectly:function(){m.extend(this.el.style,this.getStyles())},showObject:function(){this.updateTrueVisibility(!0),this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&u.transformUpdated(this,!0)}.bind(this))},hideObject:function(){this.htmlReady(function(){this.props.hideShowCallback&&this.props.hideShowCallback(),this.isMounted()&&u.transformUpdated(this,!0)}.bind(this)),this.updateTrueVisibility(!1)},getRegisterableEvents:function(){var t=m.intersection(m.keys(o),j(this.props.model)),e=m.includes(t,"rollover");return e!==m.includes(t,"rollout")&&(e?t.push("rollout"):(t.push("rollover"),e=!0)),e&&(t=m(t).without("rollover").unshift("rollover").value()),t},shouldFireEvent:function(t,e){var i=!0,n=!0,r=this.refs.innard;return"rollover"===t&&(n=!this.isHover),"rollout"===t&&(n=this.isHover),null!=r&&m.isFunction(r.isClickDefAllowed)&&(i=r.isClickDefAllowed(e.target,t)),!this.dragging&&i&&n&&(!m.includes(V,t)||this.latestEvent!==t)},triggerEvent:function(t){var e,i=t.type;if(this.state.Enabled&&((e=t.origEvent)||(e=t),this.shouldFireEvent(i,e))){if(DS.connection.useConnectionMessages&&document.body.classList.contains("is-offline"))return void("press"===i&&DS.connection.highlighWarning());"rollover"===i&&(this.setPlayerProp("MouseOver",!0),this.isHover=!0),"press"===i&&S.device.isMobile&&this.el.focus(),this.latestEvent=i,this.props.model.executePlayerEvent("on"+i),"rollout"===i&&(this.setPlayerProp("MouseOver",!1),this.isHover=!1)}},cursorByType:function(){var t=this.props.model;return t.isDraggable()||t.isZoomable()||t.isWebObject()||t.isSlideable()},showCursor:function(){return!this.props.model.isCorrectIncorrectReview()&&!1!==this.props.model.get("useHandCursor")&&(!m(R).intersection(j(this.props.model)).isEmpty()||this.cursorByType())},cursorClass:function(){return this.state.Enabled?this.showCursor()?"cursor-hover":"":"cursor-default"},textEvent:function(t,e){this.props.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)},getDepth:function(){var t=this.props.model;return t.isKind("shufflegroup")?null:t.prop("depth")},getRotation:function(){return null!=this.tweenedConfig?this.tweenedConfig.props.Rotation:this.props.model.get("rotation")},getPosition:function(){return null!=this.tweenedConfig?{x:this.tweenedConfig.props.RawXPos,y:this.tweenedConfig.props.RawYPos}:{x:this.props.model.playerProps.get("RawXPos"),y:this.props.model.playerProps.get("RawYPos")}},getStyles:function(){var t,e=this.props.winScale,i=(this.getGlobalRotation(),{xPos:"xOffset",yPos:"yOffset"}),n=this.props.model.getCurrentStateData(),r=null!=n&&null!=n.html5data,o=this.props.model.get("cliptobounds"),s=this.props.model.hasVarText(),a=function(t){return!r||o||s?this.getPath("props.model."+(i[t]||t)):n.html5data[t]}.bind(this);return t={zIndex:this.getDepth(),width:a("width")*e,height:a("height")*e,opacity:x.pctToDec(this.state.Alpha)},o&&(t.overflow="hidden"),this.props.model.isKind("shufflegroup")||(t[this.cssTransformOrigin]=[this.state.rotateXPos*e,"px ",this.state.rotateYPos*e,"px"].join(""),t[this.cssTransform]=this.getPositioningTransform()),this.props.model.isTweenable()&&O(t),t},getPositioningTransform:function(){var t=this.state,e=t.RawXPos,i=t.RawYPos,n=t.Rotation,r=t.ScaleX,o=t.ScaleY,s=this.getGlobalRotation(),a=this.props.winScale,l=0!==s&&r!==o,c=function(t){return x.pxify(Math.round(t*a))};return m.compact([D.transformTranslate(c(e),c(i)),D.transformRotate(n+"deg"),l?D.transformRotate(-s+"deg"):"",D.transformScale(r/100,o/100),l?D.transformRotate(s+"deg"):"",this.getTransformZ()]).join(" ")},getGlobalRotation:function(){for(var t=this.props.model,e=0;t;)t.isSlideObject&&(e+=t.playerProps.get("Rotation")),t=t.parent;return e},getTransformZ:function(){var t=this.props.model.getSlide();return!S.browser.isChrome||null==t||t.hasVideoAssets()&&t.hasZoomRegion()?E.transformZ:""},hasElsoMethod:function(){return m.isFunction(this.props.checkElso)},getTargetModeTextInfo:function(t,e){var i=this.refs.innard;return null!=i.getTargetModeTextInfo?i.getTargetModeTextInfo(t,e):{targetEl:this.el,textId:this.props.model.lastRenderedTextId}},getTextItemEl:function(t){var e=this.refs.innard;return null!=e.getTextItemEl?e.getTextItemEl(t):this.el},getAccessibleText:function(){return(this.state.accessibleText||"").replace(L," ")},updateAccessibleText:function(){this.setState({accessibleText:this.updateVarText(this.props.model)})},getAriaRole:function(){var t=this.props.model.get("accType"),e=_[t];return null!=e?e:N[this.props.model.kind()]||null},isAccTypeText:function(){return"text"===this.props.model.get("accType")},getAriaLabel:function(){return this.isAccTypeText()?null:this.getAccessibleText()||""},getIsAriaChecked:function(){var t=this.getAriaRole(),e=this.props.model.getCurrentStateData();return"radio"!==t&&"checkbox"!==t||null==e?null:(16&e.accState)>0},isFocusable:function(){var t=this.props.model,e=t.get("tabEnabled"),i=t.prop("tabIndex"),n=t.isKind("slideframe");return e&&i>=0&&!n},getTabIndex:function(){return this.props.model.get("tabEnabled")&&!this.props.tabIndexDisabled&&"textinput"!==this.props.model.kind()?"0":"-1"},getFocusTarget:function(){var t=this.refs.innard;return this.isFocusable()?this:null!=t.getFocusTarget?t.getFocusTarget():void 0},getLayer:function(){return this.parentLayer=this.parentLayer||y.closest(this.el,(function(t){return t.classList.contains("slide-layer")})),this.parentLayer},isMousedOver:function(){var t=this.el.getBoundingClientRect();return x.pointInRect(y.mouseX,y.mouseY,[[t.left,t.top],[t.width,t.height]])},clearShowFns:function(){var t,e=this.props.model;if(!m.isEmpty(e.showFns))for(;t=e.showFns.shift();)t.call(e)},updateFocus:function(){var t=this.props.model,e=t.getLayer().currView,i=this.el.getBoundingClientRect();if(t.isSlideable()){var n=r(p.getGlobalBounds(this),4);i={left:n[0],top:n[1],right:n[2],bottom:n[3]}}var o=x.getRectIntersection(i,e.el.getBoundingClientRect());o&&P.setFocusRectOn(this.el,o)},onMouseUp:function(t){this.giveAccFocus(t)},addAccEl:function(){this.props.addAccEl&&this.props.addAccEl(this.props.model)},giveAccFocus:function(t){null!=this.accShadowView&&(this.accShadowView.takeFocus(),null!=t&&t.stopPropagation())}});return H.objectsByName={},H}.call(e,i,e,t))||(t.exports=n)},1739:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(4360),o=(DS._,DS.pubSub),s=DS.events,a=DS.scaler,l=DS.constants;return i(8132),DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"SlideWindow",mixins:[DS.flagManager.dropInAcc?n.dropIn:n,r],getInitialState:function(){return{winScale:window.globals.HAS_FRAME?1:a.getScale()}},componentDidMount:function(){var t=this;window.globals.HAS_FRAME||o.on(s.window.SCALE,(function(){t.setState({winScale:a.getScale()})}))},getBackground:function(){var t=this.state.currentSlide;return null==t?null:t.get("slidewindowbg")},close:function(t){o.trigger(s.window.CLOSING,this.getPath("props.model.id"))},componentWillUpdate:function(t,e){e.currentSlide&&(o.trigger(s.loader.MUTE),this.props.id===l.refs.FRAME&&o.trigger(s.window.MAIN_CHANGED,e.currentSlide,this.props.id))}})}.call(e,i,e,t))||(t.exports=n)},231:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(107),r=i(9526),o=i(447),s=DS.utils,a={swf:"renderAsset",vector:"renderVector"};return DS.flagManager.dropInCore&&(e=DS.DropIn),e.createClass({displayName:"SlideWindowBackground",mixins:[DS.flagManager.dropInCore?r.dropIn:r],template:function(){return this[a[this.props.bg.type]]()},renderVector:function(){return e.createElement(o,{vectorData:this.props.bg.vectorData})},renderAsset:function(){return e.DOM.div({className:"slide-window-background-asset",style:{backgroundImage:s.toCssUrl(n.getAssetUrl(this.props.bg.imagedata.assetId))}})}})}.call(e,i,e,t))||(t.exports=n)},384:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=DS._,o=(DS.keyManager,DS.resolver),s=DS.slideObjectUtils,a=DS.dom,l=DS.detection;return DS.flagManager.dropInCore&&(n=DS.DropIn),n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"StateGroupSlideObject",getAllRefs:function(){var t=this.findAllComponents("SlideObject");return this.allRefs=r.reject(t,(function(t){return t.props.model.isGroupingSlideObject})).map((function(t){return t.props.model})),this},getElso:function(){return r.find(this.refs,(function(t){return t.props.model.isKind("expandinglabel")}))},isExpanded:function(){return this.getElso().getPlayerProp("Expanded")},checkElso:function(){return this.props.model.getIsExpandingLabel()},onElsoAction:function(t,e){if(!t||null==e||null!=e.props.model.get("markerType")){var i=t?"toggleComplete":"hideComplete";(t||this.isExpanded())&&this.getElso().refs.innard[i]()}},isClickDefAllowed:function(t,e){var i,n,s=this.props.model.getClickDef(),c=a.closest(t,a.isSlideObject);return l.deviceView.isMobile&&null==c&&(t=document.elementFromPoint(a.mouseX,a.mouseY))&&this.el.contains(t)&&(c=a.closest(t,a.isSlideObject)),function t(e){return r.some(e,(function(e){var i=!1;return!(e instanceof window.Node)&&e.props.model&&e.props.model.isSlideObject&&(e.refs&&(i=t(e.refs)),e.el===c&&(i=!0,n=e)),!!i}))}(this.refs),null!=n?s.some(function(t){var e=o.getRef(t,this.props.model);return o.resolvePath(e,this.props.model).id===n.props.model.id}.bind(this)):(i=a.closest(this.el,a.isSlideObject))!==c&&"clickoutside"===e?this.props.model.events().some((function(t){return"onclickoutside"===t.kind})):i===c||i!==c&&"releaseoutside"===e},getFocusTarget:function(){return s.getGroupFocusTarget(this)}})}.call(e,i,e,t))||(t.exports=n)},9269:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=(i(2290),i(9526)),r=i(2817),o=i(5722);DS.flagManager.dropInBase&&(e=DS.DropIn,DS.DropInDOM);var s=e.createClass({displayName:"SvgImageSlideObject",mixins:[DS.flagManager.dropInBase?n.dropIn:n,r]});return DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?o(s):s}.call(e,i,e,t))||(t.exports=n)},729:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2817),n=i(8453),r=i(2577),o=i(2290),s=i(9526),a=i(23),l=i(7859),c=i(5722),u=DS,h=u._,d=u.dom,p=u.resolver,f=u.pubSub,g=u.events,m=u.vow,v=u.utils,S=u.svgUtils,y=u.detection,b=u.MicroScrollBar,w=u.globalEventHelper.addBodyListener,x=DS.detection.deviceView.isDesktop&&DS.detection.theme.isUnified,D=["::-webkit-input-placeholder",":-moz-placeholder","::-moz-placeholder",":-ms-input-placeholder"],C=[".","-","-."],E={top:0,center:.5,bottom:1};DS.flagManager.dropInBase&&(r=DS.DropIn,o=DS.DropInDOM);var P,T=r.createClass({dropInSettings:{useLegacySetState:!0},mixins:[DS.flagManager.dropInBase?s.dropIn:s,e,n],displayName:"TextInputSlideObject",shortEvents:{model:(P={},P[g.slideObject.FOCUS]="setFocus",P)},getInitialState:function(){return this.createInitialState()},createInitialState:function(){var t=this.getPath("props.model.bindto");return h.isEmpty(t)||(this.boundVar=p.resolvePath(t)),{inputValue:null!=this.boundVar?this.boundVar.value():this.props.playerProps.Text,placeholderClass:this.getPlaceholderClass()}},componentWillMount:function(){this.ready=m.Deferred(),this.addStyleIfNeeded(this.state.placeholderClass),this.isNumeric=this.getPath("props.model.numeric"),this.isMultiline=!this.isNumeric&&!!this.getPath("props.model.multiline"),null!=this.boundVar&&this.listenTo(this.boundVar,"change variable:refreshView",this.onVarChange)},componentDidMount:function(){var t=this;this.htmlReady((function(){if(t.props.model.needsFocus&&(t.setFocus(),t.props.model.needsFocus=!1),t.ready.resolve(),x&&t.isTextArea()){t.scroller=new b(t.props.parent.accShadowView.refs.input,t.props.model.id,!1,0,!1),t.refs.input.parentNode.appendChild(t.scroller.scrollBar),t.scroller.setEnabled(!0),t.scroller.update();var e=v.getPath(t.props,"parent.accShadowView.refs.input.parentNode");e&&t.scroller.setShowOnlyOnHover(e),t.scroller.onMouseOut()}})),this.updateVerticalAlign(),y.device.isDesktop&&this.initShadowClickability()},setFocus:function(){var t=this;if(DS.flagManager.dropInAcc){if(!document.hasFocus())return;DS.focusManager.focusWhenReady=this.props.model.id}else if(null!=this.props.parent.accShadowView){if(!document.hasFocus())return;this.props.parent.accShadowView.takeFocus()}else window.requestAnimationFrame((function(){document.hasFocus()&&t.props.parent.accShadowView.takeFocus()}))},initShadowClickability:function(){if(!this.props.model.isDraggable()){this.possibleObscurers=[];var t=this.props.model,e=t.getFlattenedDepth();this.possibleObscurers=t.getLayer().objects().filter((function(t){return t.getFlattenedDepth()>e})),this.possibleObscurers.length>0?this.removeBodyListener=w("mousemove",this.checkShadowClickability):t.getSlide().slideLayers().length>1&&(this.removeLayerListener=f.addListener(g.layer.STACKING_CHANGED,this.checkLayerObscures))}},checkLayerObscures:function(){var t=this.props.model;t.getSlide().slideLayers().hasLayerAbove(t.getLayer())?null==this.removeBodyListener&&(this.removeBodyListener=w("mousemove",this.checkShadowClickability)):null!=this.removeBodyListener&&(this.removeBodyListener(),this.removeBodyListener=null)},checkShadowClickability:function(t){var e=this,i=d.mouseX,n=d.mouseY,r=this.props.model,o=r.getLayer(),s=r.getSlide().slideLayers(),c=h.findIndex(s.activeLayers,o),u=a.globalPtToSlideObject(this,i,n),p=function(t){var e=t.currView;if(null!=e&&e.trulyVisible){var r=a.globalPtToSlideObject(e,i,n),o=r.x,s=r.y;return l.containsPoint(e,o,s)}return!1};this.shadowClickable=this.props.parent.trulyVisible&&l.containsPoint(this,u.x,u.y),this.shadowClickable&&(this.shadowClickable=!this.possibleObscurers.some(p),this.shadowClickable&&(this.shadowClickable=!s.activeLayers.some((function(t){return c<h.findIndex(s.activeLayers,t)&&(!!t.modal()||t.objects().some(p))}))));var f=function(){e.isMounted()&&e.props.parent.accShadowView.setClickable(e.shadowClickable)};null==this.props.parent.accShadowView?window.requestAnimationFrame(f):f()},componentDidUpdate:function(t,e){var i=this;this.updateVerticalAlign();var n=function(){var t;h.isEmpty(i.possibleObscurers)&&!i.props.model.isDraggable()&&(null===(t=i.props.parent.accShadowView)||void 0===t||t.setClickable(!0))};if(null!=this.props.parent.accShadowView){n();var r=this.props.parent.accShadowView.getScrollInfo(),o=r.left,s=r.top;this.refs.input.scrollLeft=o,this.refs.input.scrollTop=s,this.props.parent.accShadowView.onStateChanged(e,this.state)}else window.requestAnimationFrame(n)},componentWillUnmount:function(){null!=this.scroller&&this.scroller.teardown(),null!=this.removeBodyListener&&(this.removeBodyListener(),this.removeBodyListener=null),null!=this.removeLayerListener&&(this.removeLayerListener(),this.removeLayerListener=null),this.ready.reject()},getInputStyle:function(t,e){var i=e||this.props.winScale,n=this.getPath("props.model.marginright"),r=this.isMultiline&&!this.isNumeric,o=r?6:0,s=v.pxify(this.getPath("props.model.fontsize")*i),a={fontFamily:this.quotify(this.getPath("props.model.font"))+", sans-serif",fontSize:s,lineHeight:r?"normal":s,fontWeight:this.getPath("props.model.bold")?"bold":"normal",direction:this.getPath("props.model.rtl")?"rtl":"ltr",textAlign:this.getPath("props.model.align"),color:this.getTextColor(),paddingTop:(this.getPath("props.model.margintop")+o)*i,paddingRight:(this.isNumeric?0:n)*i,paddingBottom:this.getPath("props.model.marginbottom")*i,paddingLeft:this.getPath("props.model.marginleft")*i,width:x&&this.isTextArea()?"calc(100% - 10px)":"100%"};return t?Object.assign(a,this.lastVerticalAlign):a},bounds:function(){return this.props.model.getBounds()},getInput:function(){return o.findDOMNode(this.refs.input)},getInputVal:function(){return this.getInput().value},onKeyDown:function(t,e,i){var n;this.isMultiline||13!==t.which||null==this.boundVar||this.boundVar.value()!==(n=null!=e&&null==i?e:this.getInputVal())&&this.boundVar.changeValue(n)},isValidNumericEntry:function(t){return 0===t.length||(C.indexOf(t)>-1||!isNaN(t))},isValidEntry:function(t){return!this.isNumeric||this.isValidNumericEntry(t.value)||!isNaN(t.valueAsNumber)},onInputChange:function(t){var e=t.target.value;!this.isNumeric||this.isValidNumericEntry(e)?this.setState({inputValue:e}):(t.target.value=e,isNaN(t.target.valueAsNumber)||this.setState({inputValue:e}))},onInputBlur:function(t){this.setPlayerProp("Text",this.getInputVal()),this.props.model.executePlayerEvent("onlosefocus")},onKeyUp:function(t){this.setPlayerProp("Text",this.getInputVal())},onTouchStart:function(t){1===t.touches.length&&(9===y.os.iOSVersion&&document.activeElement!==this.getInput()&&this.getInput().focus(),DS.flagManager.dropInBase||t.preventDefault())},onVarChange:function(){var t=this.boundVar.value();this.setPlayerProp("Text",t),this.setState({inputValue:t})},addStyleIfNeeded:function(t){var e=this.getTextColor(),i=this.getOrCreateStylesheet();h.find(i.cssRules,(function(e){return e.selectorText.indexOf(t)>-1}))||(i.innerHTML+="\n",i.innerHTML+=D.map((function(i){return[".",t," ",i,"{ color: ",e,"; }"].join("")})).join("\n"))},getOrCreateStylesheet:function(){var t="textInputStyles",e=document.head.querySelector("#"+t);return e||((e=document.createElement("style")).id=t,document.head.appendChild(e)),e},getPlaceholderClass:function(){return"text-input-"+this.props.model.id},getTextColor:function(){return this.hex(this.getPath("props.model.textcolor"))},isTextArea:function(){return this.isMultiline&&!this.isNumeric},getMaxChars:function(){return this.getPath("props.model.maxchars")},updateVerticalAlign:function(){var t,e,i,n,r,o,s=this.refs.input;return this.isTextArea()&&(e=this.getPath("props.model.height")*this.props.winScale,i=this.getPath("props.model.verticalAlign"),o=e-(parseInt(s.style.paddingTop)+parseInt(s.style.paddingBottom)),s.style.height="1px",t=s.scrollHeight,n=h.get(E,i,0),r=(e-Math.min(t,o))*n,this.lastVerticalAlign={height:v.pxify(o-r),transform:S.transformTranslate(0,v.pxify(r*this.props.winScale))},h.extend(s.style,this.lastVerticalAlign)),this},onInputFocus:function(t){this.props.parent.accShadowView.takeFocus(),t.stopPropagation()},scrollTo:function(t,e){this.refs.input.scrollLeft=t,this.refs.input.scrollTop=e},getScrollbarWidth:function(){var t=this.el.querySelector(this.isTextArea()?"textarea":"input[type=text]");return t?t.offsetWidth-t.clientWidth:0}});return DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?c(T):T}.call(e,i,e,t))||(t.exports=n)},4922:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}n=function(t){"use strict";var e,n=i(9526),r=i(2577),s=(i(2290),i(107)),a=(i(2817),i(5722)),l=DS.windowManager,c=DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?DS.jsAssetStore:i(1554);DS.flagManager.dropInBase&&(r=DS.DropIn,DS.DropInDOM);var u=DS,h=u.detection,d=u.ThreeSixtyImage,p=u.events,f=u.pubSub,g=u.utils,m=u.resolver,v=u.constants,S=r.createClass({displayName:"ThreeSixtyImageSlideObject",mixins:[DS.flagManager.dropInBase?n.dropIn:n],shortEvents:{model:(e={shown:"onTransitionIn"},o(e,p.threeSixtyImage.APPLY_RESUME_DATA,"onApplyResumeData"),o(e,p.threeSixtyImage.RESET_VIEW,"onResetView"),o(e,p.threeSixtyImage.UPDATE_RESUME_PROPS,"onUpdateResumeProps"),e)},componentWillMount:function(){var t=this;if(this.setupLoadTracker(),!this.props.model.getSlide().resume()||!this.props.model.getLayer().resume()){var e=g.getPath(this.props.model.data(),"threesixtyimagedata.bind.visited");if(e)m.resolvePath(e).value(0)}this.loadImagePromise=new Promise((function(e){var i=t.props.model.data().threesixtyimagedata;t.panoAsset=s.getAsset(i.assetId),t.panoAsset.load(!0).then(e)}))},setupLoadTracker:function(){var t=l.getCurrentWindowSlide();this.currSlideId=t.absoluteId,null==d.loadTracker[this.currSlideId]?d.loadTracker[this.currSlideId]=[{id:this.props.model.absoluteId,ready:!1}]:d.loadTracker[this.currSlideId].push({id:this.props.model.absoluteId,ready:!1})},onResetView:function(){var t=this;g.getPath(this,"panoAsset.isLoaded",!1)?this.image3d.resetView():this.loadImagePromise=this.loadImagePromise.then((function(){t.image3d.resetView()}))},onUpdateResumeProps:function(){null!=this.image3d&&this.image3d.updateResumeProps()},onApplyResumeData:function(){var t=this;this.props.model.shouldApplyResumeData=!1,this.loadImagePromise=this.loadImagePromise.then((function(){t.image3d.applyResume()}))},onZoom:function(t){if(null!=this.image3d&&null!=t&&null!=t.currMatrix){var e=t.currMatrix.getScale().x;this.image3d.mobileZoom=e,this.updateSize(this.image3d.mobileZoom)}},onSwiping:function(){this.image3d.allowSwiping=!0},onPreventSwiping:function(){this.image3d.allowSwiping=!1},componentDidMount:function(){var t=this;this.loadImagePromise=this.loadImagePromise.then((function(){var e,i=t.props.model.data(),n=i.threesixtyimagedata,r=t.props.model,o=c.getJsAssetValue(t.panoAsset.url());DS.flagManager.increaseMax360ImageAssetSize&&null!=o&&null!=o.dataUri&&(e=function(t){for(var e=atob(t.split(",")[1]),i=e.length,n=new Uint8Array(i),r=t.split(",")[0].split(":")[1].split(";")[0],o=0;o<i;o++)n[o]=e.charCodeAt(o);var s=new Blob([n],{type:r});return URL.createObjectURL(s)}(o.dataUri)),t.image3d=new d({dataUri:DS.flagManager.increaseMax360ImageAssetSize?e||t.panoAsset.url():null!=o&&o.dataUri||t.panoAsset.url(),assetManager:s,markerData:i.markerdata,initialLat:n.initialLat,initialLon:n.initialLon,nudgeOnLoad:n.nudgeOnLoad,width:r.width(),height:r.height(),scale:t.props.winScale,model:t.props.model,el:t.refs.glEl,cssEl:t.refs.cssEl,overlaysEl:t.refs.overlaysEl,overlaySvgEl:t.refs.overlaySvgEl,miscOverlaysEl:t.refs.miscOverlaysEl,isMobile:h.deviceView.isMobile,slideObject:t,altText:t.props.parent.getAccessibleText(),playerAccentColor:n.playerAccentColor||v.theme.brandingHighlight,hotspotColor:n.hotspotColor,hotspotReveal:n.hotspotReveal,pulseMarkers:n.pulseMarkers,pulseHotspots:n.pulseHotspots,navigation:n.navigation,bind:n.bind}),t.updateSize(),t.image3d.animate(),h.device.isMobile&&(f.on(p.slide.ZOOMED,t.onZoom),f.on(p.slide.ALLOW_SWIPE,t.onSwiping),f.on(p.slide.PREVENT_SWIPE,t.onPreventSwiping))})),this.props.model.shouldApplyResumeData&&this.onApplyResumeData()},componentWillUnmount:function(){this.image3d.destroy(),f.off(p.slide.ZOOMED,this.onZoom),f.off(p.slide.ALLOW_SWIPE,this.onSwiping),f.off(p.slide.PREVENT_SWIPE,this.onPreventSwiping)},onTransitionIn:function(){var t=this;this.loadImagePromise=this.loadImagePromise.then((function(){t.image3d.onTransitionIn()}))},updateSize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;null!=this.image3d&&(this.image3d.updateSize(Math.ceil(this.props.model.width()*this.props.winScale),Math.ceil(this.props.model.height()*this.props.winScale)),h.device.isMobile&&1!=t&&this.image3d.renderer.setPixelRatio(Math.min(4,Math.ceil(window.devicePixelRatio*t))))},componentDidUpdate:function(t){this.props.winScale!==t.winScale&&this.updateSize()}});return DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?a(S):S}.call(e,i,e,t),void 0===n||(t.exports=n)},27:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e,n=i(2577),r=i(9526),o=i(9924),s=DS._,a=DS.utils,l=DS.dom,c=DS.svgUtils,u=/<\/?html>/g,h=/font-family:(.*?);/g,d={top:"align-flex-start",center:"align-flex-center",bottom:"align-flex-end"},p=(e=/^event:/,function(t){return e.test((t.href||"").trim())});return DS.flagManager.dropInVectors&&(n=DS.DropIn),n.createClass({displayName:"VariableText",mixins:[DS.flagManager.dropInVectors?r.dropIn:r],initialVisibility:!1,getInitialState:function(){this.knownSize=this.props.model.height(),this.origTemplate=this.props.model.vartext();var t=o.parseTemplate(this.origTemplate);return this.listenToVarChanges=t.addListeners,this.updateVarText=t.updateString,{embeddedTemplate:this.getTemplate()}},componentDidMount:function(){var t;this.setState({valignClass:(t=this.props.model,d[t.get("valign")])}),this.setupValues().checkShouldFitText().show()},componentWillMount:function(){this.totalBigArea=0,this.areaInfo=[],this.observeVarChanges(),this.ancestors=[],this.props.model.forEachAncestor(function(t,e){(t.isSlideObject||t.isSlideLayer)&&this.listenTo(t,{shown:s.partial(this.onAncestorShown,e),hidden:s.partial(this.onAncestorHidden,e)})}.bind(this))},componentDidUpdate:function(){this.setupValues().checkShouldFitText()},componentWillUnmount:function(){null!=this.stopListeningToVarChanges&&this.stopListeningToVarChanges()},onAncestorShown:function(t){this.ancestors[t]=!0,this.checkShouldFitText()},onAncestorHidden:function(t){this.ancestors[t]=!1},setDefaultFont:function(t){return t.replace(h,"font-family:$1, sans-serif;")},getTemplate:function(){return this.stripTags(this.parseVars())},setupValues:function(){return this.fonts=this.findAll("font, span"),this.fonts.forEach(function(t){t.setAttribute("data-original-size",t.style.fontSize),t.setAttribute("data-original-line-height",t.style.lineHeight),t.style.maxWidth=a.pxify(this.props.model.width()),this.knownSize=t.style.fontSize}.bind(this)),this},stripTags:function(t){return t.replace(u,"")},parseVars:function(){return this.setDefaultFont(this.updateVarText(this.props.model))},possibleHit:function(t){t.preventDefault();var e,i=l.closest(t.target,p);i&&this.trigger("textHit",(e=i.href,s.last((e||"").split(":"))))},observeVarChanges:function(){return this.stopListeningToVarChanges=this.listenToVarChanges(this.props.model,function(){this.setState({embeddedTemplate:this.parseVars().replace(/\n/g,"<br />")})}.bind(this)),this},checkShouldFitText:function(){return this.ancestors.every(s.identity)&&this.fitText(),this},fitText:function(){var t=this.refs.textLibContentWrap,e=this.findAll("font, span"),i=this.findAll("p"),n=this.props.model.height(),r=0,o={};for(i.forEach((function(t){0===t.innerText.length&&(t.style.minHeight="1em")}));r<30&&t.scrollHeight-n>10;)e.forEach(function(t,e){var i,n,s,l=parseFloat(t.getAttribute("data-original-size")||this.knownSize),c=parseFloat(t.getAttribute("data-original-line-height")||1.2*this.knownSize)/l;null==o[e]&&(o[e]=l),i=a.clamp(2,5,l/9),o[e]-=i,n=a.pxify(o[e]),t.style.fontSize=n,s=o[e]*c,t.style.lineHeight=a.pxify(s),r++}.bind(this))},getInnerProps:function(){var t={};return t[this.cssTransformOrigin]=[a.pxify(this.props.originX),a.pxify(this.props.originY)].join(" "),t[this.cssTransform]=[c.transformRotate(this.props.rotDeg+"deg"),c.transformTranslate(a.pxify(-this.props.originX),a.pxify(-this.props.originY)),c.transformScale(this.props.winScale),c.transformTranslate(a.pxify(2*this.props.originX),a.pxify(2*this.props.originY))].join(" "),t}})}.call(e,i,e,t))||(t.exports=n)},447:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(1630);return DS.flagManager.dropInBase&&(e=DS.DropIn),e.createClass({displayName:"VectorBackground",mixins:[DS.flagManager.dropInBase?n.dropIn:n],template:function(){var t=this.props.vectorData,e=t.left,i=t.top,n=t.right-t.left,o=t.bottom-t.top;return r.getSvgNode({commandsetId:t.pr.i,libId:t.pr.l,bounds:{xPos:e,yPos:i,fullX:e,fullY:i,height:o,width:n,fullHeight:o,fullWidth:n}},this)}})}.call(e,i,e,t))||(t.exports=n)},8306:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526);return DS.flagManager.dropInBase&&(e=DS.DropIn),e.createClass({displayName:"VectorSlideBackground",mixins:[DS.flagManager.dropInBase?n.dropIn:n]})}.call(e,i,e,t))||(t.exports=n)},4977:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),s=i(2622),a=i(1630),l=i(5722),c=DS,u=c.events,h=c.pubSub,d=c.localizationManager,p=c.constants.XMLNS_XLINK;DS.flagManager.dropInVectors&&(e=DS.DropIn);var f=e.createClass({displayName:"VectorSlideObject",mixins:[DS.flagManager.dropInVectors?n.dropIn:n,s],getInitialState:function(){return DS.flagManager.multiLangSupport?{currLangCode:d.getCurrentLangCode()}:{}},onAccessibleTextChanged:function(t){this.setState({accessibleText:t})},refresh:function(){return this.htmlReady(this.whenHtmlReady),this},setupForceImageLoad:function(){if(!this.capture){var t=this.find("image");if(t){var e=t.getAttributeNS("http://www.w3.org/1999/xlink","href");t.onerror=function(){setTimeout((function(){t.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}),DS.connection.retryDelay)},t.onload=function(){DS.connection.assets[e]&&(DS.connection.assets[e].success=!0)},this.capture=!1}}},forceImageLoad:function(t){var e,i=t;if(this.isAlternating&&null!=this.els&&2===this.els.length){var n=o(this.els,2),s=n[0],a=n[1];i=(null!=(e=s).parentNode&&e.parentNode.classList.contains("textlib-wrapper")?"block"===e.parentNode.style.display:"block"===e.style.display)?s:a}r(i.querySelectorAll("image")).forEach((function(t,e){var i=t.getAttributeNS("http://www.w3.org/1999/xlink","href");window.requestAnimationFrame((function(){t.setAttributeNS("http://www.w3.org/1999/xlink","href",i)}))}))},whenHtmlReady:function(){var t=this.find("svg");DS.connection.useConnectionMessages&&this.forceImageLoad(t),this.adornSvg(),this.determineChildMouseBehavior()},shouldAlternate:function(){if(DS.flagManager.dropInVectors)return!1;var t=this.props.model.imagelib();return null!=t&&t.length>1},calcIsStateGroupChild:function(){return!!this.props.model.getClosestAncestorByKind("stategroup")},componentWillMount:function(){var t=this;DS.flagManager.multiLangSupport&&this.props.model.hasLocalizedText()&&(this.removeLocalizationListener=h.addListener(u.localization.LANGUAGE_UPDATED,(function(e){t.setState({currLangCode:e})}))),DS.flagManager.aiCourseTranslation&&(this.removeReviewListener=h.addListener(u.localization.REVIEW_STRING_UPDATED,(function(e){t.setState({stringRev:e})}))),this.isAlternating=this.shouldAlternate(),this.alternate=!0,this.isStateGroupChild=this.calcIsStateGroupChild()},componentWillUnmount:function(){null!=this.removeLocalizationListener&&this.removeLocalizationListener(),null!=this.removeReviewListener&&this.removeReviewListener()},componentDidMount:function(){window.DS.connection.useConnectionMessages&&this.setupForceImageLoad(),this.refresh().bindEvents()},dropInRendered:function(){var t=this;this.refresh(),requestAnimationFrame((function(){t.bindEvents()}))},componentDidUpdate:function(){var t=this;if(DS.flagManager.dropInCore){var e=this.find("image");if(null!=e){var i=e.getAttributeNS(p,"href");i.includes("?rs=")&&requestAnimationFrame((function(){e.setAttributeNS(p,"href",""),e.setAttributeNS(p,"href",i)}))}}DS.flagManager.dropInVectors||requestAnimationFrame((function(){t.refresh().bindEvents()}))},shouldUpdate:function(t,e,i){var n=this.props.model.shouldUpdateGif(),s=this.find("image"),a=t.playerProps.ObjectState!==this.props.playerProps.ObjectState||t.winScale!==this.props.winScale||n||e.accessibleText!==this.state.accessibleText||!!DS.flagManager.multiLangSupport&&e.currLangCode!==this.state.currLangCode||!!DS.flagManager.aiCourseTranslation&&e.stringRev!==this.state.stringRev;return this.isStateGroupChild&&null!=s&&n&&s.setAttribute("xlink:href",""),this.isAlternating?!DS.flagManager.dropInVectors||a||i?(window.setTimeout(function(){this.forceUpdate(),this.els=r(this.el.querySelectorAll(".slideobject-maskable"));var t=o(this.els,2),e=t[0],i=t[1],n=function(t,e){null!=t.parentNode&&t.parentNode.classList.contains("textlib-wrapper")?(t.style.display="block",t.parentNode.style.display=e):t.style.display=e};if(2===this.els.length){var s=o(this.alternate?["none","block"]:["block","none"],2),a=s[0],l=s[1];n(e,a),n(i,l)}}.bind(this),32),!1):void 0:a},bindEvents:function(){return this.stopListening(),this.findAllComponents("VectorText").concat(this.findAllComponents("VariableText")).concat(this.findAllComponents("RichVariableText")).concat(this.findAllComponents("AccessibleText")).forEach(function(t){this.listenTo(t,{textHit:this.props.textHit,textOver:this.props.textOver,textOut:this.props.textOut})}.bind(this)),this.listenTo(DS.appState,u.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),this},determineChildMouseBehavior:function(){var t;this.props.model.isCorrectIncorrectReview()&&(this.findAll("g").forEach((function(t){t.style.pointerEvents="none"})),(t=this.find("g g:nth-child(2)")||this.find("g g:nth-child(3)")).setAttribute("cursor","pointer"),t.style.pointerEvents="all")},dropInSettings:{forceRebuild:!0,tickBeforeRebuild:!0,noRebuildForProps:{winScale:!0},excludeAttribute:[function(t,e){return"transform"===t&&null!=e.dataset.adornmentType}]},template:function(){var t=a.getSvgFromData(this.props.model,this);return this.isAlternating?(this.alternate?this.a=t:this.b=t,this.alternate=!this.alternate,e.createElement("div",{className:"alternating-svg",style:{width:"".concat(this.props.model.prop("width"),"px"),height:"".concat(this.props.model.prop("height"),"px")}},this.a,this.b)):t}});return DS.flagManager.dropInVectors&&!DS.flagManager.dropInCore?l(f):f}.call(e,i,e,t))||(t.exports=n)},4152:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS._,o=DS.svgUtils,s=DS.dom,a=DS.utils,l={};return DS.flagManager.dropInVectors&&(e=DS.DropIn),e.createClass({displayName:"VectorText",mixins:[DS.flagManager.dropInVectors?n.dropIn:n],initialLinkStates:{},componentDidMount:function(){this.saveInitialLinkStates(),this.renderAllVisitedLinks()},getInitialState:function(){var t=this.defaultCommandsetId=this.getPath("props.textLibItem.vectortext.pr.i"),e=this.defaultPathLib=this.getPath("props.textLibItem.vectortext.pr.l");return{defaultCommandsetId:t,curCommandsetId:t,defaultPathLib:e,curPathLib:e}},renderAs:function(t,e){var i=e||this.defaultCommandsetId,n=t||this.defaultPathLib;this.setState({curCommandsetId:i,curPathLib:n})},onClickCallback:function(t){return this.trigger("textHit",t),this},onOverCallback:function(t){return this.trigger("textOver",t),this},onOutCallback:function(t){return this.trigger("textOut",t),this},saveInitialLinkStates:function(){var t=this;r.toArray(this.el.querySelectorAll("text[data-link-id]")).forEach((function(e){var i=t.getUnderlines(e)[0];t.initialLinkStates[e.getAttribute("data-reactid")]={color:e.getAttribute("fill"),underline:null!=i&&0!=i.getAttribute("fill-opacity")}}))},renderAllVisitedLinks:function(){var t=this;Object.keys(l).forEach((function(e){var i=t.props.textLibItem.linkdata().find((function(t){if(t.get("id")===e)return t}));if(i){var n=t.getState(i,"visitedState");r.toArray(t.el.querySelectorAll("text[data-link-id='".concat(e,"']"))).forEach((function(e){t.renderLinkText(e,n.textColor,n.decoration)})),r.toArray(t.el.querySelectorAll("rect[data-link-id='".concat(e,"']"))).forEach((function(e){t.renderLinkHighlight(e,n.highlightColor)}))}}))},renderLinkText:function(t,e,i){var n=null==e?"transparent":a.hexify(e),r=this.getUnderlines(t),o="underline"===i||"none"!==i&&this.initialLinkStates[t.getAttribute("data-reactid")].underline;s.setStyles(t,{fill:n}),r.forEach((function(t){s.setStyles(t,{fill:o?n:"transparent"}),t.setAttribute("fill-opacity",o?1:0)}))},renderLinkHighlight:function(t,e){var i=null==e?"transparent":a.hexify(e);this.getHotAreas(t).forEach((function(t){s.setStyles(t,{opacity:1,fill:i})}))},renderLink:function(t,e,i,n,r){this.renderLinkText(t,i,r),this.renderLinkHighlight(e,n)},getUnderlines:function(t){var e=t.getAttribute("data-ref-id");if(e)return r.toArray(this.el.querySelectorAll("path[data-ref-id='".concat(e,"']")))},getHotAreas:function(t){var e=t.getAttribute("data-link-id");return r.toArray(this.el.querySelectorAll("rect[data-link-id='".concat(e,"']")))},getState:function(t,e){return t.get(e)||{}},renderLinkCallback:function(t,e,i){var n=this,o=e.get("id"),s=o.substring(o.indexOf("_link")),a=r.toArray(this.el.querySelectorAll("text[data-link-id$='".concat(s,"']"))),c=!0===l[o],u=this.getState(e,"hoverState"),h=this.getState(e,"activeState"),d=this.getState(e,"visitedState");return 0!==a.length&&(a.forEach((function(e){var r;switch(t.type){case"mouseover":case"focus":r=u;break;case"mouseout":case"blur":var s=n.initialLinkStates[e.getAttribute("data-reactid")],a=s.color,p=s.underline;r=c?d:{textColor:a,decoration:p?"underline":"none"};break;case"mousedown":r=h;break;case"mouseup":case"click":l[o]=!0,r=d}if(null!=r){var f=r,g=f.textColor,m=f.highlightColor,v=f.decoration;n.renderLink(e,i,g,m,v)}})),!0)},getTransform:function(){return[o.transformRotate(this.props.rotDeg,this.props.originX,this.props.originY),o.transformTranslate(this.props.originX,this.props.originY)].join(" ")}})}.call(e,i,e,t))||(t.exports=n)},1806:function(t,e,i){var n;function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS,s=r.dom,a=r.pubSub,l=r.events,c=r._,u=r.utils,h="";return DS.flagManager.dropInVectors&&(e=DS.DropIn),e.createClass({displayName:"VectorTextHitArea",mixins:[DS.flagManager.dropInVectors?n.dropIn:n],componentDidMount:function(){var t=this;if(!DS.flagManager.dropInCore&&DS.flagManager.dropInVectors&&!this.dropInMounted)return requestAnimationFrame(this.componentDidMount),void(this.dropInMounted=!0);c.bindAll(this,"onAccEvent"),this.areas={};var e=s.closest(this.el,(function(t){return s.hasClass(t,"vector-text-item")}));this.findAll(".link-highlight-area").forEach((function(i){var n=i.getAttribute("data-linkarea");t.areas[n]=i,e.insertBefore(i,e.firstElementChild)})),this.addLinkListeners()},componentWillUnmount:function(){null!=this.removeDownListeners&&this.removeDownListeners()},onAccEvent:function(t,e,i){var n,r=u.getPath(this.props,"link.parent.parent.absoluteId");null!=r&&r===e&&this.props.linkId===t&&(n=Object.keys(this.refs)[0],"focus"===i.type?h=this.props.linkId:"blur"===i.type&&(h=""),this.renderAs(i,n))},addLinkListeners:function(){var t=this,e=this.el.querySelectorAll(".link-hit-area");null!=this.removeAllListeners&&this.removeAllListeners(),a.on(l.textItem.MOUSEDOWN,this.onAccEvent),a.on(l.textItem.MOUSEOVER,this.onAccEvent),a.on(l.textItem.MOUSEOUT,this.onAccEvent),e.forEach((function(e){e.addEventListener("pointerdown",t.onLinkDown),e.addEventListener("pointerup",t.onLinkUp)})),this.removeAllListeners=function(){a.off(l.textItem.MOUSEDOWN,t.onAccEvent),a.off(l.textItem.MOUSEOVER,t.onAccEvent),a.off(l.textItem.MOUSEOUT,t.onAccEvent),e.forEach((function(e){e.removeEventListener("pointerdown",t.onLinkDown),e.removeEventListener("pointerup",t.onLinkUp)}))}},onLinkDown:function(t,e){h=this.props.linkId,this.renderAs(t,e)},onLinkUp:function(t){var e=this;if(h===this.props.linkId)if(DS.detection.device.isDesktop){var i=function i(){document.removeEventListener("click",i),document.removeEventListener("touchend",i),e.onClickCallback(t)};document.addEventListener("click",i),document.addEventListener("touchend",i)}else this.onClickCallback(t);h=""},renderAs:function(t,e){var i="mouseover"===t.type||"focus"===t.type,n=null!=e?e:t.currentTarget.getAttribute("data-hotarea"),r=i?"onOverCallback":"onOutCallback";DS.flagManager.dropInVectors&&null==this.areas&&null!=this.refs[n]&&(this.areas=o({},n,this.refs[n])),this.props.renderLinkCallback(t,this.props.link,this.areas[n])||s.setStyles(this.areas[n],{opacity:i?1:0}),this.props[r](this.props.linkId)},onClickCallback:function(t){t.preventDefault(),this.props.onClickCallback(this.props.linkId)}})}.call(e,i,e,t))||(t.exports=n)},7635:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(1630),o=i(186),s=i(5722),a=DS._,l=DS.utils,c=DS.svgUtils,u=DS.detection,h=DS.vendorOverrides,d=DS.globalEventHelper,p=d.addWindowListener,f=d.removeWindowListener,g=function(t){if(t["font-family"])if(Array.isArray(t["font-family"])){var e=t["font-family"];t.style={fontFamily:e.map(l.doubleQuote).concat(a.last(e)).join(",")},delete t["font-family"]}else t["font-family"]=l.doubleQuote(t["font-family"]);return t},m=null!=h.removeCharPositions,v=function(t){return c.isTspanNode(t)&&(t.children=t.children.map((function(t){return t.replace(/\s/g," ")}))),t};DS.flagManager.dropInVectors&&(e=DS.DropIn);var S=e.createClass({displayName:"VectorTextItem",mixins:[DS.flagManager.dropInVectors?n.dropIn:n],componentWillMount:function(){m&&(p("beforeprint",this.beforePrint),p("afterprint",this.afterPrint))},componentWillUnmount:function(){m&&(f("beforeprint",this.beforePrint),f("afterprint",this.afterPrint))},getInitialState:function(){return{printing:!1}},addShadow:function(t){return!u.browser.isEdge&&this.props.isShadow&&c.isTspanNode(t)&&(t.filter="url(#text-shadow)",t.fill="rgba(0, 0, 0, 0.2)"),t},template:function(t){var e=c.svgPrefix(this.props.commandsetId),i=r.get(this.props.pathLib,e);return c.transformNodeConfig(a.flowRight(v,g,this.addShadow,this.state.printing&&m?h.removeCharPositions:a.identity),i),o.createSvg(i)},beforePrint:function(){this.setState({printing:!0})},afterPrint:function(){this.setState({printing:!1})}});return S.wrapped=s(S,"g"),S}.call(e,i,e,t))||(t.exports=n)},819:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=(DS._,DS.utils),o=DS.detection;return DS.flagManager.dropInVideo&&(e=DS.DropIn),e.createClass({displayName:"VideoControls",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],stringTitles:{acc_play:"acc_play",acc_pause:"acc_pause"},currentTimeFormatted:function(){return r.formatSecondsAsTime(this.props.currentTime||0)},durationFormatted:function(){return r.formatSecondsAsTime(this.props.duration||0)},componentDidMount:function(){o.device.isMobile?(this.refs.progressBar.addEventListener("touchmove",this.onSeek),this.refs.progressBar.addEventListener("touchstart",this.onSeek)):this.refs.progressBar.addEventListener("mousedown",this.onMouseDown)},componentWillUnmount:function(){o.device.isMobile?(this.refs.progressBar.removeEventListener("touchmove",this.onSeek),this.refs.progressBar.removeEventListener("touchstart",this.onSeek)):(this.refs.progressBar.removeEventListener("mousedown",this.onMouseDown),document.body.removeEventListener("mousemove",this.onSeek),document.body.removeEventListener("mouseup",this.onSeekComplete))},componentDidUpdate:function(t,e){var i=this;window.requestAnimationFrame((function(){var t=i.props.slideObjectView.accShadowView;null!=t&&t.onStateChanged(e,i.state)}))},onMouseDown:function(t){document.body.addEventListener("mousemove",this.onSeek),document.body.addEventListener("mouseup",this.onSeekComplete),this.onSeek(t)},onSeekComplete:function(){document.body.removeEventListener("mousemove",this.onSeek),document.body.removeEventListener("mouseup",this.onSeekComplete)},onSeek:function(t){var e,i,n=o.device.isMobile;if(t.preventDefault(),t.stopPropagation(),!n||t.touches&&1===t.touches.length){var s=n?t.touches[0].pageX:t.pageX;e=this.refs.progressBarInner.getBoundingClientRect(),i=r.clamp(0,1,(s-e.left)/e.width),this.props.controlSeek(i)}},onMouseUponSeekComplete:function(t){var e=this.refs,i=e.progressBar,n=e.playPause,r=null;i.contains(t.target)?r="progressBar":n.contains(t.target)&&(r="playPause"),r&&this.props.slideObjectView.accShadowView.takeControlFocus(r)}})}.call(e,i,e,t))||(t.exports=n)},2408:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(5505),o=i(1862),s=DS._,a=DS.pubSub,l=DS.events,c=DS.automation,u=DS.svgUtils,h=DS.vendorOverrides,d=DS.detection,p=DS.vow,f=DS.utils,g=DS.errorManager,m=DS.animationClock,v=g.throwError("VideoPlayer"),S=h.buildCaptionTracks||s.noop,y=h.onCaptionsEnabled||s.noop,b=h.offCaptionsEnabled||s.noop;DS.flagManager.dropInVideo&&(e=DS.DropIn);var w=e.createClass({displayName:"VideoPlayer",mixins:[DS.flagManager.dropInVectors?n.dropIn:n,r],getInitialState:function(){this.slideId=this.props.slideObjectModel.getSlide().id,this.useMediaSyncTime=!0;var t=this;return this.timelineInterface={getTime:function(){return 1e3*(null==t.videoEl||t.useMediaSyncTime?t.state.currentTime:t.videoEl.currentTime)},getPlaybackRate:function(){return null==t.videoEl?1:t.videoEl.playbackRate},getDuration:function(){return null==t.videoEl?1e3*t.props.duration:1e3*t.videoEl.duration},getRemainingTime:function(){return null==t.videoEl?1e3*t.props.duration:1e3*(t.videoEl.duration-t.videoEl.currentTime)}},this.playbackSpeed=DS.appState.getPlaybackSpeed(),{currentTime:0}},componentWillMount:function(){this.onTimeUpdateHandler=s.partial(this.onEvent,"onTimeUpdate"),this.onDurationChangeHandler=s.partial(this.onEvent,"onDurationChange"),this.onPlaybackEndedHandler=s.partial(this.onEvent,"onPlaybackEnded"),this.onLoadedDataHandler=s.partial(this.onEvent,"onLoadedData"),a.on(l.player.PLAYBACK_SPEED_CHANGED,this.handlePlaybackSpeedChanged),this.canPlayDfd=p.Deferred(),this.mountedDfd=p.Deferred(),this.hasVideo=!1,this.isPaused=!0,o.requestVideoEl(this).then(this.completeVideoLoad),this.canPlayDfd.then(function(){this.videoEl.currentTime=this.state.currentTime,this.props.duration!==this.videoEl.duration&&this.props.onDurationChange(this.videoEl.duration)}.bind(this))},getVideoUrl:function(){return this.props.src},componentDidMount:function(){this.mountedDfd.resolve(),this.props.isPlaying&&this.play(),this.props.isTimelineControlled&&(this.hasBeenTimelineControlled=!0)},shouldUpdate:function(t,e){return this.props.isTimelineControlled&&(this.hasBeenTimelineControlled=!0),t.isPlaying!==this.props.isPlaying||t.posterFrameUrl!==this.props.posterFrameUrl||e.isPlaying!==this.state.isPlaying||t.currentVolume!==this.props.currentVolume||t.winScale!==this.props.winScale||t.isTimelineControlled!==this.props.isTimelineControlled},componentDidUpdate:function(t,e){if(DS.flagManager.dropInAcc){if(!this.useNormalUpdate)return;this.useNormalUpdate=!1}var i=t.isPlaying,n=this.props.isPlaying;this.props.isTimelineControlled?n&&!this.ended()&&this.startTimelineSync():this.endTimelineSync(),this.setVolume(this.props.currentVolume),(DS.flagManager.dropInVideo&&!DS.flagManager.dropInAcc||i!==n)&&this[this.props.isPlaying?"play":"pause"](),!1===this.props.slideVisible&&this.clearCaptions()},componentWillUnmount:function(){var t=this;this.endTimelineSync(),this.canPlayDfd.reject(),this.mountedDfd.reject(),this.removeLoadListeners(),this.ifVideoEl((function(){t.isPipMode()&&t.exitPipMode(),t.unbindVideoEventListeners(),o.putVideoInPen(t.videoEl,t)})),a.trigger(l.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"complete",0),b(this.enableCaptioning)},enableCaptioning:function(t){s.isEmpty(this.videoEl.textTracks)||(this.videoEl.textTracks[0].mode=t?"showing":"hidden")},getAssetId:function(){return this.props.assetId},handlePlaybackSpeedChanged:function(t){this.setPlaybackSpeed(t)},getPlaybackSpeed:function(){return this.videoEl.playbackRate},setPlaybackSpeed:function(t){this.playbackSpeed=t,this.videoEl.playbackRate=t,t!==DS.appState.getPlaybackSpeed()&&this.endTimelineSync(),d.os.isIOS&&(this.videoEl.currentTime=this.videoEl.currentTime)},getCurrentTime:function(){return null==this.videoEl?this.cachedTime:this.videoEl.currentTime},isVideo:s.constant(!0),onTimeUpdate:function(){var t=this.videoEl.currentTime;this.useMediaSyncTime=!1,this.setState({currentTime:t}),!d.os.isIosPhoneBefore10&&this.state.isPlaying&&this.adjustCaptions()},onSeeked:function(){a.trigger(l.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"seek",this.getCurrentTime())},onPlaybackEnded:function(){this.endTimelineSync()},startTimelineSync:function(){this.playbackSpeed===DS.appState.getPlaybackSpeed()&&this.props.isTimelineControlled&&m.startMediaSync(this.timelineInterface)},endTimelineSync:function(){m.endMediaSync(this.timelineInterface)},play:function(){if(this.hasVideo||o.requestVideoEl(this,!0).then(this.completeVideoLoad),c.clockIsOverridden)this.isPaused&&(a.trigger(l.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"play",this.getCurrentTime()),this.delta=this.props.timeline.elapsedTime(),this.timelineDuration=this.props.timeline.duration(),this.props.timeline.on(l.timeline.TICK,this.onTimelineTick),DS.flagManager.dropInAcc&&(this.useNormalUpdate=!0),this.setState({hasEverPlayed:!0,isPlaying:!0}));else if(p.isResolved(this.canPlayDfd)){if(this.state.currentTime<this.props.duration||!this.props.isTimelineControlled){if(DS.flagManager.dropInAcc&&(this.useNormalUpdate=!0),this.setState({hasEverPlayed:!0,isPlaying:!0}),!this.playedByAction&&this.hasBeenTimelineControlled&&this.state.currentTime>=this.props.duration)return;this.startTimelineSync();var t=this.videoEl.play();this.adjustCaptions(),null!=t&&t.catch((function(t){"AbortError"===t.name&&20===t.code||v("play",t.message)}))}}else this.canPlayDfd.then(function(){this.isPaused||this.play()}.bind(this));this.isPaused=!1,this.playedByAction=!1},pause:function(){var t=this;this.isPaused=!0,this.endTimelineSync(),this.ifVideoEl((function(){t.videoEl.pause()})),c.clockIsOverridden&&(a.trigger(l.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"pause",this.getCurrentTime()),this.props.timeline.off(l.timeline.TICK,this.onTimelineTick)),DS.flagManager.dropInAcc&&(this.useNormalUpdate=!0),this.setState({isPlaying:!1}),this.hasCaptions&&((this.props.timelinePaused||this.props.pausedByPlayButton)&&this.isMediaVisible(this)||this.clearCaptions())},seek:function(t){var e=this;if(!isNaN(t)){var i=Math.min(t,this.props.duration);this.setState({currentTime:i}),this.waitingSeekPosition=i,this.waitingSeek||(this.waitingSeek=!0,this.canPlayDfd.then((function(){e.endTimelineSync(),e.videoEl.currentTime=i,e.waitingSeek=!1}))),this.clearCaptions();c.clockIsOverridden&&i>=f.fix(this.props.duration,2)-.05&&this.props.onPlaybackEnded()}},ended:function(){return null==this.videoEl?this.cachedEnded:this.videoEl.ended},onEvent:function(t,e){null!=this[t]&&this[t](e),null!=this.props[t]&&this.props[t](function(t,e){var i;switch(t){case"onDurationChange":i=e.target.duration;break;case"onTimeUpdate":i=e.target.currentTime;break;default:i=e}return i}(t,e))},onTimelineTick:function(t){this.seek(f.toSeconds(this.timelineDuration*t-this.delta))},onEndFullScreen:function(){this.videoEl.paused&&this.props.pause()},togglePip:function(){this.isPipMode()?this.exitPipMode():this.enterPipMode()},enterPipMode:function(){var t=this;this.videoEl.requestPictureInPicture().then((function(){t.videoEl.addEventListener("leavepictureinpicture",t.handleLeavingPip),a.trigger(l.video.PIP_MODE_CHANGED)}))},exitPipMode:function(){var t=this;document.exitPictureInPicture().then((function(){t.handleLeavingPip()}))},isPipMode:function(){return document.pictureInPictureElement===this.videoEl},handleLeavingPip:function(){var t=this;this.videoEl.removeEventListener("leavepictureinpicture",this.handleLeavingPip),a.trigger(l.video.PIP_MODE_CHANGED),window.requestAnimationFrame((function(){DS.flagManager.dropInAcc&&(t.useNormalUpdate=!0),t.setState({isPlaying:!t.videoEl.paused}),t.props.onVideoPaused(),a.trigger(l.video.STATE_CHANGED,t.props.playerProps.AbsoluteId,"pause",t.getCurrentTime())}))},updateVideoEventHandlers:function(t){var e={timeupdate:this.onTimeUpdateHandler,durationchange:this.onDurationChangeHandler,ended:this.onPlaybackEndedHandler,loadeddata:this.onLoadedDataHandler,webkitendfullscreen:this.onEndFullScreen};c.clockIsOverridden&&(e.seeked=this.onSeeked),s.forOwn(e,function(e,i){this.videoEl[t?"addEventListener":"removeEventListener"](i,e)}.bind(this))},setVolume:function(t){var e=this;this.ifVideoEl((function(){e.videoEl.volume=t,e.videoEl.muted=0===t}))},applyTransformToVideo:function(){var t,e=this.videoEl.videoWidth/this.videoEl.videoHeight,i=this.props.slideObjectModel.attributes.height,n=this.props.slideObjectModel.attributes.width;n/i!==e&&(t=e*i/n,this.videoEl.style[this.cssTransform]=u.transformScale(1,t),this.videoEl.style[this.cssTransformOrigin]="0 0")},completeVideoLoad:function(t){var e,i=this;this.hasVideo=!0,this.videoEl=t,this.videoEl.loadVideo(this.props.src),this.mountedDfd.then((function(){null!=i.canvas&&i.canvas.remove(),i.refs.container.appendChild(i.videoEl),i.videoEl.setAttribute("playsinline",""),i.setVolume(i.props.currentVolume),i.applyTransformToVideo()})),S(this.videoEl,this.getAssetId()),this.bindVideoEventListeners(),this.videoEl.volume=this.props.currentVolume,this.videoEl.playbackRate=this.playbackSpeed,this.videoEl.readyState>=this.videoEl.HAVE_ENOUGH_DATA?this.canPlayDfd.resolve():(e=function(){i.removeLoadListeners(),i.canPlayDfd.resolve()},this.videoEl.addEventListener("canplay",e),this.videoEl.addEventListener("canplaythrough",e),this.removeLoadListeners=function(){null!=i.videoEl&&(i.videoEl.removeEventListener("canplay",e),i.videoEl.removeEventListener("canplaythrough",e))}),y(this.enableCaptioning)},isMediaVisible:function(){var t=this.props.playerProps.parent.get("isBaseLayer"),e=DS.windowManager.getCurrentWindowSlide().slideLayers().getTopMostLayer(),i=this.props.slideObjectModel.getLayer()===e;return this.props.slideVisible&&(this.props.objectVisible||t||i)&&!this.props.slideObjectModel.prop("HiddenByLayer")},isTrulyVisible:function(){return f.getPath(this.props,"slideObjectModel.currView.trulyVisible",!1)},retrieveVideo:function(){this.endTimelineSync(),this.cachedTime=1e3*this.videoEl.currentTime,this.cachedEnded=this.videoEl.ended,this.props.pause(),this.state.hasEverPlayed&&this.drawFrameToCanvas(),this.unbindVideoEventListeners(),this.hasVideo=!1,this.canPlayDfd.reject(),this.canPlayDfd=p.Deferred();var t=this.videoEl;return this.videoEl.remove(),this.removeLoadListeners(),this.videoEl=null,this.useMediaSyncTime=!0,t},drawFrameToCanvas:function(){var t=this;this.ifVideoEl((function(){var e=t.props.playerProps,i=e.width,n=e.height;t.canvas=t.canvas||document.createElement("canvas"),t.canvas.height=n,t.canvas.width=i,t.canvas.style.width="100%",t.canvas.style.height="100%",t.canvas.getContext("2d").drawImage(t.videoEl,0,0,i,n),t.refs.container.appendChild(t.canvas)}))},ifVideoEl:function(t){this.hasVideo&&t()}}),x=w.prototype;return s.extend(x,{bindVideoEventListeners:s.partial(x.updateVideoEventHandlers,!0),unbindVideoEventListeners:s.partial(x.updateVideoEventHandlers,!1)}),w}.call(e,i,e,t))||(t.exports=n)},4427:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7945),n=i(2577),r=i(9526),o=i(107),s=i(3666),a=i(5722),l=s.anyVideoStarted,c=s.anyVideoStopped,u=DS,h=u.utils.fullScreen,d=u.utils,p=u.pubSub,f=u.constants,g=u.appState,m=u.captionsManager,v=u.events,S=u.dom,y=u.detection,b=y.theme.isClassic,w=y.deviceView,x=w.isMobile,D=w.isPhone,C=y.env.isPerpetual,E=(u.flagManager,DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation?DS.jsAssetStore:i(1554)),P={iconColor:"#B4B4B4",iconHoverColor:"#FFFFFF",backgroundColor:"#282828",seekBgColor:"#5E5E5E",accentColor:"#4FBDF4",panelBg:"#222222",panelBorder:"#666666",panelText:"#E8E8E8",hoverBorderColor:"#666666",volumeThumb:"#FFFFFF",selectBg:"#353535",selectBorder:"#6C6C6C"},T={seek:!0,playPause:!0,elapsedTime:!0,volume:!0,captions:!0,playbackSpeed:!0,pip:!0,fullScreen:!0,settings:!0,transcript:!0},I=function(t,e,i){var n=t.getPath("props.model.data.videodata."+e);if(null!=n)return o[null!=i?"getAssetUrl":"getAsset"](n)},A=!1;DS.flagManager.dropInVideo&&(n=DS.DropIn,p.on(v.detection.VISIBILITY_HIDDEN,(function(t){A=!0})),p.on(v.detection.VISIBILITY_SHOWN,(function(t){A=!1})));var L,M,k=n.createClass({displayName:"VideoSlideObject",dropInSettings:{useSpecificSetState:!0},mixins:[DS.flagManager.dropInVideo?r.dropIn:r],shortEvents:{model:(M={},M[v.layer.PAUSE_TIMELINE]="onPauseMedia",M[e.MEDIA_TOGGLE]="onActionToggle",M[e.MEDIA_PLAY]="onActionPlay",M[e.MEDIA_PAUSE]="onActionPause",M[e.MEDIA_SEEK]="onActionSeek",M[e.SHOW]="onActionShow",M[e.HIDE]="onActionHide",M[e.SET_VOLUME]="onActionSetVolume",M.trueVisibilityChanged="onVisibilityChanged",M)},subscriptions:(L={},L[v.detection.VISIBILITY_SHOWN]="onVisibilityShown",L[v.detection.VISIBILITY_HIDDEN]="onVisibilityHidden",L),onPauseMedia:function(){this.pauseVideo()},getInitialState:function(){return this.removeDockedListener=function(){},this.layerTimeline=this.props.model.getLayer().timeline(),{currentTime:0,duration:d.toSeconds(I(this,"assetId").get("duration")),currentVolume:g.currentVolume(),isPlaying:!1,posterImage:null,fullScreen:!1,dockedState:"none",dockedWidth:0}},componentWillMount:function(){if(this.isValidVideo()){if(this.timelinePlayStartTime=0,this.mediaTimelineControlled=!1,this.lastTimelineSeek=0,!b&&!C){this.removeFullScreenListener=h.addChangeListener(this.onFullScreenChange);var t=this;this.videoInterface={getLoadedTime:function(){return 0},getElapsedTime:function(){return null!=t.refs.videoPlayer?t.refs.videoPlayer.getCurrentTime():t.state.currentTime},getBounds:function(){return t.el.getBoundingClientRect()},pauseVideo:this.pauseVideo,playVideo:this.playVideo,seekVideo:this.controlSeek,toggleVideo:this.toggleVideo,isFullScreen:this.isFullScreen,hasTranscript:this.hasTranscript,getTranscriptData:this.getTranscriptData,toggleFullScreen:function(){t.isFullScreen()?t.exitFullScreen():t.enterFullScreen()},togglePip:function(){t.togglePip()},isPipMode:function(){return t.isPipMode()},getPlaybackSpeed:function(){return t.getPlaybackSpeed()},setPlaybackSpeed:function(e){t.setPlaybackSpeed(e)}}}this.bindTimelineEventListeners()}},onVisibilityChanged:function(t){t||null==this.refs.videoPlayer||(this.refs.videoPlayer.clearCaptions(),this.exitFullScreen(),this.closeTranscript())},componentDidMount:function(){this.isValidVideo()&&(this.presentationVol=f.DEFAULT_VOLUME,this.setVolume(g.currentVolume()),this.listenTo(g,v.volume.CHANGE_CURRENT,this.onVolumeChanged),this.removeDockedListener=p.addListener(DS.events.utilityWindow.DOCKED,this.onWindowDocked),this.setupVideoEl(),this.isIosVideo=!h.isSupported()&&null!=this.videoEl.webkitEnterFullscreen,this.isIosVideo&&this.hasCaptions()&&null!=this.videoEl.textTracks&&this.videoEl.textTracks.length>0&&(this.captionsTrack=this.videoEl.textTracks[0],this.removeTextTrackCues(),this.videoEl.addEventListener("webkitendfullscreen",this.onIosExit)))},setupVideoEl:function(){if(null==this.videoEl){var t=d.getPath(this,"refs.videoPlayer.videoEl");null!=t&&(t.addEventListener(v.videoManager.PLAY,this.onVideoElPlay),t.addEventListener(v.videoManager.PAUSE,this.onVideoElPause),this.videoEl=t)}},componentDidUpdate:function(){this.setupVideoEl(),this.el.style.setProperty("--docked-width","".concat(this.state.dockedWidth,"px")),DS.flagManager.dropInAcc&&this.updateVideoPlayer()},onWindowDocked:function(t,e){var i=e.dockedState,n=e.dockedWidth,r=this.props.model.id;t.includes(r)&&(n="none"!==i?n+10:0,this.setState({dockedState:i,dockedWidth:n}))},onVideoElPlay:function(){this.isScreenCapture()||this.videoEl.playing&&!this.courseAudioPlaying&&(this.courseAudioPlaying=!0,l())},onVideoElPause:function(){this.isScreenCapture()||!this.videoEl.playing&&this.courseAudioPlaying&&(this.courseAudioPlaying=!1,c())},componentWillUnmount:function(){b||C||(this.removeFullScreenListener&&this.removeFullScreenListener(),this.isFullScreen()&&this.exitFullScreen()),this.removeDockedListener();var t=d.getPath(this,"refs.videoPlayer.videoEl");null!=t&&(t.removeEventListener(v.videoManager.PLAY,this.onVideoElPlay),t.removeEventListener(v.videoManager.PAUSE,this.onVideoElPause),this.isIosVideo&&(this.onIosExit(),t.removeEventListener("webkitendfullscreen",this.onIosExit)))},getControls:function(){return this.refs.controls},getLocalWarning:function(){return this.refs.localWarning},getEnabledControls:function(){var t=Object.assign({},T,this.props.model.get("controls"));t.captions=t.captions&&this.hasCaptions(),t.pip=t.pip&&document.pictureInPictureEnabled,t.transcript=t.transcript&&this.hasTranscript();var e=D?{settings:(t.captions||t.playbackSpeed||t.transcript)&&{captions:t.captions,transcript:t.transcript,playbackSpeed:t.playbackSpeed},volume:!1,captions:!1,playbackSpeed:!1}:{settings:!1,volume:t.volume&&!x};return Object.assign(t,e)},getControlColors:function(){return null==this.controlColors&&(this.controlColors=Object.assign({},P,this.props.model.get("controlColors"))),this.controlColors},setPlaybackSpeed:function(t){null!=this.refs.videoPlayer&&this.refs.videoPlayer.setPlaybackSpeed(t)},getPlaybackSpeed:function(){return null==this.refs.videoPlayer?1:this.refs.videoPlayer.getPlaybackSpeed()},closeTranscript:function(){var t=this.getControls();null!=t&&null!=t.closeTranscript&&t.closeTranscript()},addTextTrack:function(){var t=this;if(this.isIosVideo&&this.hasCaptions()){var e=m.getCaptions(this.getAssetId());if(null==this.captionsTrack){var i=d.getPath(this,"refs.videoPlayer.videoEl");if(null==i)return;i.addEventListener("webkitendfullscreen",this.onIosExit),this.captionsTrack=i.addTextTrack("captions","English","en")}else this.removeTextTrackCues();e.forEach((function(e){t.captionsTrack.addCue(new VTTCue(e.startTime,e.endTime,e.getCueAsSource()))})),this.captionsTrack.mode=m.isCaptionEnabled()?"showing":"hidden"}},enterFullScreen:function(){var t=d.getPath(this,"refs.videoPlayer.videoEl");null!=t&&(h.isSupported()||null==t.webkitEnterFullscreen?h.request(this.el):(this.addTextTrack(),t.webkitEnterFullscreen()))},exitFullScreen:function(){this.isFullScreen()&&h.exit()},removeTextTrackCues:function(){var t=this;null!=this.captionsTrack.cues&&Array.from(this.captionsTrack.cues).forEach((function(e){return t.captionsTrack.removeCue(e)}))},onIosExit:function(){null!=this.captionsTrack&&this.removeTextTrackCues()},togglePip:function(){null!=this.refs.videoPlayer&&this.refs.videoPlayer.togglePip()},isPipMode:function(){return d.getPath(this,"refs.videoPlayer.isPipMode")},isScreenCapture:function(){return this.getPath("props.model.captureanimation")},onFullScreenChange:function(){this.isFullScreen()?this.setState({fullScreen:!0}):this.setState({fullScreen:!1})},isFullScreen:function(){return h.getEl()===this.el},hasCaptions:function(){return null!=m.getCaptions(this.getAssetId())},hasTranscript:function(){return null!=this.getTranscriptAssetId()},getTranscriptData:function(){var t=this.getTranscriptAssetId();if(null!=t){var e=o.getAssetUrl(t);return E.getJsAssetValue(e)}},onVolumeChanged:function(t,e){this.determineAudioVolume(e)},determineAudioVolume:function(t){this.setVolume(t*this.presentationVol)},isHlsVideo:function(){var t=this.getVideoUrl();return"m3u8"===_.last(t.split("."))},isValidVideo:function(){return""!==this.getVideoUrl()&&"swf"!==this.type},getVideoUrl:function(){var t;return null==this.videoUrl&&(t=I(this,"assetId"),this.type=t&&t.get("videoType"),this.videoUrl=null!=this.type&&"youtube"!==this.type?t.url():""),this.videoUrl},posterFrameUrl:function(){return I(this,"posterAssetId",!0)},getAssetId:function(){return this.getPath("props.model.data.videodata.assetId")},getTranscriptAssetId:function(){return this.getPath("props.model.data.videodata.transcriptAssetId")},playing:function(t){this.isMounted()&&this.setState({currentTime:t})},durationLoaded:function(t){this.setState({duration:t})},playbackEnded:function(){null!=this.refs.videoPlayer&&(this.pauseVideo(),this.props.model.executePlayerEvent("onmediacomplete"),this.refs.videoPlayer.clearCaptions(),p.trigger(v.video.STATE_CHANGED,this.props.playerProps.AbsoluteId,"complete",0))},videoPaused:function(){this.setState({isPlaying:!1})},toggleVideoControls:function(){this.toggleVideo()},onActionShowOnce:function(t,e){this.pausedByAction||this.onActionPlay(t,e)},bindTimelineEventListeners:function(){this.hasAutoPlay()&&this.props.model.once(e.SHOW,this.onActionShowOnce),this.listenTo(this.layerTimeline,v.timeline.BEFORE_RESET,(function(){this.seekVideo(0),this.hasAutoPlay()||this.pauseVideo()})),this.listenTo(this.layerTimeline,v.timeline.PLAYING,(function(){var t=this;this.layerTimeline.hasFinished()||(DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc?requestAnimationFrame((function(){return t.playAndRestoreState()})):this.playAndRestoreState())})),this.listenTo(this.layerTimeline,v.timeline.PAUSED,(function(t){this.layerTimeline.hasFinished()||this.pauseAndStoreState(t)})),this.listenTo(this.layerTimeline,v.timeline.SEEK_START,this.pauseAndStoreState),this.listenTo(this.layerTimeline,v.timeline.AFTER_SEEK_UPDATE,this.onTimelineSeek),this.listenTo(this.layerTimeline,v.timeline.SEEK_END,this.playAndRestoreState)},loadedData:function(){var t=d.getPath(this,"refs.videoPlayer");if(null!=t){if(this.state.isPlaying){var e=t.cachedTime;if(null!=e)this.seekVideo(e),t.play();else if(this.isMediaTimelineControlled()){var i=this.calculatePlaybackDifferential(this.layerTimeline.elapsedTime());this.seekVideo(i),t.play()}}t.cachedTime=null}},hasAutoPlay:function(){var t=this.props.model.getClosestAncestorByKind("expandinglabel");return!(t&&!t.prop("Expanded"))&&this.getPath("props.model.autoplay")},onActionShow:function(t,e){this.isSeekActionAndNotPlaying(e)||this.hasAutoPlay()&&this.layerTimeline.isPlaying()&&!this.pausedByAction&&this.playVideo()},onActionHide:function(){},onActionToggle:function(){this.toggleVideo()},onActionPlay:function(t,e){null!=this.refs.videoPlayer&&(this.refs.videoPlayer.playedByAction=!0,this.pausedByAction=!1,this.setPlayActionStartTime(e.time),this.isSeekActionAndNotPlaying(e)||(this.pauseVideo(),this.playVideo(e),"expandinglabel"===e.context.get("kind")&&m.includeMedia(this.getAssetId())))},onActionPause:function(t,e){this.pausedByAction=!0,this.isSeekActionAndNotPlaying(e)||(this.pausedByPlayButton=!1,this.pauseVideo(),"expandinglabel"===e.context.get("kind")&&m.excludeMedia(this.getAssetId()))},onActionSeek:function(t,e){this.isSeekActionAndNotPlaying(e)||this.seekVideo(t.position)},onActionSetVolume:function(t,e){var i=t.volume/100;this.presentationVol=i,this.determineAudioVolume(g.currentVolume())},setPlayActionStartTime:function(t){return null!=t&&(this.timelinePlayStartTime=t),this.mediaTimelineControlled=null!=t,this},isSeekActionAndNotPlaying:function(t){return t.isSeekAction&&!this.layerTimeline.isPlaying()},calculatePlaybackDifferential:function(t){return t-this.timelinePlayStartTime},onTimelineSeek:function(t){this.seeked=!0,this.lastTimelineSeek=t,t=this.calculatePlaybackDifferential(t),this.isMediaTimelineControlled()&&!this.pausedByAction&&this.seekVideo(t)},isMediaTimelineControlled:function(){return this.mediaTimelineControlled||this.hasAutoPlay()},pauseAndStoreState:function(t){this.timelinePaused||(this.resumeOnSeek=this.state.isPlaying,this.timelinePaused=!0,this.seeked=!1),this.pausedByPlayButton=!!t,DS.flagManager.dropInVideo&&A?this.forcePause():this.pauseVideo()},playAndRestoreState:function(t){var e=t?"playing"===t:!this.pausedByAction;if(this.isVisible()&&(!this.isMediaTimelineControlled()&&this.resumeOnSeek||this.isMediaTimelineControlled()&&e&&(this.lastTimelineSeek>=this.timelinePlayStartTime||this.resumeOnSeek&&!this.seeked))){var i=d.toMilliseconds(this.state.duration)+(this.timelinePlayStartTime||0);this.isMediaTimelineControlled()?this.lastTimelineSeek<=i&&this.playVideo({timelineLabel:""}):this.playVideo()}this.timelinePaused=!1},updateVideoPlayer:function(){var t,e=null===(t=this.refs)||void 0===t?void 0:t.videoPlayer;null!=e&&(this.state.isTimelineControlled?this.state.isPlaying&&!e.ended()&&e.startTimelineSync():e.endTimelineSync(),e.setVolume(this.state.currentVolume),e[this.state.isPlaying?"play":"pause"](),e.props.slideVisible||e.clearCaptions())},playVideo:function(t){return this.pausedByPlayButton=!0,this.pausedByAction=!1,this.setState({isPlaying:!0,isTimelineControlled:this.isMediaTimelineControlled()&&null!=t&&null!=t.timelineLabel}),this},pauseVideo:function(){return this.setState({isPlaying:!1}),DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore&&this.forceUpdate(),this},toggleVideo:function(){if(null!=this.refs.videoPlayer)return this.state.isPlaying?this.pauseVideo():(this.refs.videoPlayer.playedByAction=!0,this.playVideo()),this},seekVideo:function(t){if(null!=this.refs.videoPlayer)return this.refs.videoPlayer.seek(Math.max(0,d.toSeconds(t))),t<0&&this.setState({isPlaying:!1}),this},setVolume:function(t){return this.setState({currentVolume:t}),this},actionKeyCallback:function(){return this.toggleVideo(),!0},onVisibilityShown:function(t){!this.isMediaTimelineControlled()&&this.wasPlaying&&(this.wasPlaying=!1,this.playVideo())},forcePause:function(){d.getPath(this,"refs.videoPlayer")&&(this.setState({isPlaying:!1}),this.refs.videoPlayer.pause())},onVisibilityHidden:function(t){!this.isMediaTimelineControlled()&&this.state.isPlaying&&(this.wasPlaying=!0,DS.flagManager.dropInVideo?this.forcePause():this.pauseVideo())},forceUpdatePoster:function(t){this.setState({posterImage:t}),this.forceUpdate()},onAccShadowRangeChange:function(t){this.seekVideo(d.toMilliseconds(t))},controlSeek:function(t){var e=S.hasClass(document.documentElement,"text-direction-rtl"),i=this.state.duration*(e?1-t:t);this.seekVideo(d.toMilliseconds(i))}});return DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore?a(k):k}.call(e,i,e,t))||(t.exports=n)},6737:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=(i(2290),i(2817),i(107)),o=i(7945),s=i(5722),a=(DS._,DS.errorManager),l=DS.PostMessaging,c=DS.vow,u=(DS.dom,DS.events),h=DS.appState;DS.flagManager.dropInBase&&(n=DS.DropIn,DS.DropInDOM);var d,p,f=a.throwError("WebObjectSlideObject"),g=n.createClass({displayName:"WebObjectSlideObject",mixins:[DS.flagManager.dropInBase?e.dropIn:e],subscriptions:(p={},p[u.volume.CHANGED]="onVolumeChanged",p),shortEvents:{model:(d={trueVisibilityChanged:"toggleLoad"},d[o.TRIGGER_WEBOBJECT_CLIENT_EVENT]="onTriggerClientEvent",d)},getInitialState:function(){return{thumbVisible:!0,url:""}},prepareImageUrl:function(){var t=this.props.model.get("thumbAssetId");return r.getAssetUrl(t)},checkIsEngage:function(){return"EN13"===this.props.model.get("objtype")},componentWillMount:function(){this.isEngage=this.checkIsEngage(),this.imageUrl=this.prepareImageUrl(),this.clientReady=c.Deferred(),this.clientReady.then(function(t){this.onVolumeChanged(h.currentVolume())}.bind(this)),this.isEngage||this.clientReady.reject()},componentWillUnmount:function(){this.refs.iframe.src="",this.resetSubscriptions(),null!=this.postMessaging&&this.postMessaging.tearDown()},showThumb:function(){return"onclick"===this.props.model.get("loadtype")&&this.state.thumbVisible},showContent:function(){this.setState({thumbVisible:!1})},shouldScale:function(){return this.props.model.get("shouldScale")},getUrl:function(){var t=this.props.model.get("html5Url");return this.isEngage&&(t+=["?wo=1&id=",this.props.model.id].join("")),t},getResumeData:function(){return this.props.model.variables().findWhere({name:"_remotedata"}).value()},setResumeData:function(t){this.props.model.variables().findWhere({name:"_remotedata"}).value(t),this.props.model.getClosestAncestorByKind("slide").prepareResumeData({retainState:!0})},triggerHostEvent:function(t){var e;this.props.model.executeFilteredPlayerEvent((e=t,function(t){return t.eventName===e}),"onclientevent")},toggleLoad:function(t){t?this.setState({url:this.getUrl()}):this.setState({url:""})},onIframeLoad:function(){if(this.isEngage){this.refs.iframe.contentWindow;this.postMessaging=new l(this,this.props.model.id),this.postMessaging.ready().then(this.clientReady.resolve)}},onTriggerClientEvent:function(t){this.postMessaging.request("executeFilteredPlayerEvent",t.eventName).catch(f.bind(this,"onTriggerClientEvent","Cannot trigger web object client event"))},onVolumeChanged:function(t){this.postMessaging.request("setVolume",t).catch(f.bind(this,"setVolume","Cannot set volume"))}});return DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?s(g):g}.call(e,i,e,t))||(t.exports=n)},3270:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=i(2290),o=i(9838),s=i(8876),a=i(3986),l=DS._,c=DS.TweenLite,u=DS.appState,h=DS.detection,d=DS.globalEventHelper,p=d.addDocumentListener,f=(d.removeDocumentListener,h.deviceView.isClassicMobile?0:5);DS.flagManager.dropInBase&&(n=DS.DropIn,r=DS.DropInDOM);var g=n.createClass({displayName:"ZoomImage",mixins:[DS.flagManager.dropInBase?e.dropIn:e],componentWillMount:function(){var t=n.createElement(o,{className:"zoom-image-overlay"});this.overlay=r.render(t,a.getZoomContainer())},componentDidMount:function(){this.speed=.25,this.calculateTransform(),this.throttledCalculateTweenProps=l.throttle(this.calculateTweenProps,100)},componentDidUpdate:function(){if(this.calculateTransform(),this.isVisible()&&null!=this.currentTween){this.calculateTweenProps();var t=this.currentTween.time(),e=l.partial(c.fromTo,this.el,this.currentTween.duration());this.isZoomingIn?this.currentTween=e(this.startProps,this.endProps):this.currentTween=e(this.endProps,this.startProps),this.currentTween.seek(t)}},getContainerRectDesktop:function(){return(this.props.imageModel.get("zoomslide")?document.querySelector(".slide-container"):a.getMainWindowEl()).getBoundingClientRect()},getContainerRectMobile:function(){return u.windowManager.getCurrentWindowSlide().currView.el.getBoundingClientRect()},calculateTransform:function(){this.scaleX=this.props.transform.width/this.props.width,this.scaleY=this.props.transform.height/this.props.height,this.diffX=(this.props.width-this.props.transform.width)/2,this.diffY=(this.props.height-this.props.transform.height)/2},calculateTweenProps:function(){var t,e,i,n=f,r=this.el.parentNode.getBoundingClientRect(),o=this.getContainerRect(),s=o.left-r.left,a=o.top-r.top,c=this.props.imageElement.getBoundingClientRect(),d=c.left-o.left-this.diffX,p=c.top-o.top-this.diffY,g=d+this.props.width+n,m=p+this.props.height+n,v=d,S=p,y=this.scaleX,b=this.scaleY,w=1;h.deviceView.isMobile||!h.theme.isClassic?w=1/u.windowManager.getCurrentWindowSlide().calculateTotalScale():u.windowManager.isLightBoxActive()&&(w=u.windowManager.getCurrentWindow().slideScale,w*=u.windowManager.getCurrentWindowSlide().calculateTotalScale(),d-=(this.props.transform.width-this.props.transform.width*w)/2,p-=(this.props.transform.height-this.props.transform.height*w)/2,y*=w,b*=w),t=o.width/(this.props.width+n),e=o.height/(this.props.height+n),i=l.min([1,t,e]),p<n?S=n-(this.props.height-i*this.props.height)/2:m>o.height&&(S-=m-o.height-(this.props.height-i*this.props.height)/2),d<n?v=n-(this.props.width-i*this.props.width)/2:g>o.width&&(v-=g-o.width-(this.props.width-i*this.props.width)/2),this.startProps={x:d+s-this.props.transform.xOffset*w,y:p+a-this.props.transform.yOffset*w,scaleX:y,scaleY:b,overwrite:"auto"},this.endProps={x:v+s,y:S+a,scaleX:i,scaleY:i}},zoomIn:function(){this.isZoomingIn=!0,this.calculateTweenProps(),u.windowManager.isLightBoxActive()||this.overlay.show(),this.show(),this.currentTween=c.fromTo(this.el,this.speed,this.startProps,l.extend({},this.endProps,{onComplete:function(){this.props.imageModel.executePlayerEvent("onzoomopened"),this.removeDocumentListener=p(s.clickOrTouch,this.zoomOut,!0)}.bind(this)}))},updateZoomOut:function(){this.throttledCalculateTweenProps(),this.currentTween=c.to(this.el,this.speed/2,this.startProps)},zoomOut:function(t){t.stopPropagation(),this.isZoomingIn=!1,l.isFunction(this.removeDocumentListener)&&(this.removeDocumentListener(),this.removeDocumentListener=null),c.to(this.el,this.speed,{onUpdate:this.updateZoomOut,onComplete:this.onZoomedOut}),this.props.imageModel.executePlayerEvent("onzoomclosed")},onZoomedOut:function(){this.overlay.hide(),this.hide()}}),m=g.prototype;return m.getContainerRect=m[h.deviceView.isClassicMobile?"getContainerRectMobile":"getContainerRectDesktop"],g}.call(e,i,e,t))||(t.exports=n)},556:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979),s=o.accBase,a=o.accTextControl;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccButton",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,s,a],tabIndex:0,onClick:function(t){var e=this;if(0===t.screenX&&0===t.screenY){var i=this.objView.state,n=i.RawXPos,r=i.rotateXPos,o=i.RawYPos,s=i.rotateYPos;this.objModel.getSlide().currView.mouseX=n+r,this.objModel.getSlide().currView.mouseY=o+s}DS.flagManager.dropInVectors&&!DS.flagManager.dropInAcc?requestAnimationFrame((function(){e.triggerDefaultAction()})):this.triggerDefaultAction()}})}.call(e,i,e,t))||(t.exports=n)},3361:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979),s=o.accBase,a=o.accTextControl;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccCheckbox",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,s,a],tabIndex:0,getInitialState:function(){return this.getState()},getState:function(){return{checked:this.isCheckedState()}},onClick:function(t){this.triggerDefaultAction()},getFocusTarget:function(){return this.refs.input}})}.call(e,i,e,t))||(t.exports=n)},6792:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS,n=e.pubSub,r=e.events,o=i(2577),s=i(9526);return DS.flagManager.dropInAcc&&(o=DS.DropIn),o.createClass({displayName:"AccDialog",mixins:[DS.flagManager.dropInAcc?s.dropIn:s],initialVisibility:!1,tabIndex:-1,componentDidMount:function(){this.mounted=!0,n.on(r.layer.DIALOG_SHOWN,this.onDialogShown),n.on(r.layer.DIALOG_HIDDEN,this.onDialogHidden)},componentWillUnmount:function(){this.mounted=!1,n.off(r.layer.DIALOG_SHOWN,this.onDialogShown),n.off(r.layer.DIALOG_HIDDEN,this.onDialogHidden)},onDialogShown:function(t){var e=this;window.requestAnimationFrame((function(){e.mounted&&t===e.props.dialog.slideLayer&&(e.setState({isVisible:!0}),window.requestAnimationFrame((function(){e.mounted&&e.el.focus()})))}))},onDialogHidden:function(t){var e=this;window.requestAnimationFrame((function(){e.mounted&&t===e.props.dialog.slideLayer&&e.setState({isVisible:!1})}))},id:function(){return"acc-".concat(this.props.dialog.slideLayer.id)},labeledBy:function(){var t=this.props.dialog.slideLayer.get("labeledById");return t?"acc-".concat(t):null},describedBy:function(){var t=this.props.dialog.slideLayer.get("describedById");return t?"acc-".concat(t):null}})}.call(e,i,e,t))||(t.exports=n)},7357:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(3423).parseBlocks,n=i(7875),r=i(2577),o=i(9526),s=i(1979).accBase;DS.utils.getPath;return DS.flagManager.dropInAcc&&(r=DS.DropIn),r.createClass({displayName:"AccDropList",controlViewPath:DS.flagManager.dropInInteractions&&!DS.flagManager.dropInCore?["refs","innard","dropInView","parentableDropList"]:["refs","innard","parentableDropList"],mixins:[DS.flagManager.dropInAcc?o.dropIn:o,n,s],tabIndex:0,getInitialState:function(){return this.getState(this.controlView.state)},getState:function(t){var e="block"===t.display,i=t.SelectedItemData,n=t.SelectedItemIndex;return{expanded:e,selectedData:i,selectedText:-1!==n?this.objModel.origItemsList[n].textdata.altText:this.getLabel()}},getChoices:function(){return this.objModel.itemslist.map((function(t){return{value:t.itemdata,textdata:t.textdata}}))},parseText:function(t){return e(t.vartext,t.wordwrap,t.textshadow)},onChangeMobile:function(t){this.controlView.focusItem(t.target.selectedIndex-1)},onKeyDown:function(t){this.controlView.shadowDomKeyHandler(t)},onBlur:function(t){this.controlView.shadowDomBlur(t)},getFocusTarget:function(){return this.refs.input},onClickInput:function(t){this.controlView.onShowList()},onClickOption:function(t){this.controlView.focusItem(t.target.getAttribute("data-index"))}})}.call(e,i,e,t))||(t.exports=n)},5951:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979),s=o.accBase,a=o.accTextControl,l=DS.events;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccElso",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,s,a],tabIndex:-1,expanded:!1,getInitialState:function(){return{expanded:!1}},componentDidMount:function(){this.listenTo(this.objModel,l.elso.TOGGLE_EXPANDED,this.onToggleExpanded)},componentWillUnmount:function(){this.stopListening()},onToggleExpanded:function(t){this.setState({expanded:t})}})}.call(e,i,e,t))||(t.exports=n)},3267:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979).accBase;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccImage",controlViewPath:["refs","innard"],mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,o],tabIndex:-1,getFocusTarget:function(){return this.refs.focusTarget},hasZoom:function(){return"none"!==(this.objModel.get("zoomtype")||"none")},hasRelease:function(){var t=this.objModel.events();if(null!=t)return t.some((function(t){return"onrelease"===t.kind}))},getTabIndex:function(){return this.hasZoom()||this.hasRelease()?0:this.tabIndex},onClick:function(t){this.hasZoom()&&this.controlView.toggleZoom(),this.hasRelease()&&this.triggerDefaultAction()},onBlur:function(t){this.hasZoom()&&this.controlView.closeZoom()}})}.call(e,i,e,t))||(t.exports=n)},9862:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979).accBase,s=DS.events;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccMarker",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,o],tabIndex:0,expanded:!1,getInitialState:function(){return{expanded:!1}},componentDidMount:function(){this.listenTo(this.props.relatedObject,s.elso.TOGGLE_EXPANDED,this.onToggleExpanded)},componentWillUnmount:function(){this.stopListening()},onToggleExpanded:function(t){this.setState({expanded:t})},onClick:function(t){this.triggerDefaultAction()}})}.call(e,i,e,t))||(t.exports=n)},5760:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS,n=e.focusManager,r=e.pubSub,o=e.events,s=i(7875),a=i(2577),l=i(9526),c=i(1979).accBase;return DS.flagManager.dropInAcc&&(a=DS.DropIn),a.createClass({displayName:"AccModernVideo",controlViewPath:["refs","innard"],mixins:[DS.flagManager.dropInAcc?l.dropIn:l,s,c],tabIndex:-1,getInitialState:function(){return this.videoControls=this.controlView.getControls(),this.localWarning=this.controlView.getLocalWarning(),this.getState()},componentDidMount:function(){r.on(o.volume.CHANGED,this.onAppStateVolumeChanged),r.on(o.video.PIP_MODE_CHANGED,this.onPipModeChanged);var t=this.refs.seek;null!=t&&t.addEventListener("change",this.onSeekbarChanged)},componentDidUpdate:function(){null!=this.refs.playbackSpeed&&this.refs.playbackSpeed.updateState();var t=this.refs.seek;null!=t&&(t.value=this.state.elapsed)},componentWillUnmount:function(){r.off(o.volume.CHANGED,this.onAppStateVolumeChanged),r.off(o.video.PIP_MODE_CHANGED,this.onPipModeChanged);var t=this.refs.seek;null!=t&&t.removeEventListener("change",this.onSeekbarChanged)},clearFocusRect:function(){this.el.contains(document.activeElement)&&DS.focusManager.takeFocusOff()},getState:function(){return null!=this.localWarning?this.localWarning.getAccState():this.videoControls?this.videoControls.getAccState():{}},onButtonClicked:function(t){null!=this.videoControls&&this.videoControls.showControls(),this.triggerDefaultAction()},onSeekbarChanged:function(t){this.videoControls.showControls(),this.controlView.onAccShadowRangeChange(parseInt(this.refs.seek.value))},onPlayPauseClicked:function(t){this.videoControls.showControls(),this.videoControls.togglePlayback()},onMuteClicked:function(t){this.videoControls.showControls(),this.videoControls.toggleMute()},onVolumeChange:function(t){this.videoControls.showControls();var e=this.refs.volumeSlider.value/10;this.videoControls.setVolume(e)},onAppStateVolumeChanged:function(t){this.setState({volumeStrength:t})},onCaptionsClicked:function(t){this.videoControls.showControls(),this.videoControls.toggleCaptions()},onTranscriptClicked:function(t){this.videoControls.toggleTranscript()},onFullscreenClicked:function(t){this.videoControls.showControls(),this.videoControls.toggleFullScreen()},onPipClicked:function(t){this.videoControls.showControls(),this.videoControls.togglePip()},onPipModeChanged:function(){this.setState({isPipMode:this.controlView.isPipMode()})},onSettingsClicked:function(t){this.videoControls.showControls(),this.videoControls.openSettings()},onLearnMoreClicked:function(t){this.localWarning.learnMoreClicked(t)},takeControlFocus:function(t){var e=this.refs[t]||this.refs.videoButton;null!=e&&null!=e.focus&&(e.focus(),n.setFocusRectOn(e))},onFocus:function(t){null!=this.videoControls&&(null==t.target||t.target!==this.refs.volumeSlider&&t.target!==this.refs.mute?this.videoControls.closeVolumeSlider():this.videoControls.openVolumeSlider(),this.videoControls.showControls())}})}.call(e,i,e,t))||(t.exports=n)},2797:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979),s=o.accBase,a=o.accTextControl;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccRadio",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,s,a],tabIndex:0,getInitialState:function(){return this.getState()},getState:function(){return{checked:this.isCheckedState()}},onClick:function(t){this.triggerDefaultAction()},getFocusTarget:function(){return this.refs.input}})}.call(e,i,e,t))||(t.exports=n)},7873:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526);return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccRadioGroup",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e],tabIndex:-1})}.call(e,i,e,t))||(t.exports=n)},4664:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526),o=i(1979).accBase;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccScrollarea",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e,o],controlViewPath:["refs","innard"],tabIndex:0,getInitialState:function(){return{canScroll:!1}},onKeyDown:function(t){this.controlView.scrollOnKey(t)},getScrollPercentage:function(){var t=this.controlView.contentheight()-this.controlView.height(),e=t>0;return this.state.canScroll!==e&&this.setState({canScroll:e}),t>0&&void 0!==this.controlView.lastScrollTop?Math.round(this.controlView.lastScrollTop/t*100):0},getAriaLabel:function(){var t=this.objModel.background();return void 0!==t&&t.vectorData?t.vectorData.altText:""}})}.call(e,i,e,t))||(t.exports=n)},9738:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),r=i(9526);return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({displayName:"AccSection",mixins:[DS.flagManager.dropInAcc?r.dropIn:r,e],tabIndex:-1,getInitialState:function(){return{expanded:!1}},componentDidMount:function(){var t=this;if(DS.flagManager.dropInCore)requestAnimationFrame((function(){var e=DS.utils.getPath(t,"props.slideObject.elso");t.listenTo(e,DS.events.elso.TOGGLE_EXPANDED,t.onToggleExpanded)}));else{var e=DS.utils.getPath(this,"props.slideObject.elso");this.listenTo(e,DS.events.elso.TOGGLE_EXPANDED,this.onToggleExpanded)}},onToggleExpanded:function(t){var e=this;requestAnimationFrame((function(){e.setState({expanded:t})}))}})}.call(e,i,e,t))||(t.exports=n)},6174:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=DS,n=e._,o=e.resolver,s=(e.flagManager,e.detection),a=s.theme.isClassic,l=s.env.isPerpetual,c=e.pubSub,u=e.events,h=i(2577),d=i(9526),p=function(t){return n.uniqueId("".concat(t.toLowerCase().replace(" ","-"),"-"))};DS.flagManager.dropInAcc&&(h=DS.DropIn);var f=h.createClass({dropInSettings:{forceRebuild:!0,preferQueue:!0,noRebuildForProps:{winScale:!0}},displayName:"AccShadowDom",mixins:[DS.flagManager.dropInAcc?d.dropIn:d],getInitialState:function(){return this.slideObjects=[],this.radioGroups={},this.sections={},this.elsoLookup={},this.accessibles=[],DS.shadowDOM=this,this.removeLayerListener=c.addListener(u.layer.HIDE_OR_SHOW,this.onHideShowLayer),{children:[]}},componentWillUnmount:function(){this.destroyed=!0,this.removeLayerListener()},componentWillUpdate:function(){if(DS.flagManager.dropInAcc){if(document.activeElement.closest(".acc-three-sixty-image"))return void(this.wasWithin360Image=!0);document.activeElement&&this.el.contains(document.activeElement)&&(this.lastFocusedId=document.activeElement.id)}},componentDidUpdate:function(){var t=this;DS.focusManager.focusWhenReady?requestAnimationFrame((function(){var t,e="acc-"+DS.focusManager.focusWhenReady;null===(t=document.getElementById(e))||void 0===t||t.focus(),DS.focusManager.focusWhenReady=null})):DS.flagManager.dropInAcc&&this.wasWithin360Image?this.wasWithin360Image=!1:DS.flagManager.dropInAcc&&this.lastFocusedId&&requestAnimationFrame((function(){var e;null===(e=document.getElementById(t.lastFocusedId))||void 0===e||e.focus(),t.lastFocusedId=null}))},onHideShowLayer:function(){var t=this;DS.flagManager.dropInAcc||(this.setState({showHelperButton:!0}),clearTimeout(this.helperButtonId),this.helperButtonId=setTimeout((function(){t.destroyed||t.setState({showHelperButton:!1})}),200))},mapChildToAccType:function(t){return childMap[this.getAccType(t)]},getAccType:function(t){var e=t.get("kind");return null!=t.get("markerType")?"marker":"slidelayer"===e&&"dialog"===t.get("presentAs")?"dialog":!a&&!l&&"video"===e?"modernvideo":["video","image","threesixtyimage"].includes(e)?e:t.get("accType")||e},createOrAddToRadioGroup:function(t){var e=t.get("radioGroup")||n.uniqueId("none"),i=this.radioGroups[e];return null==i?(i={keyIdx:0,radios:[],name:e,id:p(e),kind:"radiogroup",tabIndex:Number.MAX_SAFE_INTEGER,addRadio:function(t){this.tabIndex=Math.min(this.tabIndex,t.prop("tabIndex")),t.accKey=this.keyIdx++,this.radios.push(t)},prop:function(t){return this[t]},get:function(t){return this[t]}},i.addRadio(t),this.radioGroups[e]=i,i):(i.addRadio(t),!1)},createOrAddToExpandingLabel:function(t,e){var i=this.sections[e.absoluteId];return null==i?(i={keyIdx:0,slideObjects:[],name:"Todo Elso Name",kind:"section",tabIndex:Number.MAX_SAFE_INTEGER,elso:null,addObject:function(t){this.tabIndex=Math.min(this.tabIndex,t.prop("tabIndex")),t.accKey=this.keyIdx++,this.slideObjects.push(t),t.isKind("expandinglabel")&&(this.elso=t)},prop:function(t){return this[t]},get:function(t){return this[t]}},i.addObject(t),this.sections[e.absoluteId]=i,i):(i.addObject(t),!1)},connectElsoMarkers:function(t,e){var i="marker"===e,n=i?"".concat(t.id,"_expandinglabel"):t.id,r=this.elsoLookup[n];null==r&&(r=this.elsoLookup[n]={}),r[i?"marker":"elso"]=t;var o=r,s=o.marker,a=o.elso;null!=s&&null!=a&&(s.relatedObject=a,a.relatedObject=s)},addAccEl:function(t,e){var i=this.getAccType(t),n=this.slideObjects.find((function(e){return"dialog"===e.kind&&t.getLayer&&e.slideLayer===t.getLayer()}));if("radio"!==i||(t=this.createOrAddToRadioGroup(t))){"marker"!==i&&"expandinglabel"!==i||this.connectElsoMarkers(t,i);var s=null==e?null:e.elsoId;if(null!=(s=s||("expandinglabel"===i?t.absoluteId:null))){var a=o.resolvePath(s);if(!(t=a.get("tabEnabled")?this.createOrAddToExpandingLabel(t,a):null))return}t.accKey=this.accessibles.length,"dialog"===i&&(t={slideLayer:t,children:[],kind:"dialog",tabIndex:t.tabIndex,accKey:t.accKey,prop:function(t){return this[t]},get:function(t){return this[t]}}),n?n.children.push(t):this.slideObjects.push(t);var l=this.accessibles.findIndex((function(e){return e.get("tabIndex")>t.get("tabIndex")}));-1===l&&(l=this.accessibles.length),this.accessibles.splice(l,0,t);for(var c=l;c<this.accessibles.length;c++)this.accessibles[c].accIdx=c;this.setState({children:r(this.slideObjects)})}},findChild:function(t){for(var e,i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=this.accessibles.length,a=r?s:n?o+1:s-o,l=0;l<a;l++)if(null!=(e=this.childAt(((i=(i=l)*(n?-1:1)+o)<0?i=s+i:i>=s&&(i-=s),i)))&&t(e))return e;return null},childAt:function(t){var e="acc-obj-".concat(t),i=this.refs[e];if(i)return i;for(var n=this.state.children.filter((function(t){return"dialog"===t.kind})),r=0;r<n.length;r++){var o=this.refs["acc-obj-".concat(n[r].accIdx)].refs[e];if(o)return o}},updateTabPosition:function(t){var e=this,i=0|t.objModel.accIdx;window.requestAnimationFrame((function(){var t=e.findChild((function(t){return!0===t.state.tabbable}),i-1,!0);null==t&&(t=e.findChild((function(t){return!0===t.state.tabbable}),i+1,!1)),null!=t&&t.takeFocus()}))},retainShadowFocus:function(t,e){var i=this;if(document.hasFocus()){if(!t&&null!=this.currFocusId){var n=this.findChild((function(t){return t.id===i.currFocusId}));if(null!=n&&n.state.tabbable)return;if(null!=n&&!n.state.tabbable){var r=this.findChild((function(t){return!0===t.state.tabbable}),n.props.idx+1);return void(null!=r&&r.takeFocus())}}var o=this.findChild((function(t){return!0===t.state.tabbable}));null!=o&&o.takeFocus(e)}},getCurrentShadowFocus:function(){var t=this,e=this.findChild((function(e){return e.id===t.currFocusId}));return e&&e.objView},onScroll:function(){this.el.scrollTop=0,this.el.scrollLeft=0}});return f}.call(e,i,e,t),void 0===n||(t.exports=n)},2113:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS.detection,n=i(7875),r=i(2577),o=i(9526),s=i(1979).accBase;return DS.flagManager.dropInAcc&&(r=DS.DropIn),r.createClass({displayName:"AccSlider",mixins:[DS.flagManager.dropInAcc?o.dropIn:o,n,s],tabIndex:0,componentDidMount:function(){e.os.isIOS&&(this.checkInterval=setInterval(this.checkRange,100))},componentWillUnmount:function(){clearInterval(this.checkInterval)},getSlideable:function(){var t=(_.isEmpty(this.objView.decorators)?this.objModel.parent.currView:this.objView).decorators,e=t.slideable,i=t.rotatable;return e||i},getInitialState:function(){var t=this.getSlideable().getRangeAttributes();return{min:t.min,max:t.max,step:t.step,currValue:t.value,inverted:t.inverted}},onChange:function(t){this.skipRangeUpdate||this.getSlideable().onAccShadowRangeChange(parseFloat(this.el.value))},checkRange:function(){this.getSlideable().onAccShadowRangeChange(parseFloat(this.el.value))},viewChanged:function(t){this.skipRangeUpdate=!0,this.el.value=t,this.skipRangeUpdate=!1}})}.call(e,i,e,t))||(t.exports=n)},9218:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(1979).accBase;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccTable",mixins:[DS.flagManager.dropInAcc?n.dropIn:n,r],getRows:function(){for(var t,e=this.props.slideObject.objects().slice(),i=[];e.length;){var n=e[0],r=n.data(),o=r.row;null!=n.imagelib()&&(t=r),null==i[o]&&(i[o]=[]);var s=e.shift();s.get("tabEnabled")&&(this.hasTabChildren=!0),i[o].push(s)}return i.forEach((function(t){t.sort((function(t,e){return t.data().col-e.data().col}))})),delete i[void 0],{rows:i,img:t}}})}.call(e,i,e,t))||(t.exports=n)},8370:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(1979),o=r.accBase,s=r.accTextControl;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccTableCell",mixins:[DS.flagManager.dropInAcc?n.dropIn:n,o,s]})}.call(e,i,e,t))||(t.exports=n)},6751:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(1979),o=r.accBase,s=r.accTextControl;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccTableHeaderCell",mixins:[DS.flagManager.dropInAcc?n.dropIn:n,o,s]})}.call(e,i,e,t))||(t.exports=n)},55:function(t,i,n){var r;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}r=function(t){"use strict";var i=n(7875),r=n(2577),o=n(9526),a=n(1979).accBase,u=n(3423).parseBlocks,h=n(23),d=DS,p=d._,f=d.utils,g=f.pxify,m=f.getPath,v=d.svgUtils,S=d.appState,y=d.focusManager,b=d.pubSub,w=d.events;DS.flagManager.dropInAcc&&(r=DS.DropIn);var x=r.createClass({displayName:"AccText",controlViewPath:DS.flagManager.dropInVectors&&!DS.flagManager.dropInCore?["refs","innard","dropInView"]:["refs","innard"],mixins:[DS.flagManager.dropInAcc?o.dropIn:o,i,a],tabIndex:-1,normalizeBullets:!0,getFocusTarget:function(t){return null!=t&&"A"===t.tagName?t:this.refs.focusTarget},componentWillMount:function(){S.on(DS.events.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged)},componentWillUnmount:function(){S.off(DS.events.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged)},beforeInitState:function(){this.tabIndex=this.objModel.isEventable&&this.objModel.hasEvent("onkeypress")?0:-1,this.updateTextConfig()},getInitialState:function(){return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({accessibleTextOn:S.accessibleTextOn()},this.props.isTableChild?{tabbable:this.props.isTableChild}:{})},getScrollView:function(){return m(this,"controlView.refs.vtext.refs.scrollBar")},getScrollbarAttribs:function(){var t=this.getScrollView(),e=null==t||t.state.isHidden;return{tabIndex:e?-1:0,"aria-role":"scrollbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":null==t?0:t.state.percent,"aria-hidden":e,onFocus:this.onScrollbarFocus,onKeyDown:this.onScrollbarKeyDown}},getScrollbarStyle:function(){var t=16/this.props.winScale,e=this.getLayoutMetrics(),i=e.height,n=e.width,r=e.transform;return{width:g(t),height:g(i),transformOrigin:"".concat(-n,"px 0px"),transform:r,position:"absolute",right:g(16)}},onScrollbarFocus:function(t){var e=this.getScrollView();y.setFocusRectOn(this.refs.scrollbar,e.el.getBoundingClientRect()),t.stopPropagation()},onScrollbarKeyDown:function(t){var e=this.getScrollView();null!==e&&e.scrollOnKey(t)},onAccessibleTextChanged:function(t){var e=this;window.requestAnimationFrame((function(){return e.setState({accessibleTextOn:t})}))},getTextRotation:function(){return this.semanticTextConfig.rotation},getWidth:function(){var t=s(this.getRect(),4),e=t[0],i=(t[1],t[2]);t[3];return i-e},getHeight:function(){var t=s(this.getRect(),4),e=(t[0],t[1]);t[2];return t[3]-e},handleKeyboardClick:function(t,e){b.trigger(w.textItem.MOUSEDOWN,e,this.objModel.absoluteId,t),this.objView.textEvent("onlinkrelease",e)},onLinkClicked:function(t){b.trigger(w.textItem.MOUSEDOWN,t,this.objModel.absoluteId,e),this.objView.textEvent("onlinkrelease",t)},onFocus:function(t){b.trigger(w.textItem.MOUSEOVER,t.target.dataset.linkid,this.objModel.absoluteId,t)},onBlur:function(t){b.trigger(w.textItem.MOUSEOUT,t.target.dataset.linkid,this.objModel.absoluteId,t)},isLinkTabbable:function(){return!0},getLinkFocusRects:function(t){var e=this;if(this.state.accessibleTextOn)return null;var i=this.semanticTextConfig.origConfig.linkdata().find((function(e){if(e.get("id")===t.className)return e}));if(this.state.altTextOverridesText&&(i=this.getDefaultLink()),null==i)return null;var n=i.attributes.hotareas,r=h.getSlideMetrics(this.objView),o=function(t,i){return h.localPtToGlobal(e.objView,t,i,r)};return n.map((function(t){var e=t.xPos,i=t.yPos,n=t.width,r=t.height,s=o(e,i),a=o(e,i+r),l=o(e+n,i),c=o(e+n,i+r),u=Math.min(s.x,a.x,l.x,c.x),h=Math.min(s.y,a.y,l.y,c.y);return{left:u,top:h,width:Math.max(s.x,a.x,l.x,c.x)-u,height:Math.max(s.y,a.y,l.y,c.y)-h}}))},getLayoutMetrics:function(){var t=this,e=[],i=s(this.getRect(),2),n=i[0],r=i[1],o=s(["rotateXPos","rotateYPos","rotation","xPos","yPos"].map((function(e){return t.objModel[e]()})),5),a=o[0],l=o[1],c=o[2],u=o[3],h=o[4];0!==c&&e.push(v.transformTranslate(g(u-n),g(h-r)),v.transformTranslate(g(a),g(l)),v.transformRotate("".concat(c,"deg")),v.transformTranslate(g(-a),g(-l)));var d=s(["xPos","yPos","width","height"].map((function(e){return t.semanticTextConfig.origConfig[e]()})),4),p=d[0],f=d[1],m=d[2],S=d[3],y=this.getTextRotation(),b=function(t){return 270===t||90===t}(y),w=this.origTemplate.direction;e.push(v.transformTranslate(g("rotated90"===w?m+p:p),g("rotated270"===w?S+f:f))),0!==y&&e.push(v.transformRotate("".concat(y,"deg")));var x=this.getScrollView();return{width:(b?S:m)-(null==x||x.state.isHidden?0:15),height:b?m:S,transform:e.join(" ")}},getInnerProps:function(){var t=this.semanticTextConfig.origConfig.valign(),e="top"===t?"flex-start":"center"===t?"center":"flex-end",i=this.getLayoutMetrics(),n=i.height,r=i.width;return{display:"inline-flex",flexDirection:"column",transformOrigin:"0 0",width:r,height:n,minWidth:r,minHeight:n,transform:i.transform,justifyContent:e}},parseText:function(){this.updateTextConfig();var t=this.semanticTextConfig.origConfig;return null==t?{children:[]}:u(this.semanticTextConfig.varMethods.updateVarText(this.origTemplate),t.wordwrap()||S.accessibleTextOn(),t.textshadow())},updateTextConfig:function(){this.semanticTextConfig=this.objModel.semanticTextConfig||{origConfig:{vartext:p.noop,linkdata:function(){return[]}}},this.origTemplate=this.semanticTextConfig.origConfig.vartext()},getDefaultLink:function(){var t=this.semanticTextConfig.origConfig.linkdata();if(!(t.length<=0)){var e=JSON.stringify(this.semanticTextConfig.origConfig).includes('"flowDirection":"rightToLeft"')?p.gt:p.lt;return t.reduce((function(t,i){var n=p.first(t.get("hotareas")),r=p.first(i.get("hotareas"));return r.yPos<n.yPos||r.yPos===n.yPos&&e(r.xPos,n.xPos)?i:t}),{get:function(){return[{xPos:Number.MAX_SAFE_INTEGER,yPos:Number.MAX_SAFE_INTEGER}]}})}}});return x}.call(i,n,i,t),void 0===r||(t.exports=r)},5459:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(7875),n=i(2577),o=i(9526),s=i(7859),a=i(1979).accBase,l=DS,c=(l._,l.utils.pxify),u=l.dom,h=u.addClass,d=u.removeClass,p=u.getParentWithClass,f=l.globalEventHelper.addDocumentListener,g=l.pubSub,m=l.events,v=l.detection,S=DS.detection.deviceView.isDesktop&&DS.detection.theme.isUnified;return DS.flagManager.dropInAcc&&(n=DS.DropIn),n.createClass({dropInSettings:{useLegacySetState:!0},displayName:"AccTextInput",controlViewPath:["refs","innard"],mixins:[DS.flagManager.dropInAcc?o.dropIn:o,e,a],tabIndex:0,componentWillMount:function(){g.on(m.layer.STACKING_CHANGED,this.onStackingChanged),g.on(m.slideObject.TOGGLE_VISIBILITY,this.onSlideObjectToggleVisibility),g.on(m.elso.SHOW_CONTENT_START,this.onElsoShowContentStart),g.on(m.elso.HIDE_CONTENT_COMPLETE,this.onElsoHideContentComplete)},componentWillUnmount:function(){this.destroyed=!0,null!=this.removeBodyTouchListener&&(this.removeBodyTouchListener(),this.removeBodyTouchListener=null),g.off(m.layer.STACKING_CHANGED,this.onStackingChanged),g.off(m.slideObject.TOGGLE_VISIBILITY,this.onSlideObjectToggleVisibility),g.off(m.elso.SHOW_CONTENT_START,this.onElsoShowContentStart),g.off(m.elso.HIDE_CONTENT_COMPLETE,this.onElsoHideContentComplete)},onStackingChanged:function(){var t=this;window.requestAnimationFrame((function(){t.updateSpellcheckState();var e=t.objModel.getLayer();t.setState({enabled:!t.objModel.getSlide().slideLayers().hasModalLayerAbove(e)})}))},onSlideObjectToggleVisibility:function(){this.updateSpellcheckState()},onElsoShowContentStart:function(){this.setSpellCheckState(!1)},onElsoHideContentComplete:function(){this.updateSpellcheckState()},updateSpellcheckState:function(){var t=this;null!=this.spellCheckRequest&&window.cancelAnimationFrame(this.spellCheckRequest),this.spellCheckRequest=window.requestAnimationFrame((function(){t.destroyed||(t.spellCheckRequest=null,t.setSpellCheckState(t.calcSpellCheckValue()))}))},setSpellCheckState:function(t){this.state.spellcheck!==t&&(this.setState({spellcheck:t}),v.browser.isFF||this.updateInputForSpellCheckChange(t))},updateInputForSpellCheckChange:function(t){var e=this.getInput(),i=document.activeElement,n=!v.env.isRise||v.env.isRise&&null==i.querySelector("#focus-sink")&&null==i.querySelector("body"),r=null!=p(this.controlView.el,"scrollarea");e.value="",e.value=this.state.inputValue,t&&n&&!r&&(this.blurringForSpellCheck=!0,e.focus(),e.blur(),i.focus(),this.blurringForSpellCheck=!1)},calcSpellCheckValue:function(){return!(!this.objModel.getLayer().currView.trulyVisible||!this.objModel.currView.trulyVisible)&&(!this.objModel.getSlide().slideLayers().hasModalLayerAbove(this.objModel.getLayer())&&(!this.isCollidingWithLayerObject()&&!this.isCollidingWithActiveLayerObjects()))},isCollidingWithActiveLayerObjects:function(){var t=this,e=this.objModel.getSlide().slideLayers().activeLayers.filter((function(e){return e.attributes.depth>t.objModel.getLayer().attributes.depth}));return!(!e||0===e.length)&&e.flatMap((function(t){return t.objects().models})).some((function(e){return null!=e.currView&&s.getOverlapArea(t.objModel.currView,e.currView,[],!0)>50}))},isCollidingWithLayerObject:function(){var t=this,e=this.objModel.getFlattenedDepth();return this.objModel.getLayer().objects().some((function(i){return i.getFlattenedDepth()>e&&i.currView.trulyVisible&&s.getOverlapArea(t.objModel.currView,i.currView,[],!0)>50}))},getInitialState:function(){return this.tabIndex=this.objModel.get("tabEnabled")?0:-1,{placeholder:this.objModel.get("placeHolderText"),inputValue:(DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?this.controlView.dropInView.state.inputValue:this.controlView.state.inputValue)||""}},onInputChange:function(t){this.controlView.isValidEntry(t.target)&&(this.setState({inputValue:t.target.value}),this.controlView.onInputChange(t))},onBlur:function(t){this.blurringForSpellCheck||(this.controlView.onInputBlur(t),this.onTextSelectionChanged())},onFocus:function(t){null==this.removeBodyTouchListener&&(this.removeBodyTouchListener=f("touchstart",this.onBodyTouchStart,!0))},onBodyTouchStart:function(t){this.refs.input.contains(t.target)||(this.onBlur(),this.getFocusTarget().blur(),this.removeBodyTouchListener(),this.removeBodyTouchListener=null)},getState:function(){return{inputValue:DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?this.controlView.dropInView.state.inputValue:this.controlView.state.inputValue}},getInput:function(){return this.refs.input},isTextArea:function(){return this.controlView.isTextArea()},onKeyDown:function(t){this.controlView.onKeyDown(t)},onKeyUp:function(t){this.controlView.setPlayerProp("Text",t.target.value)},onTextMouseUp:function(t){0===t.button?this.objModel.executePlayerEvent("onrelease"):2===t.button&&this.objModel.executePlayerEvent("onrightrelease")},onDoubleClick:function(t){0===t.button&&this.objModel.executePlayerEvent("ondoubleclick")},getInputStyle:function(){var t=this.controlView.getInputStyle(!0,this.props.winScale),e=r(this.getRect(),4),i=e[0],n=e[1],o=e[2],s=e[3],a="PrintPromptSlide_Input"===this.id&&DS.detection.theme.isUnified;return Object.assign(t,{caretColor:t.color,transform:"scale(".concat(1/this.props.winScale,") ").concat(t.transform||""),width:c((S&&this.controlView.isTextArea()?-10:0)+(o-i-this.controlView.getScrollbarWidth())*this.props.winScale),height:c((s-n)*this.props.winScale),visibility:this.objView.trulyVisible?"visible":"hidden"},a?{left:i+47}:{})},getMaxChars:function(){return this.controlView.getMaxChars()},onBeginTextSelect:function(){var t=this;this.selecting=!0,this.removeSelectListener=f("mouseup",(function(){t.selecting=!1,t.removeSelectListener()})),window.requestAnimationFrame((function(){t.onTextSelectionChanged()}))},onTextSelectionChanged:function(){var t=this,e=this.getScrollInfo(),i=e.left,n=e.top;i===this.lastScrollLeft&&n===this.lastScrollTop||(this.controlView.scrollTo(i,n),this.lastScrollLeft=i,this.lastScrollTop=n),this.selecting&&window.requestAnimationFrame((function(){t.onTextSelectionChanged()}))},getScrollInfo:function(){if(null!=this.refs.input){var t=this.refs.input;return{left:t.scrollLeft,top:t.scrollTop}}return{left:0,top:0}},getFocusTarget:function(t){return null==t?this.refs.input:this.controlView.el},onScroll:function(){var t=this.getScrollInfo(),e=t.left,i=t.top;this.controlView.scrollTo(e,i)},setClickable:function(t){this.clickable!=t&&(this.clickable=t,(t?h:d)(this.getFocusTarget(),"acc-clickable"))}})}.call(e,i,e,t))||(t.exports=n)},1714:function(t,e,i){var n;function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(7875),n=i(2577),s=i(9526),a=i(3091),l=i(1979),c=l.accBase,u=(l.accTextControl,DS),h=u.events,d=u.stringTabler,p=u.utils,f=u.dom,g=u.pubSub,m=u.detection,v=u.constants.keys,S=v.UP,y=v.DOWN,b=v.LEFT,w=v.RIGHT,x=v.ESCAPE,D=v.TAB,C=87,E=65,P=83,T=68,I="free";DS.flagManager.dropInAcc&&(n=DS.DropIn);var A=n.createClass({displayName:"AccThreeSixtyImage",mixins:[DS.flagManager.dropInAcc?s.dropIn:s,e,c,a],tabIndex:0,getInitialState:function(){return{innerHtml:""}},onInterceptShadowFocus:function(t){var e=this;if(t.target===this.el&&!this.el.contains(t.relatedTarget)&&null!=this.currentFocusedElement)return this.currentFocusedElement.target.focus(),void(this.currentFocusedElement=void 0);var i=t.target.dataset.markerId;if(DS.flagManager.dropInAcc||t.persist(),this.wasFocusedByClick=!1,this.focusByClick)return this.currentFocusedElement=void 0,this.focusByClick=!1,void(this.wasFocusedByClick=!0);if(t.target===this.el)return m.deviceView.isMobile||(this.refs.status.innerHTML=this.innard.image3d.getVerboseNavigationText(!0)),void this.shadowFocus(t);if(this.refs.status.innerHTML="",f.hasClass(t.target,"acc-three-sixty-media-img")||f.hasClass(t.target,"acc-three-sixty-media-panel-button")||f.hasClass(t.target,"acc-three-sixty-media-play-audio"))return this.shadowFocus(t),void(this.currentFocusedElement=t);if(null!=t.target.dataset.parentMarkerId){var n=t.target.dataset.parentMarkerId,r=this.innard.image3d.sprites[n],o=null!=r&&r.userData.cssMarker;if(f.hasClass(t.target,"acc-three-sixty-hotspot-hint"))return this.innard.image3d.hideLastPanel(),this.sizeChildToAbsRect(o.hotspotHint.iconEl,t.target),this.shadowFocus(t),void(this.currentFocusedElement=t);if(f.hasClass(t.target,"acc-three-sixty-hotspot-hint-tip"))return this.innard.image3d.hideLastPanel(),this.sizeChildToAbsRect(o.hotspotHint.contentEl,t.target),this.shadowFocus(t),void(this.currentFocusedElement=t)}if(f.hasClass(t.target,"acc-three-sixty-nav-btn")){var s=f.hasClass(t.target,"acc-three-sixty-nav-prev");return this.refs.status.innerHTML=s?"":this.innard.image3d.getVerboseNavigationText(),this.sizeChildToAbsRect(this.innard.image3d.navUi[s?"threeGuidedLeftBtnEl":"threeGuidedRightBtnEl"],t.target),this.shadowFocus(t),void(this.currentFocusedElement=t)}if(!i)return this.shadowFocus(t),void(this.currentFocusedElement=t);var a=this.innard.image3d.sprites[i],l=p.getPath(a,"userData.cssMarker.panel"),c=this.innard.image3d.lastPanel();if(null!=c&&c!=l&&c.hide(),Object.keys(this.innard.image3d.markersByIdx).forEach((function(t){var i=e.innard.image3d.markersByIdx[t];i.wasFocusedByClick&&Object.assign(i.accChildEl.style,{left:null,top:null,width:null,height:null})})),this.innard.image3d.setCurrMarker(a),this.innard.image3d.navigation.type===I){null!=l&&"hidden"!=l.el.style.visibility?(this.showPanel(l,0),this.shadowFocus({target:l.accChildEl})):this.panToMarker(t,i),null!=this.innard.image3d.freeAccShowMarkers&&(this.innard.image3d.freeAccShowMarkers(),this.innard.image3d.freeAccShowMarkers=null)}else{var u=p.getPath(a,"userData.cssMarker.panel");null!=u&&u.shown?this.showPanel(u,0):this.panToMarker(t,i)}},panToMarker:function(t,e){var i=this;this.innard.image3d.panToMarker(e,!0,(function(){null!=t.target.dataset.markerId&&(i.shadowFocus(t),i.currentFocusedElement=t)}))},sizeChildToAbsRect:function(t,e,i){var n=null==t.tagName?t:t.getBoundingClientRect(),r=1/this.objView.props.winScale,o=(i||this.innard.refs.glEl).getBoundingClientRect(),s=n.left-o.left,a=n.top-o.top,l=n.width,c=n.height;Object.assign(e.style,{left:"".concat(s*r,"px"),top:"".concat(a*r,"px"),width:"".concat(l*r,"px"),height:"".concat(c*r,"px")})},componentWillMount:function(){this.objModel.on(h.threeSixtyImage.READY,this.onChildrenReady)},componentDidMount:function(){var t=this;this.keys={},this.htmlReady((function(){t.innard=DS.flagManager.dropInBase&&!DS.flagManager.dropInCore?t.objModel.currView.refs.innard.dropInView:t.objModel.currView.refs.innard,t.innard.el.addEventListener("mousedown",t.onDown),document.addEventListener("keydown",t.onKeyDownDoc),document.addEventListener("keyup",t.onKeyUp),t.loop(),t.checkLatestHtml()})),this.el.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),g.on(h.threeSixtyImage.MEDIA_CLOSED,this.onMediaOverlayClosed),g.on(h.skipNav.FOCUSED,this.onSkipNavFocused)},onResize:function(){var t=this;m.deviceView.isMobile&&(clearTimeout(this.resizeId),this.resizeId=setTimeout((function(){return t.positionNavRects()}),300))},positionNavRects:function(){var t=this.el.querySelector(".acc-three-sixty-nav-next"),e=this.el.querySelector(".acc-three-sixty-nav-prev");null!=e&&this.sizeChildToAbsRect(this.innard.image3d.navUi.threeGuidedLeftBtnEl,e),null!=t&&this.sizeChildToAbsRect(this.innard.image3d.navUi.threeGuidedRightBtnEl,t)},onSkipNavFocused:function(){this.innard.image3d.hideLastPanel()},onDown:function(t){("CANVAS"===t.target.tagName||f.hasClass(t.target,"three-nav-content"))&&(this.currentFocusedElement=null,this.allowArrowKeys=!0)},onMediaOverlayClosed:function(){this.imageMediaOpen=!1;var t=this.innard.image3d;if(m.os.isAndroid){var e=document.querySelector(".panel-el.panel-shown .panel-title");null!=e&&e.focus()}else if(!m.device.isMobile&&f.closest(document.activeElement,(function(t){return f.hasClass(t,"panel-media-overlay")}))){var i=t.lastPanel();if(null!=i&&null!=i.accChildEl&&i.shown)i.accChildEl.focus();else{var n=t.sprites[this.imageMediaMarkerId],r=p.getPath(n,"userData.cssMarker");null!=r&&(r.accChildEl.focus(),this.onClick({target:r.accChildEl}))}}},clickVideoMedia:function(t,e){var i=this;if(t.target.dataset.isMediaVideo)return e.videoOpenedWithAcc=!0,e.showMediaType("video"),setTimeout((function(){var e=document.querySelector(".panel-video-container");null!=e&&(i.imageMediaOpen=!0,i.imageMediaMarkerId=t.target.dataset.markerId,e.focus(),window.requestAnimationFrame((function(){i.shadowFocus({target:e})})))}),100),!0},clickImageMedia:function(t,e){var i=this;if(t.target.dataset.isMediaImg){t.target;e.showMediaType("image");var n=document.querySelector(".panel-image-container");if(null!=n)return this.imageMediaOpen=!0,this.imageMediaMarkerId=t.target.dataset.markerId,n.focus(),window.requestAnimationFrame((function(){i.shadowFocus({target:n})})),!0}},onAudioSlider:function(t){var e=this;null!=this.lastOpenPanel&&(null!=this.lastOpenPanel.audioPlayer&&this.lastOpenPanel.audioPlayer.playing&&(clearTimeout(this.resumeAudioId),this.resumeAudioId=setTimeout((function(){e.lastOpenPanel.onPlayMedia()}),2e3)),this.lastOpenPanel.onPauseMedia(!0),this.lastOpenPanel.audioPlayer.seek(1e3*t.target.value),this.updateAudioTime(parseFloat(t.target.value),!0))},getReadableTime:function(t){var e=d.getString("progress_hours"),i=d.getString("progress_minutes"),n=d.getString("progress_seconds"),r=d.getString("progress_hour"),s=d.getString("progress_minute"),a=d.getString("progress_second"),l=new Date(1e3*t).toISOString().substr(11,8).split(":"),c="";if(l.length>0){var u=o(l.map((function(t){return t.replace(/^0+/,"")})),3),h=u[0],p=u[1],f=u[2];h.length>0&&(c+="".concat(h," ").concat(1==h?r:e,", ")),p.length>0&&(c+="".concat(p," ").concat(1==p?s:i,", ")),f.length>0&&(c+="".concat(f," ").concat(1==f?a:n))}return c},updateAudioTime:function(t,e){var i=this.getReadableTime(t);(this.lastAudioSlider==document.activeElement||e)&&(this.refs.status.innerHTML=i),null!=p.getPath(this,"lastOpenPanel.panelAudioSeekFillEl")&&(this.lastAudioSlider.value=parseFloat(this.lastOpenPanel.panelAudioSeekFillEl.getAttribute("aria-valuenow")))},clickAudioMedia:function(t,e){if(t.target.dataset.isMediaAudio)return e.onClickPlayMedia(),!0},clickPanelButton:function(t,e){return!!t.target.dataset.isPanelButton&&(e.panelButton.onClick(),!0)},clickNavBtn:function(t){var e=this.innard.image3d;if("true"!==t.target.getAttribute("aria-disabled")&&(e.focusPanelOnShow=!0,e.isAccNav=!0,e.hideLastPanel(),f.hasClass(t.target,"acc-three-sixty-nav-prev")?(e.goPrevGuidedClick(t),null==e.prevMarker.hotspotHint&&(null==e.prevMarker.panel?e.prevMarker.accChildEl.focus():e.prevMarker.accChildEl.setAttribute("aria-expanded",!0))):f.hasClass(t.target,"acc-three-sixty-nav-next")&&(e.goNextGuidedClick(t),null==e.nextMarker.hotspotHint&&(null==e.nextMarker.panel?e.nextMarker.accChildEl.focus():e.nextMarker.accChildEl.setAttribute("aria-expanded",!0))),e.isAccNav=!1,e.nextMarker.hotspotHint)){var i=e.nextMarker.id,n=this.el.querySelector('[data-parent-marker-id="'.concat(i,'"]'));null!=n&&(n.focus(),this.shadowFocus({target:n}))}},syncHotspotHint:function(t){r(document.querySelectorAll(".acc-three-sixty-hotspot-hint-tip")).forEach((function(e){"block"===e.style.display&&-1===e.id.indexOf(t.id)&&(e.style.display="none")})),t.hotspotHint.opened?(t.accHotspotHintBubbleEl.removeAttribute("aria-hidden"),t.accHotspotHintBubbleEl.style.display="block",t.accHotspotHintBubbleEl.focus(),t.accHotspotHintEl.setAttribute("aria-pressed","true")):(t.accHotspotHintBubbleEl.setAttribute("aria-hidden","true"),t.accHotspotHintEl.setAttribute("aria-pressed","false"),t.accHotspotHintBubbleEl.style.display="none")},clickHotspotHint:function(t,e){var i=this;this.innard.image3d.hideLastPanel(),e.hotspotHint.onMarkerClicked(t),"false"===t.target.getAttribute("aria-pressed")?(e.accHotspotHintBubbleEl.removeAttribute("aria-hidden"),window.requestAnimationFrame((function(){e.accHotspotHintBubbleEl.style.display="block",e.accHotspotHintBubbleEl.focus(),i.shadowFocus({target:e.accHotspotHintBubbleEl})})),t.target.setAttribute("aria-pressed","true")):(e.accHotspotHintBubbleEl.setAttribute("aria-hidden","true"),t.target.setAttribute("aria-pressed","false"),e.accHotspotHintBubbleEl.style.display="none")},onClick:function(t){var e=this.innard.image3d,i=t.target.dataset.markerId||t.target.dataset.parentMarkerId,n=this.innard.image3d.sprites[i],r=null!=n&&n.userData.cssMarker;if(f.hasClass(t.target,"acc-three-sixty-hotspot-hint"))this.clickHotspotHint(t,r);else if(f.hasClass(t.target,"acc-three-sixty-nav-btn"))this.clickNavBtn(t);else if(null!=n){var o=null!=r&&r.panel;if(!(this.clickVideoMedia(t,o)||this.clickImageMedia(t,o)||this.clickAudioMedia(t,o)||this.clickPanelButton(t,o))){var s=n.userData.cssMarker.polyHotspot;if(null!=i&&null!=n&&null!=o){if(null!=s)if(o.shown)r.panel.hide();else{var a=e.vecToScreenPosition(s.getCenterPoint(s.shapeMesh));r.panel.show(!0,a)}else o[o.shown?"hide":"show"]();r.addToVisitedMarkers(),this.showPanel(o)}else null!=r&&r.addToVisitedMarkers();this.handleShowTrigger({panel:o,sprite:n,marker:r})}}},handleShowTrigger:function(t){var e=t.panel,i=t.sprite,n=t.marker;(null==e||p.getPath(e,"shown"))&&(i.userData.cssMarker.visited=!0,this.refs.status.innerHTML=this.innard.image3d.getVerboseNavigationText(),n.triggerEvent("onlinkrelease",i.userData.id)),n.isHotspot()&&(n.pano.hotspotLayer.currHotspot=n.polyHotspot)},showPanel:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!m.deviceView.isPhone&&(this.panelOpen=t.shown,this.lastOpenPanel=t,t.shown)){this.sizeChildToAbsRect(t.el,t.accChildEl);var n=t.accChildEl;this.sizeChildToAbsRect(t.titleEl,n.firstElementChild,t.el),null!=t.mediaImageEl&&this.sizeChildToAbsRect(t.mediaImageEl,n.querySelector(".acc-three-sixty-media-img"),t.el),null!=t.mediaVideoPosterEl&&this.sizeChildToAbsRect(t.mediaVideoPosterEl,n.querySelector(".acc-three-sixty-media-img"),t.el),null!=t.panelButton&&this.sizeChildToAbsRect(t.panelButton.el,n.querySelector(".acc-three-sixty-media-panel-button"),t.el),null!=t.mediaAudioEl&&(this.sizeChildToAbsRect(t.panelAudioPlayEl,n.querySelector(".acc-three-sixty-media-play-audio"),t.el),this.sizeChildToAbsRect(t.panelAudioSeekEl,n.querySelector(".acc-audio-slider"),t.el),null!=this.lastAudioSlider&&(this.lastAudioSlider.removeEventListener("input",this.onAudioSlider),this.lastAudioSlider.removeEventListener("change",this.onAudioSlider)),this.lastAudioSlider=n.querySelector(".acc-audio-slider"),null!=this.lastAudioSlider&&(this.lastAudioSlider.addEventListener("input",this.onAudioSlider),this.lastAudioSlider.addEventListener("change",this.onAudioSlider),null!=p.getPath(this,"lastOpenPanel.panelAudioSeekFillEl")&&(this.lastAudioSlider.setAttribute("max",this.lastOpenPanel.panelAudioSeekFillEl.getAttribute("aria-valuemax")),this.lastAudioSlider.setAttribute("value",this.lastOpenPanel.panelAudioSeekFillEl.getAttribute("aria-valuenow"))))),this.sizeChildToAbsRect(t.bodyEl,n.querySelector(".three-sixty-panel-body"),t.el),i&&setTimeout((function(){t.accChildEl.focus()}),null!=e?e:500)}},onChildrenReady:function(t){var e=t.getAccHtml(),i=t.getVerboseNavigationText(!0);this.setState({fullLabel:i,innerHtml:e})},componentWillUpdate:function(){this.checkLatestHtml()},checkLatestHtml:function(){var t;if(DS.flagManager.dropInAcc){var e=null==this||null===(t=this.innard)||void 0===t?void 0:t.image3d;null!=e&&this.onChildrenReady(e)}},componentDidUpdate:function(){this.state.innerHtml.length>0&&null!=this.innard&&null!=this.innard.image3d&&(this.innard.image3d.connectAccChildren(this,this.refs.accChildren),m.deviceView.isMobile&&this.positionNavRects())},loop:function(){var t,e=this.innard.image3d;(this.keys[w]||this.keys[T])&&(t=e.changeLocX(-2)),(this.keys[b]||this.keys[E])&&(t=e.changeLocX(2)),(this.keys[S]||this.keys[C])&&(t=e.changeLocY(2)),(this.keys[y]||this.keys[P])&&(t=e.changeLocY(-2)),t&&null!=document.activeElement&&document.activeElement!=this.el&&(e.hideLastPanel(),this.el.focus()),this.loopId=window.requestAnimationFrame(this.loop)},controlTabOrder:function(t){var e=document.activeElement,i="".concat(t?"prev":"next","El");if(null!=e&&null!=e.dataset[i]){for(var n,r=e.dataset[i].split(/\,\s+/),o=0;o<r.length&&(null==(n=document.querySelector(r[o]))||"none"==n.style.display);o++);null!=n&&(n.focus(),this.shadowFocus({target:n}))}},onKeyDownDoc:function(t){if(this.state.tabbable){var e=this.innard.image3d;if(e.hotspotReveal||(e.isNavigationPan=!1),this.imageMediaOpen&&t.keyCode===D)this.controlTabOrder(t.shiftKey);else{var i=!1,n=null!=document.activeElement&&f.hasClass(document.activeElement,"slide-object-threesixtyimage");if(e.navigation.type===I){if(t.keyCode===D&&!this.panelOpen){var r=e.getCentermostMarker();null!=r&&null!=r.accChildEl&&r!=p.getPath(e,"currMarker.userData.cssMarker")&&(t.preventDefault(),r.accChildEl.focus(),i=!0)}if(!i&&null!=e.lastMarkerClicked&&t.keyCode===D&&e.navigation.type===I){var o=e.markersByIdx[e.lastMarkerClicked.idx+1];null!=o&&(t.preventDefault(),o.accChildEl.focus()),e.lastMarkerClicked=null}}else if(t.keyCode===D&&n){var s=e.markersByIdx[e.markerIdxInView];null!=s&&(t.preventDefault(),s.accChildEl.focus())}var a=null!=document.activeElement&&f.hasClass(document.activeElement,"acc-three-sixty-marker")&&"true"!=document.activeElement.getAttribute("aria-expaned");(this.allowArrowKeys||document.activeElement===this.el||a)&&this.keyDown(t)}}},isArrowKey:function(t){var e=this;return[b,w,y,S,C,E,P,T].some((function(t){return e.keys[t]}))},keyDown:function(t){var e=this.innard.image3d;p.getPath(e,"currMarker.userData.cssMarker.panel.shown")||(this.keys[t.keyCode]=!0,null==e||null==document.activeElement||f.hasClass(document.activeElement,"acc-three-sixty-image")||!this.isArrowKey()||(this.keys[t.keyCode]=!1))},onKeyUp:function(t){var e=this.innard.image3d,i=document.querySelector(".three-sixty-image-media-panel-overlay");if(t.keyCode===x&&null==i)return this.el.focus(),this.shadowFocus({target:this.el}),void e.hideLastPanel();null!=document.activeElement&&!f.hasClass(document.activeElement,"acc-three-sixty-image")&&this.isArrowKey()||((this.keys[w]||this.keys[T])&&(this.refs.status.innerHTML=d.getString("three_image_camera_right")),(this.keys[b]||this.keys[E])&&(this.refs.status.innerHTML=d.getString("three_image_camera_left")),(this.keys[S]||this.keys[C])&&(this.refs.status.innerHTML=d.getString("three_image_camera_up")),(this.keys[y]||this.keys[P])&&(this.refs.status.innerHTML=d.getString("three_image_camera_down")),this.keys[t.keyCode]=!1)},componentWillUnmount:function(){null==this.innard&&DS.flagManager.dropInAcc||(window.cancelAnimationFrame(this.loopId),window.removeEventListener("resize",this.onResize),null!=this.lastAudioSlider&&(this.lastAudioSlider.removeEventListener("change",this.onAudioSlider),this.lastAudioSlider.removeEventListener("input",this.onAudioSlider)),this.innard.el.removeEventListener("mousedown",this.onDown),document.removeEventListener("keydown",this.onKeyDownDoc),document.removeEventListener("keyup",this.onKeyUp),g.off(h.threeSixtyImage.MEDIA_CLOSED,this.onMediaOverlayClosed),g.off(h.skipNav.FOCUSED,this.onSkipNavFocused))}});return A}.call(e,i,e,t),void 0===n||(t.exports=n)},5413:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS.focusManager,n=i(7875),r=i(2577),o=i(9526),s=i(1979).accBase,a=i(23);return DS.flagManager.dropInAcc&&(r=DS.DropIn),r.createClass({displayName:"AccVideo",controlViewPath:["refs","innard"],mixins:[DS.flagManager.dropInAcc?o.dropIn:o,n,s],tabIndex:-1,getInitialState:function(){return DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore&&(this.controlView=this.controlView.dropInView),this.videoControls=this.controlView.refs.controls,this.getState()},getState:function(){return{playLabel:null!=this.videoControls?this.videoControls.props.isPlaying?this.videoControls.state.i18nacc_pause:this.videoControls.state.i18nacc_play:null,seekLabel:"seek bar",duration:this.controlView.state.duration,elapsed:this.controlView.state.currentTime,playRect:this.getRectByRef("playPause"),seekRect:this.getRectByRef("progressBar")}},getRectByRef:function(t){if(null!=this.videoControls){var e=this.videoControls.refs[t].getBoundingClientRect(),i=e.top,n=e.left,r=e.bottom,o=e.right,s=a.globalPtToSlideObject(this.objView,n,i),l=a.globalPtToSlideObject(this.objView,o,r);return[s.x,s.y,l.x,l.y]}},onButtonClick:function(t){this.triggerDefaultAction()},onPlayPauseClick:function(t){this.videoControls.props.toggleVideoControls()},onSeekbarChange:function(t){this.controlView.onAccShadowRangeChange(parseInt(this.refs.progressBar.value))},takeControlFocus:function(t){this.refs[t].focus(),e.setFocusRectOn(this.refs[t])}})}.call(e,i,e,t))||(t.exports=n)},1430:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS,o=r.keyManager,s=r.globalEventHelper.addDocumentListener;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccVideoButtonMenuPopup",mixins:[DS.flagManager.dropInAcc?n.dropIn:n],getInitialState:function(){this.props.controlView.registerAccView(this);var t=this.props.controlView.getAccState();return t.currentIndex=this.getSelectedItemIndex(t),t},componentDidMount:function(){var t=this.refs.menu;t.addEventListener("focusin",this.onMenuFocusIn),t.addEventListener("focusout",this.onMenuFocusOut)},componentDidUpdate:function(){this.state.isOpen||this.refs.menu.contains(document.activeElement)&&this.takeControlFocus("button")},componentWillUnmount:function(){var t=this.refs.menu;t.removeEventListener("focusin",this.onMenuFocusIn),t.removeEventListener("focusout",this.onMenuFocusOut)},updateState:function(){DS.flagManager.dropInVideo&&!this.isMounted()||this.setState(this.props.controlView.getAccState())},takeControlFocus:function(t){var e=this;"button"===t?this.refs.button.focus():window.requestAnimationFrame((function(){e.state.isOpen&&e.getItemByIndex(e.state.currentIndex).focus()}))},onButtonClicked:function(){this.props.controlView.toggleOpen()},handleOptionSelected:function(t){this.props.controlView.setSelected(t)},onMenuFocusIn:function(){this.isFocused||(this.isFocused=!0,this.currentIndex=this.getSelectedItemIndex(),this.removeKeyListener=s("keydown",this.onKeyDown))},onMenuFocusOut:function(t){if(this.isFocused){var e=this.props.controlView.el,i=this.props.controlView.menuContainer;this.isFocused=!1,this.removeKeyListener(),null!=t.relatedTarget&&(this.el.contains(t.relatedTarget)||e.contains(t.relatedTarget)||null!=i&&i.contains(t.relatedTarget))||this.props.controlView.closePanel()}},getSelectedItemIndex:function(t){var e=t||this.state;return e.options.findIndex((function(t){return t.value===e.currentChoice}))},getItemByIndex:function(t){return this.refs["option-".concat(t)]},onKeyDown:function(t){var e=this.state.options.length,i=this.state.currentIndex;o.isDownishKey(t.which)?i++:o.isUpishKey(t.which)?i--:o.isHomeKey(t.which)?i=0:o.isEndKey(t.which)&&(i=e-1),i>=e&&(i=0),i<0&&(i=e-1),i!==this.state.currentIndex&&(t.preventDefault(),this.setState({currentIndex:i}),this.getItemByIndex(i).focus())}})}.call(e,i,e,t))||(t.exports=n)},1979:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(6536),n=i(3423).parseBlocks,o=DS,s=o._,a=o.utils,l=a.getPath,c=a.pxify,u=o.events,h=o.flagManager,d=o.focusManager,p=o.keyManager,f=o.pubSub,g=o.dom,m=o.appState;return{accBase:{getInitialState:function(){var t=this;null==this.getWidth&&(this.getWidth=function(){var e=r(t.getRect(),4),i=e[0],n=(e[1],e[2]);e[3];return n-i}),null==this.getHeight&&(this.getHeight=function(){var e=r(t.getRect(),4),i=(e[0],e[1]);e[2];return e[3]-i}),this.objView=this.props.slideObject.currView,this.controlView=l(this.objView,this.controlViewPath),this.objModel=this.props.slideObject,this.id=this.objModel.id,this.objView.accShadowView=this,this.scrollParent=this.objModel.getClosestAncestorByKind("scrollarea"),null!=this.beforeInitState&&this.beforeInitState();var i=DS.flagManager.dropInAcc&&this.objModel.isDroppable();return i&&requestAnimationFrame((function(){t.state.rect=t.objView.trulyVisible?e.getBounds(t.objView):null})),{rect:i?null:this.objView.trulyVisible?e.getBounds(this.objView):null,label:this.getLabel(),altTextOverridesText:this.objView.state.altTextOverridesText,tabbable:this.getTabbable(),tabIndex:this.tabIndex,depth:this.objModel.getFlattenedDepth?this.objModel.getFlattenedDepth():0}},getRect:function(){return null==this.state.rect?[0,0,0,0]:this.state.rect},getBaseAccAttribs:function(){return{id:"acc-".concat(this.id),tabIndex:this.tabIndex,onFocus:this.onShadowFocus,onBlur:this.onShadowBlur,onKeyDown:this.onShadowKeyDown,disabled:DS.flagManager.dropInAcc?!this.objView.isEnabled()||null:!this.state.enabled||null,"aria-hidden":!this.state.tabbable||null,"data-represents":this.objModel.absoluteId}},hasVarText:function(){return null!=l(this,"semanticTextConfig.origConfig.vartext")},getBaseAccStyle:function(){var t=r(this.getRect(),2),e=t[0],i=t[1];return{left:c(e),top:c(i),width:c(this.getWidth()),height:c(this.getHeight()),visibility:this.state.tabbable?"visible":"hidden",zIndex:this.state.depth}},componentWillMount:function(){var t=this;this.objModel.on("trueVisibilityChanged",this.onVisibilityChange),this.objModel.on(u.slideObject.TRANSFORM_DIRTY,this.onTransformDirty),h.multiLangSupport&&this.objModel.hasLocalizedText()&&(this.removeLocalizationListener=f.addListener(u.localization.LANGUAGE_UPDATED,(function(e){t.setState({currLangCode:e})}))),f.on(u.layer.STACKING_CHANGED,this.onDepthChanged)},componentDidMount:function(){this.associatedElso=this.getAssociatedElso(this.objModel)},onDepthChanged:function(){this.setState({depth:this.objModel.getFlattenedDepth()})},componentWillUnmount:function(){f.off(u.layer.STACKING_CHANGED,this.onDepthChanged),this.objModel.off("trueVisibilityChanged",this.onVisibilityChange),this.objModel.off(u.slideObject.TRANSFORM_DIRTY,this.onTransformDirty),null!=this.removeLocalizationListener&&this.removeLocalizationListener()},componentDidUpdate:function(t,e){null==this.focusedEl||s.isEqual(e.rect,this.state.rect)||d.setFocusRectOn(this.focusedEl)},onStateChanged:function(t,e){var i={enabled:this.objView.isEnabled(),tabbable:this.getTabbable(),label:this.getLabel()};!i.tabbable&&this.state.tabbable&&this.props.shadowDom.currFocusId===this.id&&this.props.shadowDom.updateTabPosition(this),null!=this.getState&&Object.assign(i,this.getState(e)),DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore?this.isMounted()&&this.setState(i):this.setState(i)},shadowFocus:function(t){null!=this.scrollParent&&this.objView.props.onScrollFocus(this.objView),null!=this.onFocus&&this.onFocus(t),this.focusedEl=null!=this.getFocusTarget?this.getFocusTarget(t.target):t.target;var e=null!=this.getLinkFocusRects?this.getLinkFocusRects(this.focusedEl):null;d.setFocusRectOn(this.focusedEl,e,2),this.props.shadowDom.currFocusId=this.id,this.isRelatedToElso(this.objModel)&&!this.focusFromSlideLayer&&this.objModel.parent.executePlayerEvent("onrollover"),this.focusFromSlideLayer=!1},onShadowFocus:function(t){null==this.onInterceptShadowFocus?this.shadowFocus(t):this.onInterceptShadowFocus(t)},onShadowKeyDown:function(t){null!=this.onKeyDown&&this.onKeyDown(t),p.executeKeypressEvent(this.objModel,t)},isRelatedToElso:function(t){return null!=t.relatedObject&&t.relatedObject.isKind("expandinglabel")},getAssociatedElso:function(t){if(null==t||!t.isKind)return null;if(t.isKind("expandinglabel"))return t;var e=t.getClosestAncestorByKind?t.getClosestAncestorByKind("expandinglabel"):null;return null==e&&this.isRelatedToElso(t)&&(e=t.relatedObject),e},onShadowBlur:function(t){if(null!=this.onBlur&&this.onBlur(t),d.takeFocusOff(this.focusedEl),this.focusedEl=null,null!=this.associatedElso){var e=t.relatedTarget||document.activeElement,i=g.mapShadowToModel(e),n=this.getAssociatedElso(i),r=this.associatedElso.currView.el;n===this.associatedElso||e.hasAttribute("data-top-level")||r.contains(e)||r.contains(DS.utils.fullScreen.getEl())||this.associatedElso.currView.refs.innard.hideComplete()}},onVisibilityChange:function(t){var i={tabbable:this.getTabbable()};t&&null==this.state.rect&&(i.rect=e.getBounds(this.objView)),this.setState(i)},onTransformDirty:function(){var t=this;DS.flagManager.dropInVectors&&!DS.flagManager.dropInCore?requestAnimationFrame((function(){return t.setState({rect:t.getBounds()})})):this.setState({rect:this.getBounds()})},getTabbable:function(){return!this.objView.props.tabIndexDisabled&&this.objView.trulyVisible&&this.objModel.get("tabEnabled")&&(null==this.isTabbable||this.isTabbable())},getBounds:function(){return e.getBounds(this.objView)},getLabel:function(){return this.objView.getAccessibleText()},takeFocus:function(t){var e=this;this.focusFromSlideLayer=t,!DS.flagManager.dropInAcc&&DS.flagManager.dropInCore?requestAnimationFrame((function(){l(e,"getFocusTarget",e.el).focus({preventScroll:!0})})):l(this,"getFocusTarget",this.el).focus({preventScroll:!0})},isCheckedState:function(){var t=this.objModel.getCurrentStateData();return null!=t&&(16&t.accState)>0},triggerDefaultAction:function(){var t=this.objModel.get("defaultAction")||"onrelease",e=this.objModel;do{e.isEventable&&s.some(e.events(),{kind:t})&&e.executePlayerEvent(t),e=e.parent}while(null!=e&&!e.isKind("expandinglabel"))}},accTextControl:{beforeInitState:function(){this.updateTextConfig()},parseText:function(){this.updateTextConfig();var t=this.semanticTextConfig.origConfig;return null==t?{children:[]}:n(this.semanticTextConfig.varMethods.updateVarText(this.origTemplate),t.wordwrap()||m.accessibleTextOn(),t.textshadow())},updateTextConfig:function(){this.semanticTextConfig=l(this,"objModel.semanticTextConfig",{origConfig:{vartext:s.noop}}),this.origTemplate=this.semanticTextConfig.origConfig.vartext()},getLabelStyle:function(){var t=this.semanticTextConfig.origConfig;return{left:c(t.get("xAccOffset")),top:c(t.get("yAccOffset")),position:"absolute"}},onLinkClicked:function(t){this.objView.textEvent("onlinkrelease",t)},isLinkTabbable:function(){return!0}}}}.call(e,i,e,t))||(t.exports=n)},7076:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS.focusManager;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccListbox",mixins:[DS.flagManager.dropInAcc?n.dropIn:n],getInitialState:function(){return this.id="listbox-".concat(this.props.panelId),this.props.controlView.registerAccView(this),this.props.controlView.getAccState()},componentDidMount:function(){var t=this;this.mounted=!0,this.el.addEventListener("focusin",this.handleFocusIn),this.el.addEventListener("focusout",this.handleFocusOut),this.removeListeners=function(){t.el.removeEventListener("focusin",t.handleFocusIn),t.el.removeEventListener("focusout",t.handleFocusOut)}},componentWillUnmount:function(){this.mounted=!1,this.removeListeners()},handleFocusIn:function(){this.props.controlView.handleListFocus()},handleFocusOut:function(){this.props.controlView.handleListBlur()},getOptionRef:function(t){return t<0?null:"option-".concat(t)},getOptionEl:function(t){return this.refs["option-".concat(t)]},updateState:function(t){DS.flagManager.dropInVideo&&!this.isMounted()||this.setState(t)},setItemFocus:function(t){this.forceUpdate();var e=this.getOptionEl(t);r.setFocusRectOn(e)},takeControlFocus:function(){this.refs.listbox.focus()}})}.call(e,i,e,t))||(t.exports=n)},5744:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526);return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccSelectControl",mixins:[DS.flagManager.dropInAcc?n.dropIn:n],getInitialState:function(){return this.removeMenuListeners=function(){},this.id="select-".concat(this.props.panelId),this.props.controlView.registerAccView(this),this.props.controlView.getAccState()},componentWillUnmount:function(){this.removeMenuListeners()},getOptionRef:function(t){return"option-".concat(t)},updateState:function(t){DS.flagManager.dropInVideo&&!this.isMounted()||this.setState(t)},handleClicked:function(t){this.props.controlView.toggleOpen()},takeControlFocus:function(t){var e=this;"button"===t?this.refs.button.focus():window.requestAnimationFrame((function(){e.props.controlView.isOpen()&&e.refs[e.getOptionRef(e.state.hoverIndex)].focus()}))}})}.call(e,i,e,t))||(t.exports=n)},9197:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526);return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccTranscriptPanel",mixins:[DS.flagManager.dropInAcc?n.dropIn:n],getInitialState:function(){return this.props.controlView.registerAccView(this),this.panelId="panel-".concat(this.props.windowId),this.labelId="label-".concat(this.panelId),this.props.controlView.getAccState()},updateState:function(t){DS.flagManager.dropInVideo&&!this.isMounted()||this.setState(t)},takeControlFocus:function(t){var e=this.refs[t];null!=e&&e.focus()},onResumeScrollClicked:function(){DS.focusManager.takeFocusOff(),this.props.controlView.handleResumeScrollClicked()}})}.call(e,i,e,t))||(t.exports=n)},1697:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS,o=r.focusManager,s=r.utils;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.createClass({displayName:"AccUtilityWindow",mixins:[DS.flagManager.dropInAcc?n.dropIn:n],getInitialState:function(){return this.props.controlView.registerAccView(this),this.viewProps=this.props.controlView.getAccProps(),this.props.controlView.getAccState()},componentDidUpdate:function(){this.updateFocusRect&&(this.updateFocusRect=!1,this.el.contains(document.activeElement)&&o.setFocusRectOn(document.activeElement))},updateState:function(t){DS.flagManager.dropInVideo&&!this.isMounted()||(this.updateFocusRect=t,this.setState(this.props.controlView.getAccState()))},updateKebabState:function(t){this.setState(t)},onMoveClicked:function(){this.props.controlView.handleMoveButton()},onResizeClicked:function(){this.props.controlView.handleResizeButton()},stopKeyListening:function(){this.props.controlView.stopKeyListening()},onCloseClicked:function(){this.props.controlView.handleCloseClicked()},onKebabClicked:function(){this.props.controlView.handleAccKebabClicked()},onKebabBlur:function(t){null!=t.relatedTarget&&(s.getPath(t,"relatedTarget.dataset.kebabPart")||this.props.controlView.closeKebabPanel())},handleOptionClicked:function(t,e){this.props.controlView.optionUpdated(t,e)},takeControlFocus:function(t){var e=this.refs[t];null!=e&&e.focus()}})}.call(e,i,e,t))||(t.exports=n)},8916:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=DS.utils.pxify;return{buildStyleFromRect:function(t){var i=r(t,4),n=i[0],o=i[1],s=i[2],a=i[3];return{left:e(n),top:e(o),width:e(s-n),height:e(a-o)}}}}.call(e,i,e,t))||(t.exports=n)},7730:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7461),n=e.DraggableHelper,r=i(7859),o=DS._,s=DS.Backbone,a=DS.events,l=DS.dom,c="ondragover",u="ondragout",h=1500,d=function(t,i,n,r){return e.util.getRegisteredDroppables().filter((function(e){var s=e.params.data,a=s.dragdropData&&s.dragdropData[r];return s.model!==i&&o.result(s,t)&&o.intersection(a,n).length}))},p=function(t){this.view=t,this.model=this.view.props.model};return o.extend(p.prototype,s.Events,{componentWillMount:function(){this.model;this.getEnabledDroppables=o.partial(d,"isDroppable",this.model),this.getEnabledDraggables=o.partial(d,"isHoverable",this.model),this.listenTo(this.model,"addanimationdata",this.addAnimationData),this.listenTo(this.model.getSlide(),a.resume.APPLIED,this.registerRelationship),this.listenTo(this.model,"unparentForSeek",this.unparentForSeek)},componentDidMount:function(){this.dragdropData=this.model.dragdrop(),this.bindDrag(),this.parentShuffleGroup=l.closest(this.view.el,(function(t){return t.classList.contains("slide-object-shufflegroup")}))},getFromView:function(t,e){return(e=e||this).view.getPlayerProp(t)},setOnView:function(t,e,i){(i=i||this).view.setPlayerProp(t,e)},componentDidUpdate:function(t,e){var i=this.view.state.Enabled;i!==e.Enabled&&null!=this.draggableHelper&&this.draggableHelper[i?"enable":"disable"]()},componentWillUnmount:function(){this.stopListening(this.model,"addanimationdata",this.addAnimationData),this.stopListening(this.model.getSlide(),a.resume.APPLIED,this.registerRelationship)},bindDrag:function(){return this.dragdropData&&this.dragdropData.dragenabled&&(this.draggableHelper=new n(this.view,this.getDraggableConfig()),this.view.state.Enabled||this.draggableHelper.disable()),this},getDraggableConfig:function(){return o.bindAll(this,"onDragStart","onDraggingOver","onDragStop","onDropEnter","onDragOut","onDropped","getPosition","setPosition","getDropTarget","setTargets"),{containment:l.closest(this.view.el,(function(t){return t.classList.contains("slide")})),ondragstart:this.onDragStart,ondragend:this.onDragStop,ondropenter:this.onDropEnter,ondropdrag:this.onDraggingOver,ondropleave:this.onDragOut,ondrop:this.onDropped,getPosition:this.getPosition,setPosition:this.setPosition,getDropTarget:this.getDropTarget,setTargets:this.setTargets}},registerRelationship:function(){var t,e=this.model.prop("DragConnected"),i=this.model.prop("DropIndex");e&&(t=e.currView.decorators.droppable,this.dropParent=t.registerRelationship(this,i))},getDraggingPosition:function(){return{x:this.draggableHelper.x,y:this.draggableHelper.y}},getPosition:function(){return{x:this.view.getPlayerProp("RawXPos"),y:this.view.getPlayerProp("RawYPos"),dontScale:!0}},setPosition:function(t,e){this.setOnView({RawXPos:t,RawYPos:e})},setToInitPosition:function(){return DS.flagManager.dropInCore&&this.view.forceUpdate(),this.model.reattachChild(),this.setPosition(this.view.getPlayerProp("ShuffleXPos"),this.view.getPlayerProp("ShuffleYPos")),this.setOnView({depth:this.view.getPlayerProp("InitDepth")}),this},setTargets:function(){var t=this.dragdropData.dragdropids,e=this.dragdropData.dragoverids;this.enabledDropTargets=this.getEnabledDroppables(t,"dragdropids"),this.enabledDragTargets=this.getEnabledDraggables(e,"dragoverids")},onDragStart:function(t,e){this.unParent(),this.setDepth(++h),this.view.dragging=!0,this.model.executePlayerEvent("ondragstart")},onDragStop:function(t,e){this.view.dragging=!1,this.model.executePlayerEvent("ondragend"),this.dragdropData.dragreturn&&!this.dropParent?this.setToInitPosition():this.dropParent||(this.model.reparentChild(this.model.getLayer()),this.setPosition(t.x,t.y))},onDraggingOver:function(t,e){e.params.data.onDragOver(this,t.x,t.y,!0)},onDropEnter:function(t,e){var i=e.params.data;this.setOnView("DragOverId",i.model.id),i.setOnView("DragOverId",this.model.id),i.onDragEnter(),this.model.executePlayerEvent(c),i.model.executePlayerEvent(c)},onDragOut:function(t,e){var i=e.params.data;this.setOnView("DragOverId",null),i.reflow(),this.model.executePlayerEvent(u),i.model.executePlayerEvent(u)},onDropped:function(t,e){var i=e.params.data;i.onDropped(this,t.x,t.y),this.dropParent=i,this.setOnView("DropTargetId",i.model.id),this.setOnView("DragConnected",i.model),this.model.reparentChild(i.model.getParentContainer())},getDropTarget:function(t,i,n){var s,a=this.draggableHelper,l="drag"===n?this.enabledDragTargets:this.enabledDropTargets,c=o.sortBy(l,e.util.sortByZIndexReverse);return c.reduce((function(t,e,i){var n=r.getOverlapArea(a.view,e.params.view,c.slice(0,i).map((function(t){return t.params.view})),!0);return n>t?(s=e,n):t}),0),s},unparentForSeek:function(){this.setToInitPosition()},unParent:function(){var t=this.dropParent;return t&&(t.removeDropChild(this),this.dropParent=null,this.setOnView("DropTargetId",null),this.setOnView("DragConnected",null),this.setOnView("DropIndex",null),this.model.executePlayerEvent("ondragdisconnect")),this},updateParentDepth:function(t){var e=this.parentShuffleGroup.querySelector(".group").childNodes.length;this.parentShuffleGroup.style.zIndex=t+e},setDepth:function(t){this.parentShuffleGroup&&this.updateParentDepth(t),this.setOnView("depth",t)},setIndex:function(t){this.setOnView("DropIndex",t)},getBounds:function(t){var e=t?this.getDraggingPosition():this.getPosition(),i=this.getFromView("width"),n=this.getFromView("height");return{left:e.x,top:e.y,right:e.x+i,bottom:e.y+n,width:i,height:n}},addAnimationData:function(t){t({RawXPos:this.getFromView("RawXPos"),RawYPos:this.getFromView("RawYPos")})},updateAfterTween:function(t){var e=this.draggableHelper;(e.offsetX+=t.RawXPos-e.grabbedXPos,e.offsetY+=t.RawYPos-e.grabbedYPos,null!=this.dropParent)&&(this.setTargets(),DS.utils.getPath(e.getDropTarget.call(this,"drag"),"params.data")!==this.dropParent&&this.unParent())}}),p}.call(e,i,e,t))||(t.exports=n)},6950:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7461).DroppableHelper,n=(i(7859),DS._),r=DS.utils,o=DS.Backbone,s=DS.events,a=(DS.TransMatrix,[{x:-1,y:-1},{x:1,y:-1},{x:-1,y:1},{x:1,y:1}]),l=function(t){t.setToInitPosition().unParent()},c=function(t){this.view=t,this.model=this.view.props.model,this.dropChildren=[]};n.extend(c.prototype,o.Events,{componentDidMount:function(){this.model;this.dragdropData=this.model.dragdrop(),this.bindDrop()},componentWillUnmount:function(){this.droppableHelper.unregister(),this.stopListening(this.model,s.resume.RESET,this.resetValues)},registerRelationship:function(t,e){return this.dropChildren[e]=t,this},getFromView:function(t,e){return(e=e||this).view.getPlayerProp(t)},setOnView:function(t,e,i){(i=i||this).view.setPlayerProp(t,e)},isMultiDrop:function(){return this.dragdropData.multidrop},resetQuadrants:function(){this.quadrants=a.slice()},setPositioningFns:function(){var t=this.dragdropData.droptype,e=u[t];n.extend(this,e)},isDroppable:function(){return this.dragdropData.dropenabled},isHoverable:function(){return this.dragdropData.dragoverenabled},resetValues:function(){this.dropChildren=[]},bindDrop:function(){return this.dragdropData&&(this.isDroppable()||this.isHoverable())&&(this.droppableHelper=new e(this.view.el,{data:this,view:this.view}),this.resetQuadrants(),this.setPositioningFns(),this.listenTo(this.model,s.resume.RESET,this.resetValues)),this},onDragOver:function(t){this.canDropHere(t)&&this.addChild(t,!0)},onDropped:function(t){this.canDropHere(t)&&this.addChild(t)},onDragEnter:function(){this.updatePositionSnapshot()},updatePositionSnapshot:function(){this.positionSnapshot=n.map(this.getDropChildren(),(function(t){return t.getBounds()}))},addChild:function(t,e){var i,n;this.isMultiDrop()||e||(this.getDropChildren().forEach(l.bind(this)),this.getDropChildren().length=0),i=this.getPlacementIndex(t),(n=e?this.getDropChildren().slice():this.getDropChildren()).splice(i,0,t),this.reflow(n,i,e)},canDropHere:function(t){var e=n.partial(n.includes,this.dragdropData.dragdropids);return t.dragdropData.dragdropids.some(e)},removeDropChild:function(t){return n.remove(this.getDropChildren(),t),this.reflow(),this.resetChildrenDepths(),this},getDropChildren:function(){return this.dropChildren},getDropQuadrant:function(){var t=n.random(this.quadrants.length-1),e=this.quadrants.splice(t,1)[0];return this.quadrants.length||this.resetQuadrants(),e},getRandomStackPosition:function(t){var e=this.getDropQuadrant();return{x:this.getXPos()+this.dragdropData.snapx+n.random(this.dragdropData.dropoffsetx)*e.x-t.dragdropData.snapx,y:this.getYPos()+this.dragdropData.snapy+n.random(this.dragdropData.dropoffsety)*e.y-t.dragdropData.snapy}},resetChildrenDepths:function(){var t=this.getDepth();this.getDropChildren().forEach((function(e,i){e.setIndex(i),e.setDepth(t+i+1)}))},getParents:function(){for(var t=[],e=this.view;e;)e.props.isInnard||t.push(e),e=e.props.parent;return t.reverse()},getXPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawXPos:this.getParents().reduce((function(t,e){return t+e.state.RawXPos}),0)},getYPos:function(){return this.model.parent.isKind("scrollarea")?this.view.state.RawYPos:this.getParents().reduce((function(t,e){return t+e.state.RawYPos}),0)},getDepth:function(){return this.model.parent.isKind("scrollarea")?this.view.state.depth:n.first(this.getParents()).state.depth}});var u={stackoffset:{getPlacementIndex:function(t){var e=this.getXPos()+this.dragdropData.snapx,i=this.getYPos()+this.dragdropData.snapy,n=t.getBounds(!0),r=Math.floor((n.left-e)/this.dragdropData.dropoffsetx)+1,o=Math.floor((n.top-i)/this.dragdropData.dropoffsety)+1,s=Math.min(r,o,this.positionSnapshot.length);return Math.max(0,s)},reflow:function(t,e,i){var n=this.getXPos()+this.dragdropData.snapx,r=this.getYPos()+this.dragdropData.snapy;(t||this.getDropChildren()).forEach(function(t,o){o>0&&(n+=this.dragdropData.dropoffsetx,r+=this.dragdropData.dropoffsety),i&&o===e||(t.setPosition(n,r),t.setIndex(o))}.bind(this))}},tile:{getPlacementIndex:function(t){for(var e=-1,i=t.getBounds(!0),n=Math.max(this.getXPos(),i.left+i.width/2),r=Math.max(this.getYPos(),i.top+i.height/2);++e<this.positionSnapshot.length&&!(n<this.positionSnapshot[e].right&&r<this.positionSnapshot[e].bottom||r<this.positionSnapshot[e].top););return e},reflow:function(t,e,i){var n=this.getXPos(),r=this.getYPos(),o=n+this.dragdropData.snapx,s=r+this.dragdropData.snapy,a=o,l=s,c=o+this.getFromView("width")-this.dragdropData.dropoffsetx;(t||this.getDropChildren()).forEach(function(t,r,u){var h=this.getFromView("width",t),d=this.getFromView("height",t);r>0&&(o=a+this.dragdropData.dropoffsetx),(a=o+h)>c&&(o=n+this.dragdropData.snapx,a=o+h,s=l+this.dragdropData.dropoffsety),i&&r===e||(t.setPosition(o,s),t.setIndex(r)),l=Math.max(l,s+d)}.bind(this))}},stackrandom:{getPlacementIndex:function(){return r.getPath(this,"positionSnapshot.length",0)},reflow:function(t,e,i){var r,o;1!==(t=t||this.getDropChildren()).length?!i&&isFinite(e)&&(r=n.last(t),o=this.getRandomStackPosition(r),r.setPosition(o.x,o.y),r.setIndex(e)):null==e?u.snap.reflow.call(this,t,0,!1):u.snap.reflow.call(this,t,e,i)}},snap:{getPlacementIndex:function(){return r.getPath(this,"positionSnapshot.length",0)},reflow:function(t,e,i){var r,o,s,a=this.getXPos(),l=this.getYPos(),c=a+this.dragdropData.snapx,u=l+this.dragdropData.snapy;!i&&isFinite(e)&&(r=(s=n.last(t)).dragdropData.snapx,o=s.dragdropData.snapy,s.setPosition(c-r,u-o),s.setIndex(e))}},free:{getPlacementIndex:function(){return r.getPath(this,"positionSnapshot.length",0)},reflow:n.noop}};return c}.call(e,i,e,t))||(t.exports=n)},8701:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(8876),n=i(7859),r=i(23),o=DS._,s=DS.Backbone,a=DS.windowManager,l=DS.resolver,c=DS.svgUtils,u=DS.utils,h=DS.detection,d=function(t,e){return e+360*(t?1:-1)},p=o.partial(d,!0),f=o.partial(d,!1),g=Number.MAX_SAFE_INTEGER||Math.pow(2,50),m=function(t){this.view=t,this.model=t.props.model,o.extend(this,this.model.dragrotation())};o.extend(m.prototype,s.Events,{dragging:!1,inverted:!1,componentDidMount:function(){this.currSlide=a.getCurrentWindowSlide(),o.bindAll(this,"getBoundValue","setLoAndHi","setDegreeSnap","setBoundVar","setListeners","updateRotation","setRotationFromValue","onBoundVariableChanged","adjustVariable","onPointerDown","onMouseDown","onMouseUp","getAngleFromValue","getValueFromAngle","roundStep","getAngleFromEvent","adjustOverRotation","cleanAngle","onMouseMove","setAngle","isEnabled","getRangeAttributes","onAccShadowRangeChange"),this.parentEl=this.view.el.parentNode,this.setLoAndHi().setDegreeSnap().setBoundVar().setListeners().setRotationFromValue(this.getBoundValue())},getBoundValue:function(){return void 0===this.boundVar?this.initialValue:parseFloat(this.boundVar.value())},componentDidUpdate:function(){this.updateRotation()},setLoAndHi:function(){return this.lowvalue=Math.min(this.startvalue,this.endvalue),this.highvalue=Math.max(this.startvalue,this.endvalue),this.lowvalue<this.startvalue&&(this.inverted=!0),this},componentWillUnmount:function(){this.stopListening(),null!=this.removeListeners&&this.removeListeners(),null!=this.removeMoveListeners&&this.removeMoveListeners()},setDegreeSnap:function(){var t;return this.valRange=this.highvalue-this.lowvalue,this.angleRange=Math.abs(this.endrotation-this.startrotation),this.snap&&(t=this.valRange,this.valRange=this.valRange-this.valRange%this.increment,this.angleRange=this.angleRange*(this.valRange/t),this.stepDeg=u.fix(this.angleRange/(this.valRange/this.increment))),this},setBoundVar:function(){return this.boundVar=l.resolvePath(this.bindto,this.model),this},setListeners:function(){var t=this;return void 0!==this.boundVar&&this.listenTo(this.boundVar,"change:value",this.onBoundVariableChanged),this.view.el.addEventListener("pointerdown",this.onPointerDown),h.device.isMobile?(this.view.el.addEventListener("touchstart",this.onMouseDown),this.removeListeners=function(){t.view.el.removeEventListener("pointerdown",t.onPointerDown),t.view.el.removeEventListener("touchstart",t.onMouseDown)}):(this.view.el.addEventListener("mousedown",this.onMouseDown),this.removeListeners=function(){t.view.el.removeEventListener("pointerdown",t.onPointerDown),t.view.el.removeEventListener("mousedown",t.onMouseDown)}),this},updateRotation:function(){this.setRotationFromValue(this.getValueFromAngle(this.lastSetRotation))},setRotationFromValue:function(t){var e=this.view.props.winScale,i=this.view.el,r=(this.rotateXPos-this.model.rotateXPos())*e,o=(this.rotateYPos-this.model.rotateYPos())*e;return null!=this.origTransform&&this.dragging||(this.origTransform=this.view.getPositioningTransform()),this.lastSetRotation=this.getAngleFromValue(t),i.style[this.view.cssTransform]=[this.origTransform,c.transformTranslate(u.pxify(r),u.pxify(o)),c.transformRotate(this.lastSetRotation+"deg"),c.transformTranslate(u.pxify(-r),u.pxify(-o))].join(" "),this.model.forEachAncestor((function(t){if(t.isKind("scrollarea")||t.isKind("slidelayer"))return!1;null!=t.currView&&n.transformUpdated(t.currView,!0)}),!0),this},onBoundVariableChanged:function(t,e){this.setRotationFromValue(e),null!=this.view.accShadowView&&null!=this.view.accShadowView.viewChanged&&this.view.accShadowView.viewChanged(e)},adjustVariable:function(t){if(void 0===this.boundVar)return this;var e={operator:"set",value:{type:"number",value:t}};return this.boundVar.adjust(e,{context:this.model}),this},onMouseDown:function(t){t.preventDefault()},onPointerDown:function(t){var e=this;if(this.dragging=!0,this.view.giveAccFocus(),this.isEnabled()){this.centerCoords=r.localPtToSlide(this.view,this.rotateXPos,this.rotateYPos),this.lastAngle=this.initAngle=this.getAngleFromEvent(t),this.angleChange=this.overRot=0,this.initRotation=this.lastSetRotation;var i=this.view.el;i.addEventListener("pointerup",this.onMouseUp),i.addEventListener("pointermove",this.onMouseMove),i.setPointerCapture(t.pointerId),i.dataset.pointerCapture=!0,this.removeMoveListeners=function(){i.removeEventListener("pointerup",e.onMouseUp),i.removeEventListener("pointermove",e.onMouseMove),i.releasePointerCapture(t.pointerId),i.dataset.pointerCapture=!1,e.removeMoveListeners=null}}},onMouseUp:function(t){null!=this.removeMoveListeners&&this.removeMoveListeners(),this.removeMoveListeners=null,!this.liveupdating&&this.isEnabled()&&this.adjustVariable(this.getValueFromAngle(this.lastSetRotation)),this.dragging=!1},getAngleFromValue:function(t){t=u.clamp(this.lowvalue,this.highvalue,t);var e=this.inverted?this.highvalue-t:t-this.lowvalue;return null!=this.stepDeg?e/this.increment*this.stepDeg+this.startrotation:e/this.valRange*this.angleRange+this.startrotation},getValueFromAngle:function(t){var e=(t-this.startrotation)/this.angleRange*this.valRange;return e=this.inverted?this.highvalue-e:this.lowvalue+e,this.roundValue(e)},roundStep:function(t,e){return(t?o.range(this.startrotation,this.endrotation+1,this.stepDeg):o.range(this.lowvalue,this.highvalue+1,this.increment)).reduce((function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}),g)},getAngleFromEvent:function(t){var i=e.getPageLoc(t),n=r.globalPtToLayer(this.view,i.pageX,i.pageY),o=n.x-this.centerCoords.x,s=n.y-this.centerCoords.y;return u.normalizeDeg(u.radToDeg(Math.atan2(s,o))+90)},adjustOverRotation:function(t){var e=t-this.lastAngle;e>180?this.overRot=f(this.overRot):e<-180&&(this.overRot=p(this.overRot))},cleanAngle:function(t){var e=u.normalizeDeg(t);return this.snap?this.roundAngle(e):e},onMouseMove:function(t){if(this.isEnabled()){var e=this.getAngleFromEvent(t);this.adjustOverRotation(e),this.lastAngle=e,this.angleChange=e+this.overRot-this.initAngle,e=this.initRotation+this.angleChange,this.setAngle(u.clamp(this.startrotation,this.endrotation,e))}},setAngle:function(t){if(t!==this.lastSetRotation){var e=this.getValueFromAngle(t);this.liveupdating?this.adjustVariable(e):(this.lastSetRotation=t,this.setRotationFromValue(e),null!=this.view.accShadowView&&null!=this.view.accShadowView.viewChanged&&this.view.accShadowView.viewChanged(e))}},isEnabled:function(){var t=this.model.getClosestParentRef();return this.model.prop("Enabled")&&(!t.isSlideObject||t.prop("Enabled"))},getRangeAttributes:function(){var t=this.startvalue,e=this.endvalue,i=this.inverted;if(t>e){var n=[t,e];e=n[0],t=n[1]}return{type:"range",value:this.getBoundValue(),step:this.snap?this.increment:0,min:t,max:e,inverted:i,tabindex:-1}},onAccShadowRangeChange:function(t){this.setRotationFromValue(t),this.adjustVariable(t)}});var v=m.prototype;return v.roundValue=o.partial(v.roundStep,!1),v.roundAngle=o.partial(v.roundStep,!0),m}.call(e,i,e,t))||(t.exports=n)},9792:function(t,e,i){var n;n=function(t){"use strict";var e=i(8359),n=i(23),r=i(7859),o=DS._,s=DS.Backbone,a=DS.utils,l=DS.resolver,c=DS.svgUtils,u=(DS.dom,DS.windowManager),h=DS.detection,d=function(t){this.view=t,this.model=t.props.model,this.parentModel=this.model.getClosestParentRef(),this.toFixedAmount=0};return o.extend(d.prototype,s.Events,{eventMap:{mouseover:"onrollover",mouseout:"onrollout",mousedown:"onpress",mouseup:"onrelease",dblclick:"ondoubleclick"},componentWillMount:function(){o.bindAll(this,"onUpdateSlider","onBoundVariableChanged","onMouseEvent","onMouseDown","onBtnDown","onBtnUp","giveAccShadowElFocus")},componentDidMount:function(){this.parentEl=this.view.el.parentNode,this.sliderContainer=this.parentEl.querySelector(".state-group-top-level"),this.setupSlider().buildSlider().setupAction().setupEvents().updateSliderThumb(null,!0),this.currSlide=u.getCurrentWindowSlide()},onAfterShow:function(){this.updateSliderThumb(null,!0)},setupAction:function(){return this.adjustVarAction={kind:"adjustvar",variable:this.dragpath.bindto,operator:"set",value:{}},this.adjustVarAction.slideableId=this.model.id,this},adjustVariable:function(t){void 0!==this.boundVariable&&(this.adjustVarAction.value={type:"number",value:t},e.executeAction(this.adjustVarAction,{context:this.model}))},transformValue:function(t){return a.fix(t,this.toFixedAmount)},setupSlider:function(){var t,e;return this.dragpath=this.model.dragpath(),this.zIndex=this.parentModel.objects().length+1,this.maxX=this.parentModel.width()-this.model.width(),this.totalRange=Math.abs(this.dragpath.endvalue-this.dragpath.startvalue),this.toFixedAmount=(t=this.dragpath.increment,2===(e=t.toString().split(".")).length?Math.min(2,e[1].length):0),this.boundVariable=l.resolvePath(this.dragpath.bindto),this},setupEvents:function(){var t=this;return this.eventType=this.dragpath.liveupdating?"input":"change",void 0!==this.boundVariable&&this.listenTo(this.boundVariable,"change:value",this.onBoundVariableChanged),h.device.isDesktop?this.view.el.addEventListener("mousedown",this.onMouseDown):this.view.el.addEventListener("touchstart",this.onMouseDown),this.view.el.addEventListener("pointerdown",this.onBtnDown),h.device.isDesktop&&this.parentEl.parentNode.addEventListener("click",this.giveAccShadowElFocus),this.removeListeners=function(){t.view.el.removeEventListener("pointerdown",t.onBtnDown),h.device.isDesktop?(t.parentEl.parentNode.removeEventListener("click",t.giveAccShadowElFocus),t.view.el.removeEventListener("mousedown",t.onMouseDown)):t.view.el.removeEventListener("touchstart",t.onMouseDown)},this},giveAccShadowElFocus:function(){this.view.giveAccFocus()},getBoundValue:function(){return void 0===this.boundVariable?this.dragpath.initialValue:parseFloat(this.boundVariable.value())},getTrackModel:function(){this.trackModel=this.parentModel.objects().find((function(t){return t.id.indexOf("_track")>-1}))},onMouseEvent:function(t){this.parentModel.executePlayerEvent(this.eventMap[t.type])},onBoundVariableChanged:function(t,e,i){e=this.transformValue(parseFloat(e)),this.updateSliderThumb(e,!0)},onUpdateSlider:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.view.trulyVisible){var i,r,s,l,c,u,h,d,p=this.model.width(),f=p/2,g=this.model.height()/2;if(e||t.preventDefault(),1===a.getPath(t,"touches.length")?(l=t.touches[0].pageX,c=t.touches[0].pageY):(l=t.pageX,c=t.pageY),"pointerup"===t.type)this.updateVariable();else if(null!=l&&null!=c){n.setMatrixDirty(this.topParentView),r=n.globalPtToSlideObject(this.topParentView,l,c),"pointerdown"===t.type?(d=n.localPtToLocal(this.view,this.topParentView,f,g),u=r.x-d.x,h=r.y-d.y,o.extend(this,{offX:u,offY:h})):(u=this.offX,h=this.offY),r.x-=u,r.y-=h,i=a.clamp(0,1,(r.x-f)/(this.trackModel.width()-p)),this.invertedSlider&&(i=1-i);var m=this.totalRange*i;s=Math.round(m/this.step)*this.step+this.min,this.currValue=a.clamp(this.min,this.max,s),this.dragpath.liveupdating?this.updateVariable():this.updateSliderThumb(this.currValue)}}},updateVariable:function(){return this.adjustVariable(this.transformValue(this.currValue)),this},onMouseDown:function(t){t.preventDefault()},onBtnDown:function(t){var e=this;if(this.model.prop("Enabled")&&("stategroup"!==this.model.parent.get("kind")||this.model.parent.prop("Enabled"))){this.onUpdateSlider(t,!0);var i=this.parentEl.parentNode;i.addEventListener("pointerup",this.onBtnUp),i.addEventListener("pointermove",this.onUpdateSlider),i.setPointerCapture(t.pointerId),i.dataset.pointerCapture=!0,this.removeMoveListeners=function(){i.removeEventListener("pointerup",e.onBtnUp),i.removeEventListener("pointermove",e.onUpdateSlider),i.releasePointerCapture(t.pointerId),i.dataset.pointerCapture=!1,e.removeMoveListeners=null}}},onBtnUp:function(t){this.onUpdateSlider(t),this.removeMoveListeners()},addFocusStyle:function(){var t=c.createElement("rect"),e=this.view.find("g > g"),i=e.getBBox();t.setAttribute("class","focused"),t.setAttribute("x",i.x-3),t.setAttribute("y",i.y-3),t.setAttribute("width",i.width+6),t.setAttribute("height",i.height+6),t.setAttribute("stroke-width",3),e.appendChild(t),this.focusRect=t},componentWillUnmount:function(){this.stopListening(),null!=this.removeListeners&&this.removeListeners(),null!=this.removeMoveListeners&&this.removeMoveListeners()},getRangeAttributes:function(){var t=this.dragpath.startvalue,e=this.dragpath.endvalue;if(t>e){var i=[t,e];e=i[0],t=i[1]}return{type:"range",value:this.getBoundValue(),step:this.dragpath.snap?this.dragpath.increment:0,min:t,max:e,inverted:this.invertedSlider,tabindex:-1,"data-accepts":"events"}},onAccShadowRangeChange:function(t){this.updateSliderThumb(t,!0),this.adjustVariable(t)},buildSlider:function(){var t=this.getRangeAttributes();return this.invertedSlider=this.dragpath.startvalue>this.dragpath.endvalue,this.min=t.min,this.max=t.max,this.step=t.step,this.getTrackModel(),this.topParentView=this.view.props.parent.props.parent,this},updateSliderThumb:function(t,e){t=null!=t?t:this.transformValue(this.getBoundValue());var i=a.clamp(this.min,this.max,t),o=(i-this.min)/this.totalRange;return this.invertedSlider&&(o=1-o),this.currValue=i,null!=this.view.accShadowView&&this.view.accShadowView.viewChanged&&this.view.accShadowView.viewChanged(i),this.view.setPlayerProp("RawXPos",o*this.maxX),n.setMatrixDirty(this.topParentView),r.transformUpdated(this.view.props.parent,!0),this}}),d}.call(e,i,e,t),void 0===n||(t.exports=n)},8358:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(7859),n=i(507),r=i(5660),o=i(7945),s=DS._,a=DS.Backbone,l=DS.AnimationTimeline,c=function(t){this.view=t,this.model=this.view.props.model};return s.extend(c.prototype,a.Events,{componentWillMount:function(){if(!this.model.animations().isEmpty()){var t={"showcustom hidecustom":this.showHideCustom,addanimationdata:this.addAnimationData,killAnimations:this.stopCurrentAnimation,hide:s.partial(this.stopCurrentAnimation,!0),clearAnimations:this.clearAnimations};t[o.EXE_ANIMATION]=this.animate,this.listenTo(this.model,t)}},componentDidMount:function(){this.el=this.view.el},componentDidUpdate:function(){this.view.tweenedConfig&&(s.extend(this.el.style,this.view.tweenedConfig.style),null!=this.view.animationOverride&&this.view.animationOverride.update(this.view.tweenedConfig.props))},componentWillUnmount:function(){this.stopCurrentAnimation(!1),this.stopListening()},showHideCustom:function(t,e,i,n){this.playAnimation(i,e.timelineLabel,!1,n,!t)},animate:function(t,e){this.model.prop("TimelineControlled",null!=e.timelineLabel),this.playAnimation(this.model.animations().get(t.id),e.timelineLabel,t.reverse.value)},addAnimationData:function(t){t(null!=this.view.tweenedConfig?this.view.tweenedConfig.props:null)},clearAnimations:function(){this.stopCurrentAnimation(!1)},playAnimation:function(t,e,i,r,o){this.stopCurrentAnimation(!0);var s=this.createTimelineFor(t,i,r);this.tweenableTimeline=new n(this.view,s,e,o),this.view.setPlayerProp("Moved",null!=e)},createTimelineFor:function(t,i,n){var o=new l({tweens:[new r(this.view,i,t.getConfig())],onComplete:this.wrapCallback(n,t.id,i)});return o.onUpdate=function(){e.transformUpdated(this.view),(this.model.isShapeMask||this.model.isShapeMasked)&&this.model.onTweenUpdate(this.view)}.bind(this),o},wrapCallback:function(t,i,n){return function(){this.stopCurrentAnimation(!1),e.transformUpdated(this.view,!0),null!=t&&t(),this.model.executeFilteredPlayerEvent((function(t){if(t.id===i&&t.reverse===n)return!0}),"onanimationcomplete")}.bind(this)},stopCurrentAnimation:function(t){null!=this.tweenableTimeline&&(this.tweenableTimeline.destroy(t),this.tweenableTimeline=null,this.view.tweenedConfig=null)}}),c}.call(e,i,e,t))||(t.exports=n)},8453:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(107);return{hasVectorBackground:function(){return"vector"===this.getPath("props.model.background.type")},hasImageBackground:function(){return"swf"===this.getPath("props.model.background.type")},getImageBgAssetId:function(){return this.getPath("props.model.background.imagedata.assetId")},getImageBgAsset:function(){return e.getAsset(this.getImageBgAssetId())},getImageBgUrl:function(){return this.getImageBgAsset().url()},getImageBgStyle:function(){var t=this.getImageBgAsset();return{position:"absolute",left:t.mobiledx()*this.props.winScale,top:t.mobiledy()*this.props.winScale,height:t.height()*this.props.winScale,width:t.width()*this.props.winScale}}}}.call(e,i,e,t))||(t.exports=n)},3091:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.utils;return{componentWillMount:function(){var t=this.props.model||this.props.slideObject,n=t.isKind("slidelayer"),r=this.props.slideFrame;this.childrenVisible=!1,this.trulyVisible=!1,this.parentVisible=!1,n&&null!=r&&this.listenTo(r.props.model,"trueVisibilityChanged",e.partial(this.updateTrueVisibility,null)),this.isParentVisible=n?function(){return i.getPath(this.props.slideFrame,["props","model","currView","trulyVisible"],!0)}:function(){return this.parentVisible},n?this.isObjectVisible=function(){return this.isBaseLayer()||!!t.isOpen}:t.isKind("shufflegroup")?this.isObjectVisible=this.isParentVisible:this.isObjectVisible=function(){return t.prop("OnStage")&&!t.prop("HiddenByLayer")},this.isChildrenVisible=t.isKind("expandinglabel")?function(t){return t&&this.getPlayerProp("Expanded")}:e.identity},componentDidMount:function(){this.isBaseLayer&&this.isBaseLayer()&&this.updateTrueVisibility()},updateTrueVisibility:function(t){null==t&&(t=this.isObjectVisible());var i=this.props.model,n=this.isParentVisible(),r=t&&n,o=this.isChildrenVisible(r);r!==this.trulyVisible&&(this.trulyVisible=r,this.parentVisible=n,i.trigger("trueVisibilityChanged",r)),this.childrenVisible!==o&&(this.childrenVisible=o,i.objects&&i.objects().forEach((function(t){var i=t.currView;null!=i&&e.isFunction(i.updateTrueVisibility)&&i.parentVisible!==o&&(i.parentVisible=o,i.updateTrueVisibility())})))}}}.call(e,i,e,t))||(t.exports=n)},8926:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(5953),n=DS,r=(n._,n.appState),o=n.dom,s=n.events;return{template:function(){return this.getTemplateManager().getTemplate("DragdropSlideObject").bind(this)()},getDefaultProps:function(){return{notchWidth:10,notchHeight:Math.round(6)}},componentDidMount:function(){this.htmlReady(this.mountWithOverState),this.listenTo(r,s.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged)},mountWithOverState:function(){var t=document.elementFromPoint(o.mouseX,o.mouseY);o.closest(t,function(t){return t===this.el}.bind(this))&&this.didMouseOver()},onAccessibleTextChanged:function(t){this.setState({useAccText:this.getUseAccText()})},getInitialState:function(){var t=this.getPath("props.model.data.textdata.vectortext.pr")||{},i=this.getPath("props.model.data.textdata")||{xAccOffset:0,yAccOffset:0};return this.originX=i.xAccOffset,this.originY=i.yAccOffset,DS.flagManager.aiCourseTranslation?this.accTextModel=new e(i,{parent:this.props.model}):this.accTextModel={parent:this,width:function(){return i.width},height:function(){return i.height},wordwrap:function(){return i.wordwrap},textshadow:function(){return i.textshadow},vartext:function(){return i.vartext},valign:function(){return i.valign},linkdata:function(){return[]}},{textCommandsetId:t.i,textPathLibId:t.l,wordbankRadius:this.getPath("props.model.height",0)/2,useAccText:this.getUseAccText()}},getUseAccText:function(){if(DS.flagManager.aiCourseTranslation||DS.flagManager.multiLangSupport){var t=this.getPath("props.model.data.textdata",{}),e=t.type,i=t.scrollOverflow;return"richvartext"===e||"acctext"===e&&(r.accessibleTextOn()||i)}return"acctext"===this.getPath("props.model.data.textdata.type")&&(r.accessibleTextOn()||this.getPath("props.model.data.textdata.scrollOverflow"))},didMouseOver:function(){this.isEnabled()&&this.setState({hovered:!0})},didMouseOut:function(){this.setState({hovered:!1})},getAccTextModel:function(){return this.accTextModel}}}.call(e,i,e,t))||(t.exports=n)},5108:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(23),n=DS._;return{componentWillMount:function(){this.props.isInnard&&n.extend(this.props.parent,{attachView:this.attachView})},componentWillUpdate:function(){n.forEach(this.getDetachedChildren(),function(t){this.attachView(t.child.currView)}.bind(this))},componentDidUpdate:function(){n.forEach(this.getDetachedChildren(),function(t){var e=t.newParent.currView,i=t.child.currView;null!=e&&null!=i&&e.attachView(i)}.bind(this))},attachView:function(t){t.reparentedContainer=this,null!=this.refs.bg&&this.refs.contentArea.contains(this.refs.bg.el)?this.refs.contentArea.insertBefore(t.el,this.refs.bg.el):null!=this.refs.allAudio&&this.refs.contentArea.contains(this.refs.allAudio)?this.refs.contentArea.insertBefore(t.el,this.refs.allAudio):this.refs.contentArea.appendChild(t.el),e.setMatrixDirty(t)},getDetachedChildren:function(){return this.props.model.detachedChildren||{}}}}.call(e,i,e,t))||(t.exports=n)},4360:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS._,i=DS.vow,n=DS.constants,r=DS.pubSub,o=DS.events,s=DS.detection,a=DS.Chunk;return{componentWillUpdate:function(t,e){this.state.currentSlide&&this.state.currentSlide!==e.currentSlide&&this.state.currentSlide.beforeSlideOut(),e.currentSlide&&e.currentSlide!==this.state.currentSlide&&!this.isShowingMovedSlide&&e.currentSlide.resetBeforeView()},componentWillMount:function(){s.theme.isClassic||r.on(o.resume.RESET_DATA,this.onResetData)},onResetData:function(){this.clearNextPush=function(){this.resetHistoryResumeData(),this.setState({history:[]}),r.trigger(o.slideWindow.CLEAR_HISTORY)}},componentDidMount:function(){this.slideContainer=this.findComponent("SlideContainer")},getId:function(){return this.props.isMainWindow?n.refs.FRAME:this.props.id},getInitialState:function(){return{history:[],currentSlide:this.getCurrentSlide()}},forceTransition:function(){this.getCurSlidePromise().then((function(t){t.forceTransition()}))},getCurrentSlide:function(){return e.last(this.state?this.state.history:[])},getPrevSlide:function(){var t=this.state.history;return t.length>1?t[t.length-2]:null},getPrevHistoryGroup:function(){var t=this.state.history,e=this.getPrevHistoryGroupIndex();return-1===e?null:t[e]},getPrevHistoryGroupIndex:function(){var t=this.getCurrentSlide(),i=this.state.history;return null==t?-1:e.findLastIndex(i,(function(e){return t.get("historyGroupId")!==e.get("historyGroupId")}))},canGoForward:function(t){return e.last(this.state.history)!==t},pushHistory:function(t){return null!=this.clearNextPush&&(this.clearNextPush(),this.clearNextPush=null),this.canGoForward(t)&&this.refreshHistory(t),this},popHistory:function(){return null!=this.getPrevSlide()&&this.refreshHistory(),this},popHistoryGroup:function(){var t=this.state.history,e=this.getPrevHistoryGroupIndex();return-1!==e&&(t=t.slice(0,e+1),this.updateHistoryState(t)),this},refreshHistory:function(t){var e=this.state.history.slice();return t?e.push(t):e.pop(),this.updateHistoryState(e),this},updateHistoryState:function(t){var i=e.last(t);i.prop("WindowId",this.props.isMainWindow?n.refs.FRAME:this.props.model.id),DS.connection.stopAssetGroup(),this.setState({history:t,currentSlide:i}),DS.flagManager.dropInAcc&&this.forceUpdate()},prepareToUpdateSlide:function(t){return this.isShowingMovedSlide=t,this.slideContainer.prepareToUpdateSlide(t),this},replaceSlideWith:function(t){return this.slideContainer.replaceSlideWith(t),this},rebuildCurSlide:function(){return this.slideContainer.rebuildCurSlide(),this},getCurSlide:function(){return DS.flagManager.dropInCore&&!DS.flagManager.dropInAcc?DS.utils.getPath(this,"slideContainer.curSlide.dropInView"):this.slideContainer.curSlide},getCurSlidePromise:function(){return this.slideContainer.getCurSlidePromise()},resetHistoryResumeData:function(){this.state.history.forEach((function(t){return t.resetResume()}))},getHistoryResumeData:function(){return this.state.history.map((function(t){return t.getWindowResumeRef()})).join("")},getResumeData:function(){var t=this.props.model,e=null==t?0:t.index()+1;return[a.create(a.toUnsignedString64(e)),this.getCurrentSlide().getWindowResumeRef(),a.create(this.getHistoryResumeData())].join("")},setPreviousHistory:function(t){var e=this.state.history;e.unshift.apply(e,t)},isWaitingForSlideLoad:function(){return i.isPending(this.slideLoadingPromise)},setSlideLoading:function(t){return this.slideLoadingPromise=t,this}}}.call(e,i,e,t))||(t.exports=n)},9631:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2577),n=i(2290),o=i(9526),s=i(3986),a=i(23),l=i(4839),c=DS,u=c.globalEventHelper,h=u.addDocumentListener,d=u.addWindowListener,p=c.utils,f=c.focusManager,g=c.keyManager,m=c.dom;return DS.flagManager.dropInVideo&&(e=DS.DropIn,n=DS.DropInDOM),e.createClass({displayName:"ButtonPopupMenu",mixins:[DS.flagManager.dropInVideo?o.dropIn:o],getInitialState:function(){var t=this;return _.forEach(this.props.menuConfig,(function(e,i){t[i]=e.bind(t)})),this.options=this.getOptions(),Object.assign({panelOpen:!1},this.getInitMenuState())},setHoverStyles:function(){this.el.style.setProperty("--hover-background-color",p.toRgba(this.props.colors.iconHoverColor,6)),this.el.style.setProperty("--hover-border-color",this.props.colors.hoverBorderColor)},componentDidMount:function(){this.setHoverStyles(),null!=this.accView&&this.accView.updateState(),this.createPopupMenu()},componentDidUpdate:function(){DS.flagManager.dropInVideo&&this.setHoverStyles(),null!=this.accView&&this.accView.updateState(),this.props.isFullScreen||null==this.removeKeyListener||this.removeKeyListener(),this.positionPopupMenu()},componentWillUnmount:function(){this.accView=null,null!=this.removeDocumentListener&&this.removeDocumentListener(),null!=this.removeKeyListener&&this.removeKeyListener(),this.handleUnmount(),null!=this.menuContainer&&(this.hidePopupMenu(),n.unmountComponentAtNode(this.menuContainer),this.menuContainer=null)},registerAccView:function(t){this.accView=t},getMenuId:function(){return null==this.menuId&&(this.menuId=_.uniqueId("button-menu-")),this.menuId},onMouseUp:function(t){null!=this.accView&&(this.props.videoInterface.isFullScreen()||this.accView.takeControlFocus("button"))},createPopupMenu:function(){this.menuContainer=document.createElement("div"),m.addClass(this.menuContainer,"modern-video-controls"),m.addClass(this.menuContainer,"modern-video-controls-top-container"),this.menuComponent=n.render(e.createElement(l,Object.assign({},this.props,{getMenuId:this.getMenuId,getMenuLabel:this.getMenuLabel,getOptions:this.getOptions,onItemClicked:this.onItemClicked,getInitMenuState:this.getInitMenuState,handleUnmount:this.handleUnmount})),this.menuContainer),this.showPopupMenu(),this.positionPopupMenu()},positionPopupMenu:function(){var t=this.refs.button.getBoundingClientRect(),e=t.top,i=t.left;Object.assign(this.menuContainer.style,{top:"".concat(e,"px"),left:"".concat(i,"px")})},showPopupMenu:function(){s.getTopContainer().appendChild(this.menuContainer),this.removeResizeListener=d("resize",this.positionPopupMenu)},hidePopupMenu:function(){null!=this.menuContainer.parentElement&&this.menuContainer.parentElement.removeChild(this.menuContainer),this.removeResizeListener()},toggleOpen:function(){this.isPanelOpen()?this.closePanel():this.openPanel()},isPanelOpen:function(){return this.state.panelOpen},openPanel:function(){var t=this;this.removeDocumentListener=h("pointerup",this.checkShouldClose),this.setState({panelOpen:!0}),this.menuComponent.setState({panelOpen:!0}),this.props.isFullScreen?window.requestAnimationFrame((function(){var e=t.getItemByIndex(t.state.currentIndex);null!=e&&e.focus()})):this.props.videoInterface.isFullScreen()||null==this.accView||this.accView.takeControlFocus("menu")},checkShouldClose:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY,s=document.elementFromPoint(n,o);this.el.contains(s)||this.menuContainer.contains(s)||this.closePanel()},closePanel:function(){null!=this.removeDocumentListener&&this.removeDocumentListener(),this.setState({panelOpen:!1}),this.menuComponent.setState({panelOpen:!1})},onItemClicked:function(t,e){this.setSelected(e)},setSelected:function(t){this.setState({currentChoice:t}),this.menuComponent.setState({currentChoice:t}),this.handleSelected(t),this.closePanel(),this.props.isFullScreen&&(this.refs.button.focus(),f.setFocusRectOn(this.refs.button))},toLocalCoords:function(t){var e=t.getBoundingClientRect(),i=e.top,n=e.left,r=e.bottom,o=e.right,s=this.props.model.currView,l=a.globalPtToSlideObject(s,n,i),c=a.globalPtToSlideObject(s,o,r);return[l.x,l.y,c.x,c.y]},getRelativeRect:function(t){var e=r(this.toLocalCoords(this.el),2),i=e[0],n=e[1],o=r(this.toLocalCoords(t),4);return[o[0]-i,o[1]-n,o[2]-i,o[3]-n]},getAccOptions:function(){var t=this,e=this.props.fullScreen?this:this.menuComponent;return this.options.map((function(i,n){var r=e.refs["option".concat(n)];return Object.assign({rect:t.getRelativeRect(r)},i)}))},getAccState:function(){return{buttonRect:this.getRelativeRect(this.refs.button),buttonLabel:this.getButtonLabel(),isOpen:this.state.panelOpen,currentChoice:this.state.currentChoice,menuLabel:this.getMenuLabel(),options:this.getAccOptions()}},getCurrentIndex:function(t){var e=t||this.state;return this.options.findIndex((function(t){return t.value===e.currentChoice}))},getItemByIndex:function(t){return this.refs["option".concat(t)]},handleFullScreenFocus:function(t){f.setFocusRectOn(t.target),this.props.showVideoControls()},handleFullScreenBlur:function(t){f.takeFocusOff(t.target),this.el.contains(t.relatedTarget)||this.closePanel()},handleFullScreenItemFocus:function(t){this.props.showVideoControls(),f.setFocusRectOn(t.target),this.removeKeyListener=h("keydown",this.handleFullScreenKeyDown)},handleFullScreenItemBlur:function(t){f.takeFocusOff(t.target),null!=this.accView&&this.accView.onMenuFocusOut(t,!0),this.el.contains(t.relatedTarget)||(this.removeKeyListener(),this.closePanel())},handleFullScreenKeyDown:function(t){var e=this.state.currentIndex;g.isDownishKey(t.which)?e++:g.isUpishKey(t.which)?e--:g.isHomeKey(t.which)?e=0:g.isEndKey(t.which)&&(e=7),e>=8&&(e=0),e<0&&(e=7),e!==this.state.currentIndex&&(t.preventDefault(),this.setState({currentIndex:e}),this.menuComponent.setState({currentIndex:e}),this.getItemByIndex(e).focus())}})}.call(e,i,e,t))||(t.exports=n)},3190:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=i(23),o=DS.stringTabler;return DS.flagManager.dropInVideo&&(e=DS.DropIn),e.createClass({displayName:"LocalHlsWarning",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],getTitleText:function(){return o.getString("streaming_video_local_playback_title")},getRepublishText:function(){return o.getString("streaming_video_local_playback_republish")},getLearnMoreText:function(){return o.getString("streaming_video_local_playback_learn_more")},toLocalCoords:function(t){var e=this.props.model.currView;return r.globalRectToSlideObject(e,t)},getAccState:function(){var t=this.refs,e=t.title,i=t.republish,n=t.learnMore,r={titleRect:null,republishRect:null,moreInfoRect:null};return null!=e&&Object.assign(r,{titleRect:this.toLocalCoords(e.getBoundingClientRect()),titleLabel:this.getTitleText()}),null!=i&&Object.assign(r,{republishRect:this.toLocalCoords(i.getBoundingClientRect()),republishLabel:this.getRepublishText()}),null!=n&&Object.assign(r,{learnMoreRect:this.toLocalCoords(n.getBoundingClientRect()),learnMoreLabel:this.getLearnMoreText()}),r},learnMoreClicked:function(){this.refs.learnMoreLink.click()}})}.call(e,i,e,t))||(t.exports=n)},334:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=DS,o=r.utils,s=r.playerGlobals;return DS.flagManager.dropInVideo&&(e=DS.DropIn),e.createClass({displayName:"MobileVideoSettings",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],getInitialState:function(){return{captionsEnabled:this.props.captionsEnabled,playbackSpeed:this.props.playbackSpeed}},componentDidMount:function(){this.el.style.setProperty("--icon-color",this.props.colors.iconHoverColor)},dialogOpened:function(){var t=this;this.setState({transcriptTrack:-1}),s.player.setAllAccVisibility(!1),window.requestAnimationFrame((function(){(t.refs.captions||t.refs.playbackSpeed).focus()}))},handleClose:function(t){s.player.setAllAccVisibility(!0);var e=o.getPath(this,"refs.captions.value"),i=o.getPath(this,"refs.transcript.value",-1);this.props.closeHandler({captionsEnabled:e&&"on"===e,playbackSpeed:o.getPath(this,"refs.playbackSpeed.value"),transcriptTrack:i})},handleSpeedChange:function(t){this.setState({playbackSpeed:this.refs.playbackSpeed.value})},handleCaptionsChange:function(t){this.setState({captionsEnabled:"on"===this.refs.captions.value})},handleTranscriptChange:function(t){this.setState({transcriptTrack:this.refs.transcript.value})}})}.call(e,i,e,t))||(t.exports=n)},2350:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(2577),n=i(2290),o=i(9526),s=i(3986),a=i(334),l=i(23),c=(i(5722),DS),u=c.globalEventHelper.addBodyListener,h=c.captionsManager,d=c.pubSub,p=c.events,f=c.detection,g=c.stringTabler,m=c.focusManager,v=c.localizationManager,S={acc_modern_video_seek:"Seek",acc_modern_video_play:"Play",acc_modern_video_pause:"Pause",acc_modern_video_mute:"Mute",acc_modern_video_volume:"Volume",acc_modern_video_captions:"Captions",acc_modern_video_transcript:"Transcript",acc_modern_video_pip:"Picture in picture",acc_modern_video_fullscreen:"Full screen",acc_modern_video_settings:"Settings"};DS.flagManager.dropInVideo&&(e=DS.DropIn,n=DS.DropInDOM);var y=e.createClass({displayName:"ModernVideoControls",mixins:[DS.flagManager.dropInVideo?o.dropIn:o],getInitialState:function(){return this.dockLocations="left"===DS.frame.getSidebarPosition()?[DS.constants.docked.RIGHT]:[DS.constants.docked.LEFT],this.transcriptWindowId="win-".concat(this.props.model.id),DS.flagManager.multiLangSupport?{controlsHidden:!1,captionsEnabled:h.isCaptionEnabled(),transcriptEnabled:!1,isPipMode:!1,currLangCode:v.getCurrentLangCode()}:{controlsHidden:!1,captionsEnabled:h.isCaptionEnabled(),transcriptEnabled:!1,isPipMode:!1}},componentWillMount:function(){this.buildStrings(),d.on(p.video.PIP_MODE_CHANGED,this.onPipModeChanged),d.on(p.utilityWindow.WINDOW_TOGGLED,this.onTranscriptWindowToggled),DS.flagManager.multiLangSupport&&d.on(p.localization.LANGUAGE_UPDATED,this.handleLangCodeChange)},componentDidMount:function(){var t=this;f.device.isMobile?this.removeListeners=u("touchstart",this.onMouseMove):this.removeListeners=u("mousemove",this.onMouseMove),f.deviceView.isMobile&&this.createSettings(),d.on(p.captions.ENABLED,this.onCaptionsEnabledChanged),this.hideTimeout=setTimeout((function(){t.hideControls()}),1e3),this.el.style.setProperty("--video-hover-color",this.props.colors.iconHoverColor)},componentWillUnmount:function(){this.unmounted=!0,null!=this.removeListeners&&this.removeListeners(),d.off(p.captions.ENABLED,this.onCaptionsEnabledChanged),clearTimeout(this.hideTimeout),null!=this.settingsContainer&&(n.unmountComponentAtNode(this.settingsContainer),this.settingsComponent=null),d.off(p.video.PIP_MODE_CHANGED,this.onPipModeChanged),d.off(p.utilityWindow.WINDOW_TOGGLED,this.onTranscriptWindowToggled),DS.flagManager.multiLangSupport&&d.off(p.localization.LANGUAGE_UPDATED,this.handleLangCodeChange)},componentWillUpdate:function(t,e){!1===t.isPlaying&&this.showControls()},componentDidUpdate:function(t,e){var i=this;this[DS.flagManager.dropInVideo?"afterHtmlReady":"htmlReady"]((function(){if(!i.unmounted){var t=i.getAccView();if(null!=t&&t.onStateChanged(e,i.state),i.updateFocusOnRender)if(i.updateFocusOnRender=!1,i.props.fullScreen){var n=i.refs.fullScreen;null!=n&&n.focus()}else{var r=i.getAccView();null!=r&&r.takeControlFocus("fullScreen")}}}))},handleLangCodeChange:function(t){this.setState({currLangCode:t})},getAccView:function(){return this.props.slideObjectView.accShadowView},onMouseUp:function(t){var e=this.findTargetOwner(t.target);!this.props.fullScreen&&f.device.isDesktop&&this.props.slideObjectView.accShadowView.takeControlFocus(e)},findTargetOwner:function(t){var e;return _.some(this.refs,(function(i,n){if((i.el||i).contains(t))return e=null!=i.findTargetOwner?i.findTargetOwner(t):n,!0})),e},onMouseMove:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY,s=this.props.videoInterface.getBounds();n>=s.left&&n<=s.right&&o>=s.top&&o<=s.bottom?this.showControls():this.hideControls()},showControls:function(){var t=this;this.setState({controlsHidden:!1}),clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout((function(){t.hideControls()}),3e3)},isChildOpen:function(){var t=this.refs.volume,e=this.refs.playbackSpeed,i=this.refs.transcript;return null!=t&&t.isSliderOpen()||null!=e&&e.isPanelOpen()||null!=i&&this.state.transcriptOpened&&this.props.fullScreen},hideControls:function(){clearTimeout(this.hideTimeout);var t=this.props.isPlaying&&!this.isChildOpen();if(t){var e=this.getAccView();null!=e&&e.clearFocusRect(),this.el.contains(document.activeElement)&&m.takeFocusOff()}this.setState({controlsHidden:t})},togglePlayback:function(){this.props.videoInterface.toggleVideo()},onCaptionsEnabledChanged:function(t){this.setState({captionsEnabled:t})},toggleCaptions:function(){h.toggleCaptioning()},toggleTranscript:function(){d.trigger(p.utilityWindow.TOGGLE_WINDOW,this.transcriptWindowId,!this.state.transcriptOpened)},closeTranscript:function(){d.trigger(p.utilityWindow.TOGGLE_WINDOW,this.transcriptWindowId,!1)},onTranscriptWindowToggled:function(t,e){this.transcriptWindowId===t&&this.setState({transcriptOpened:e})},toggleFullScreen:function(){this.updateFocusOnRender=!0,this.props.videoInterface.toggleFullScreen()},onPipModeChanged:function(){this.setState({isPipMode:this.props.videoInterface.isPipMode()})},togglePip:function(){DS.presentation.isPreview()?d.trigger(p.preview.NOTIFY,"PREVIEW_PIP"):this.props.videoInterface.togglePip()},createSettings:function(){var t={colors:this.props.colors,videoInterface:this.props.videoInterface,captionsEnabled:this.state.captionsEnabled,showCaptions:this.props.controlConfig.settings.captions,showPlaybackSpeed:this.props.controlConfig.settings.playbackSpeed,showTranscript:this.props.controlConfig.settings.transcript,closeHandler:this.closeSettings};this.settingsContainer=document.createElement("div"),this.settingsComponent=n.render(e.createElement(a,t),this.settingsContainer)},openSettings:function(){DS.utils.fullScreen.exit(),this.settingsComponent.setState({captionsEnabled:this.state.captionsEnabled,playbackSpeed:this.props.videoInterface.getPlaybackSpeed()}),this.wasPlaying=this.props.isPlaying,this.props.videoInterface.pauseVideo(),s.getTopContainer().appendChild(this.settingsContainer),this.settingsComponent.dialogOpened()},closeSettings:function(t){var e=t.captionsEnabled,i=t.playbackSpeed,n=t.transcriptTrack;this.settingsContainer.parentElement.removeChild(this.settingsContainer),e!==this.state.captionsEnabled&&this.toggleCaptions(),null!=this.refs.transcriptWindowController&&(d.trigger(p.utilityWindow.TOGGLE_WINDOW,this.transcriptWindowId,n>=0),d.trigger(p.video.CHANGE_TRANSCRIPT_TRACK,this.transcriptWindowId,n)),null!=i&&this.props.videoInterface.setPlaybackSpeed(i),this.props.fullScreen||this.getAccView().takeControlFocus("settings"),this.wasPlaying&&this.props.videoInterface.playVideo()},toggleMute:function(){null!=this.refs.volume&&this.refs.volume.toggleMute()},setVolume:function(t){null!=this.refs.volume&&this.refs.volume.updateVolume(t)},openVolumeSlider:function(){null!=this.refs.volume&&this.refs.volume.openSlider()},closeVolumeSlider:function(){null!=this.refs.volume&&this.refs.volume.closeSlider()},toLocalCoords:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.props.model.currView,r={top:-i,left:-e,bottom:i,right:i};return l.globalRectToSlideObject(n,t,r)},buildStrings:function(){this.labels=["acc_modern_video_seek","acc_modern_video_play","acc_modern_video_pause","acc_modern_video_mute","acc_modern_video_volume","acc_modern_video_captions","acc_modern_video_transcript","acc_modern_video_pip","acc_modern_video_fullscreen","acc_modern_video_settings"].reduce((function(t,e){var i=e.substr(17);return t[i]=g.getString(e),t[i]===e.substr(4)&&(t[i]=S[e]),t}),{})},getPlayPauseLabel:function(){return this.props.isPlaying?this.labels.pause:this.labels.play},getAccState:function(){var t={};if(this.props.controlConfig.seek){var e=this.refs.seek.el;Object.assign(t,{duration:this.props.duration,elapsed:this.props.currentTime,seekLabel:this.labels.seek,seekRect:this.toLocalCoords(e.getBoundingClientRect())})}else Object.assign(t,{seekRect:null});if(this.props.controlConfig.playPause){var i=this.refs.playPause;Object.assign(t,{playPauseLabel:this.getPlayPauseLabel(),playPauseRect:this.toLocalCoords(i.getBoundingClientRect())})}else Object.assign(t,{playPauseRect:null});if(this.props.controlConfig.volume){var n=this.refs.volume,r=n.getButtonEl(),o=n.getSliderEl(),s=n.getVolume();Object.assign(t,{muteLabel:this.labels.mute,muteRect:this.toLocalCoords(r.getBoundingClientRect()),volumeStrength:s,volumeLabel:this.labels.volume,volumeRect:this.toLocalCoords(o.getBoundingClientRect(),10,10)})}else Object.assign(t,{muteRect:null,volumeRect:null});if(this.props.controlConfig.captions){var a=this.refs.captions;Object.assign(t,{captionsEnabled:this.state.captionsEnabled,captionsLabel:this.labels.captions,captionsRect:this.toLocalCoords(a.getBoundingClientRect())})}else Object.assign(t,{captionsRect:null});if(this.props.controlConfig.transcript&&!f.deviceView.isPhone){var l=this.refs.transcript;DS.flagManager.dropInVideo&&!DS.flagManager.dropInCore?null!=this.refs.transcriptWindowController.reactView&&Object.assign(t,{transcriptOpen:this.state.transcriptOpened,transcriptLabel:this.labels.transcript,transcriptRect:this.toLocalCoords(l.getBoundingClientRect()),transcriptWindow:this.refs.transcriptWindowController.reactView.getWindowView()}):Object.assign(t,{transcriptOpen:this.state.transcriptOpened,transcriptLabel:this.labels.transcript,transcriptRect:this.toLocalCoords(l.getBoundingClientRect()),transcriptWindow:this.refs.transcriptWindowController.getWindowView()})}else Object.assign(t,{transcriptRect:null});if(this.props.controlConfig.playbackSpeed){var c=this.refs.playbackSpeed;Object.assign(t,{playbackSpeedControl:c,playbackSpeedRect:this.toLocalCoords(c.el.getBoundingClientRect())})}else Object.assign(t,{playbackSpeedRect:null});if(this.props.controlConfig.pip){var u=this.refs.pip;Object.assign(t,{pipLabel:this.labels.pip,pipRect:this.toLocalCoords(u.getBoundingClientRect()),isPipMode:this.state.isPipMode})}else Object.assign(t,{pipRect:null});if(this.props.controlConfig.fullScreen){var h=this.refs.fullScreen;Object.assign(t,{fullscreenLabel:this.labels.fullscreen,fullscreenRect:this.toLocalCoords(h.getBoundingClientRect())})}else Object.assign(t,{fullscreenRect:null});if(this.props.controlConfig.settings){var d=this.refs.settings;Object.assign(t,{settingsLabel:this.labels.settings,settingsRect:this.toLocalCoords(d.getBoundingClientRect())})}else Object.assign(t,{settingsRect:null});return t},handleFullScreenFocus:function(t){m.setFocusRectOn(t.target),this.showControls()},handleFullScreenBlur:function(t){m.takeFocusOff(t.target)}});return y}.call(e,i,e,t),void 0===n||(t.exports=n)},4839:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),r=(i(23),DS),o=r.utils;r.playerGlobals;return DS.flagManager.dropInVideo&&(e=DS.DropIn),e.createClass({displayName:"PopupMenu",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],getInitialState:function(){return this.options=this.props.getOptions(),Object.assign({panelOpen:!1},this.props.getInitMenuState())},componentDidMount:function(){this.el.style.setProperty("--hover-background-color",o.toRgba(this.props.colors.iconHoverColor,6)),this.el.style.setProperty("--hover-border-color",this.props.colors.hoverBorderColor),null!=this.accView&&this.accView.updateState()}})}.call(e,i,e,t))||(t.exports=n)},8346:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),o=(i(5722),DS),s=o.detection,a=o.globalEventHelper,l=a.addBodyListener,c=a.addDocumentListener,u=o.focusManager,h=o.keyManager,d=o.utils.clamp;return DS.flagManager.dropInVideo&&(e=DS.DropIn),e.createClass({displayName:"SeekbarControl",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],getInitialState:function(){return{hovering:!1,dragging:!1,hoverTime:0}},componentDidMount:function(){this.mounted=!0,this.updateTimes()},componentDidUpdate:function(){null==this.removeKeyListener||this.props.isFullScreen||this.removeKeyListener()},componentWillUnmount:function(){this.mounted=!1,null!=this.removeSeekListeners&&this.removeSeekListeners(),null!=this.removeHoverListeners&&this.removeHoverListeners()},updateTimes:function(){if(this.mounted){var t=this.props.totalTime,e=d(0,1,this.props.videoInterface.getElapsedTime()/t);this.refs.elapsedBar.style.width="".concat(100*e,"%"),this.refs.seekThumb.style.left="".concat(100*e,"%"),window.requestAnimationFrame(this.updateTimes),this.state.hovering&&this.onHoverMove(this.lastHover)}},onSeekStart:function(t){var e=this;s.device.isMobile?(this.el.addEventListener("touchmove",this.onSeek),this.el.addEventListener("touchend",this.onSeekEnd),this.removeSeekListeners=_.flow([function(){return e.el.removeEventListener("touchmove",e.onSeek)},function(){return e.el.removeEventListener("touchend",e.onSeekEnd)}])):this.removeSeekListeners=_.flow([l("mousemove",this.onSeek),l("mouseup",this.onSeekEnd)]),this.setState({dragging:!0}),this.wasPlaying=this.props.isPlaying,this.props.videoInterface.pauseVideo(),this.onSeek(t)},onSeekEnd:function(){this.setState({dragging:!1}),this.removeSeekListeners(),this.wasPlaying&&this.props.videoInterface.playVideo()},onSeek:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0].pageX,n=this.el.getBoundingClientRect(),o=DS.utils.clamp(0,1,(i-n.left)/n.width);this.props.videoInterface.seekVideo(o)},handleFullScreenFocus:function(t){u.setFocusRectOn(t.target),this.removeKeyListener=c("keydown",this.handleFullScreenKeyDown),this.props.showVideoControls()},handleFullScreenBlur:function(t){u.takeFocusOff(t.target),null!=this.removeKeyListener&&this.removeKeyListener()},handleFullScreenKeyDown:function(t){var e=this.props.videoInterface.getElapsedTime(),i=this.props.totalTime,n=!0;h.isDownishKey(t.which)?e--:h.isUpishKey(t.which)?e++:h.isHomeKey(t.which)?e=i:h.isEndKey(t.which)?e=0:n=!1;var r=d(0,1,e/i);n&&(t.preventDefault(),this.props.showVideoControls(),this.props.videoInterface.seekVideo(r))},onMouseOver:function(t){this.setState({hovering:!0}),this.removeHoverListeners=_.flow([l("mousemove",this.onHoverMove)]),this.onHoverMove(t)},onHoverMove:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0].pageX;this.lastHover={pageX:i};var n=this.el.getBoundingClientRect(),o=this.props.totalTime,s=this.props.videoInterface.getElapsedTime()/o,a=DS.utils.clamp(0,1,(i-n.left)/n.width);this.refs.popup.style.left="".concat(100*a,"%");var l=this.refs.seekPreview;l.style.left="".concat(100*Math.min(s,a),"%"),l.style.width="".concat(100*Math.abs(a-s),"%"),this.setState({hoverTime:a*o})},onMouseOut:function(){this.setState({hovering:!1}),null!=this.removeHoverListeners&&this.removeHoverListeners()}})}.call(e,i,e,t))||(t.exports=n)},4613:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(2577),n=i(9526),o=(i(5722),DS),s=o.globalEventHelper,a=s.addBodyListener,l=s.addDocumentListener,c=o.appState,u=o.events,h=o.pubSub,d=o.utils,p=d.getPath,f=d.clamp,g=o.focusManager,m=o.keyManager;return DS.flagManager.dropInVideo&&(e=DS.DropIn),e.createClass({displayName:"VolumeControl",mixins:[DS.flagManager.dropInVideo?n.dropIn:n],getInitialState:function(){return{volume:this.getVolume(),mute:!1,sliderOpen:!1}},componentDidMount:function(){h.on(u.volume.CHANGED,this.onVolumeChanged),this.removeMouseListener=a("mouseup",this.checkClickOutside)},componentDidUpdate:function(){this.props.isFullScreen||null==this.removeKeyListener||this.removeKeyListener()},componentWillUnmount:function(){h.off(u.volume.CHANGED,this.onVolumeChanged),this.removeMouseListener(),this.removeDragListeners&&this.removeDragListeners()},checkClickOutside:function(t){this.mouseOver||p(t,"target.dataset.volumeRelated",!1)||this.closeSlider()},toggleMute:function(){c.onToggleVolume()},onMouseOver:function(){this.mouseOver=!0,this.openSlider()},onMouseOut:function(){this.mouseOver=!1,this.dragging||this.closeSlider()},isSliderOpen:function(){return this.state.sliderOpen},openSlider:function(){this.setState({sliderOpen:!0})},closeSlider:function(){this.setState({sliderOpen:!1})},onDragStart:function(t){this.removeDragListeners=_.flow([a("mousemove",this.onDragging),a("mouseup",this.onDragEnd)]),this.onDragging(t)},onDragEnd:function(){this.dragging=!1,this.removeDragListeners()},onDragging:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0].pageY,n=this.refs.track.getBoundingClientRect(),o=1-f(0,1,(i-n.top)/n.height);this.dragging=!0,this.updateVolume(o)},getVolume:function(){return c.currentVolume()},updateVolume:function(t){c.setVolume(t),this.setState({volume:t})},onVolumeChanged:function(t){this.setState({volume:t})},getButtonEl:function(){return this.refs.mute},getSliderEl:function(){return this.refs.volumeSlider},findTargetOwner:function(t){var e;return _.some(this.refs,(function(i,n){if((i.el||i).contains(t))return e=n,!0})),e},handleFullScreenFocus:function(t){g.setFocusRectOn(t.target),this.props.showVideoControls(),this.openSlider()},handleFullScreenBlur:function(t){g.takeFocusOff(t.target),this.el.contains(t.relatedTarget)||this.closeSlider()},handleFullScreenSliderFocus:function(t){this.openSlider(),g.setFocusRectOn(t.target,void 0,10),this.removeKeyListener=l("keydown",this.handleFullScreenKeyDown)},handleFullScreenSliderBlur:function(t){g.takeFocusOff(t.target),null!=this.removeKeyListener&&this.removeKeyListener(),this.el.contains(t.relatedTarget)||this.closeSlider()},handleFullScreenKeyDown:function(t){var e=10*this.state.volume,i=!0;m.isDownishKey(t.which)?e--:m.isUpishKey(t.which)?e++:m.isHomeKey(t.which)?e=10:m.isEndKey(t.which)?e=0:i=!1,e=f(0,10,e),i&&(t.preventDefault(),this.setState({volume:e/10}))}})}.call(e,i,e,t))||(t.exports=n)},6654:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=DS,i=e.stringTabler,n=e.pubSub,r=e.events;return{getInitMenuState:function(){return n.on(r.player.PLAYBACK_SPEED_CHANGED,this.updateMenu),{currentChoice:1,currentIndex:3}},handleUnmount:function(){n.off(r.player.PLAYBACK_SPEED_CHANGED,this.updateMenu)},updateMenu:function(t){this.setState({currentChoice:t}),this.menuComponent.setState({currentChoice:t})},getButtonLabel:function(){return i.getString("acc_modern_video_playback_speed")},getMenuLabel:function(){return i.getString("modern_video_playback_speed_title")},getOptions:function(){return[{label:"2",value:2},{label:"1.75",value:1.75},{label:"1.5",value:1.5},{label:"1.25",value:1.25},{label:i.getString("modern_video_normal_speed"),value:1},{label:"0.75",value:.75},{label:"0.5",value:.5},{label:"0.25",value:.25}]},getIconType:function(){return"modernSpeed"},handleSelected:function(t){this.props.videoInterface.setPlaybackSpeed(t)}}}.call(e,i,e,t))||(t.exports=n)},9153:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),o=DS,s=o.globalEventHelper.addDocumentListener,a=o.focusManager;return DS.flagManager.dropInCore&&(n=DS.DropIn),n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"KebabMenu",getInitialState:function(){return{open:!1}},componentDidUpdate:function(){null!=this.accView&&this.accView.updateKebabState(this.getAccState())},componentWillUnmount:function(){null!=this.removeDocumentListener&&this.removeDocumentListener()},getOptionRef:function(t){return"option-".concat(t)},registerAccView:function(t){this.accView=t},getAccState:function(){var t=this,e={kebabOpen:this.state.open};return e.kebabOptions=this.props.options.map((function(e){var i=e.id,n=e.value,r=e.label,o=t.refs[t.getOptionRef(i)].getBoundingClientRect();return{id:i,checked:n,label:r,rect:t.props.toWindowCoords(o)}})),e},handleFullScreenFocus:function(t){a.setFocusRectOn(t.target)},handleFullScreenBlur:function(t){a.takeFocusOff(t.target),this.state.open&&!this.el.contains(t.relatedTarget)&&this.closePanel()},handleKebabClicked:function(){this.state.open?this.closePanel():this.openPanel()},handleOptionClicked:function(t,e){this.props.optionCallback(t,!e),this.closePanel(),this.refs.kebabButton.focus()},openPanel:function(){this.removeDocumentListener=s("pointerup",this.checkShouldClose),this.setState({open:!0})},closePanel:function(){this.setState({open:!1})},checkShouldClose:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY,s=document.elementFromPoint(n,o);this.el.contains(s)||this.closePanel()},findTargetOwner:function(t){var e;return _.some(this.refs,(function(i,n){if((i.el||i).contains(t))return e=null!=i.findTargetOwner?i.findTargetOwner(t):n,!0})),e}})}.call(e,i,e,t))||(t.exports=n)},6790:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),o=i(7593),s=DS,a=s.globalEventHelper.addDocumentListener,l=s.globalEventHelper,c=l.addResizeListener,u=l.addWindowListener,h=s.focusManager,d=s.keyManager;return DS.flagManager.dropInCore&&(n=DS.DropIn),n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"SelectControl",getInitialState:function(){return{selectedIndex:0,hoverIndex:0}},componentDidMount:function(){this.setColors(),this.removeMenuListeners=function(){},this.removeResizeListeners=_.flow(c(this.refs.input,this.handleResize),u("resize",this.handleResize))},componentDidUpdate:function(){this.updateAccState()},componentWillUnmount:function(){this.unmounted=!0,this.removeMenuListeners(),this.removeResizeListeners()},setColors:function(){o.setCssColorVariables(this.el,[{group:"base",name:"accent"},{group:"text",name:"default"},{group:"text",name:"active"},{group:"select",name:"border"},{group:"select",name:"openBorder"},{group:"select",name:"background"},{group:"selectlist",name:"border"},{group:"selectlist",name:"background"},{group:"selectitem",name:"selectedBorder"},{group:"selectitem",name:"selectedBackground"}])},isOpen:function(){return this.state.open},handleClicked:function(t){this.toggleOpen()},toggleOpen:function(){this.state.open?this.closePanel():this.openPanel()},openPanel:function(){this.setState({open:!0}),this.removeMenuListeners=_.flow(a("keydown",this.handleKeyDown),a("pointerup",this.checkShouldClose)),this.setState({hoverIndex:this.state.selectedIndex}),this.setItemFocus()},closePanel:function(){this.setState({open:!1}),this.removeMenuListeners()},checkShouldClose:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY,s=document.elementFromPoint(n,o);this.refs.input.contains(s)||this.refs.list.contains(s)||this.closePanel()},handleFullScreenFocus:function(t){h.setFocusRectOn(t.target)},handleFullScreenBlur:function(t){h.takeFocusOff(t.target),this.state.open&&!this.el.contains(t.relatedTarget)&&this.closePanel()},handleOptionClicked:function(t,e){this.setState({selectedIndex:e}),this.closePanel(),this.props.changeCallback(e),this.setItemFocus("button"),t.preventDefault()},getSelectedText:function(){var t=this.props.options[this.state.selectedIndex];return null!=t?t.display:"Not Found"},getRefName:function(t){return"option-".concat(t)},registerAccView:function(t){this.accView=t},handleResize:function(){this.updateAccState()},updateAccState:function(){var t=this;cancelAnimationFrame(this.updateStateRequest),this.updateStateRequest=requestAnimationFrame((function(){t.unmounted||t.accView.updateState(t.getAccState())}))},toSelectCoords:function(t,e){e=e||this.props.toPanelCoords(this.el.getBoundingClientRect());var i=r(this.props.toPanelCoords(t),4),n=i[0],o=i[1],s=i[2],a=i[3],l=r(e,2),c=l[0],u=l[1];return[n-c,o-u,s-c,a-u]},handleKeyDown:function(t){var e=this.props.options.length,i=this.state.hoverIndex;d.isDownishKey(t.which)?i++:d.isUpishKey(t.which)?i--:d.isHomeKey(t.which)?i=0:d.isEndKey(t.which)?i=e-1:d.isActionKey(t.which)?(this.handleOptionClicked(t,i,!0),this.setItemFocus("button")):d.isTabKey(t.which)&&this.closePanel(t),i>=e&&(i=0),i<0&&(i=e-1),i!==this.state.hoverIndex&&(this.setState({hoverIndex:i}),this.setItemFocus(),t.preventDefault())},setItemFocus:function(t){var e=this;window.requestAnimationFrame((function(){e.unmounted||(e.props.isFullScreen?"button"===t?h.setFocusRectOn(e.refs.input):e.state.open&&h.setFocusRectOn(e.refs[e.getRefName(e.state.hoverIndex)]):e.accView.takeControlFocus(t))}))},getAccState:function(){var t=this,e=this.props.toPanelCoords(this.el.getBoundingClientRect());return{options:this.props.options.map((function(i,n){var r=t.refs[t.getRefName(n)];return{selected:t.state.selectedIndex===n,label:i.display,rect:t.toSelectCoords(r.getBoundingClientRect(),e)}})),open:this.state.open,selectedIndex:this.state.selectedIndex,hoverIndex:this.state.hoverIndex,rect:e,inputRect:this.toSelectCoords(this.refs.input.getBoundingClientRect(),e),label:this.getSelectedText()}}})}.call(e,i,e,t))||(t.exports=n)},601:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),o=i(7593),s=DS,a=s.utils,l=s.stringTabler,c=s.globalEventHelper,u=c.addResizeListener,h=c.addWindowListener,d=c.addDocumentListener,p=s.keyManager,f=s.focusManager;return DS.flagManager.dropInCore&&(n=DS.DropIn),n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"TranscriptList",getInitialState:function(){return this.removeScrollListeners=function(){},this.removeKeyListeners=function(){},this.removeFocusListeners=function(){},this.removeListener=function(){},{selectedIndex:-1,focusedIndex:-1}},componentDidMount:function(){var t=this;this.mounted=!0,this.setColors(),this.refs.content.addEventListener("scroll",this.onDragScroll),this.refs.scrollThumb.addEventListener("pointerdown",this.onScrollStart),this.refs.content.addEventListener("wheel",this.handleMouseWheel),this.removeListeners=_.flow(u(this.el,(function(){t.updateScrollbarSize(),t.updateAccState()})),h("resize",(function(){return t.updateAccState()})),(function(){t.refs.scrollThumb.removeEventListener("pointerdown",t.onScrollStart),t.refs.content.removeEventListener("wheel",t.handleMouseWheel),t.refs.content.removeEventListener("scroll",t.onDragScroll)})),this.updateScrollbarSize(),this.updateVideoListeners()},componentDidUpdate:function(t){var e=this;this.updateScrollbarSize(),this.updateVideoListeners(),this.props.transcript!==t.transcript&&this.updateSelectedCue(!0);var i=this.autoScroll,n=this.props.options.find((function(t){return"autoScroll"===t.id}));this.autoScroll=n.value&&!this.props.autoScrollPaused,this.autoScroll&&i!==this.autoScroll&&this.scrollItemIntoView(this.state.selectedIndex),this.updateAccState(),this.props.isFullScreen!==t.isFullScreen&&(this.props.isFullScreen?(this.el.addEventListener("focusin",this.handleListFocus),this.el.addEventListener("focusout",this.handleListBlur),this.removeFocusListeners=function(){e.el.removeEventListener("focusin",e.handleListFocus),e.el.removeEventListener("focusout",e.handleListBlur)}):this.removeFocusListeners())},componentWillUnmount:function(){this.mounted=!1,this.unmounting=!0,this.removeListeners(),this.removeScrollListeners(),this.removeKeyListeners(),this.removeFocusListeners()},formatTime:function(t){return a.formatSecondsAsTime(t/1e3)},registerAccView:function(t){this.accView=t},toListCoords:function(t,e){e=e||this.props.toPanelCoords(this.el.getBoundingClientRect());var i=r(this.props.toPanelCoords(t),4),n=i[0],o=i[1],s=i[2],a=i[3],l=r(e,2),c=l[0],u=l[1];return[n-c,o-u,s-c,a-u]},updateAccState:function(){var t=this;null!=this.accView&&(window.cancelAnimationFrame(this.updateStateRequest),this.updateStateRequest=requestAnimationFrame((function(){t.mounted&&t.accView.updateState(t.getAccState())})))},getTimeCodesEnabled:function(){var t=this.props.options.find((function(t){return"timeCodes"===t.id}));return t&&t.value},getAccState:function(){var t=this,e=this.state,i=e.selectedIndex,n=e.focusedIndex,r=this.props.toPanelCoords(this.el.getBoundingClientRect()),o=this.props.transcript,s=(o=void 0===o?{}:o).cues;return{options:(void 0===s?[]:s).map((function(e,n){var o=t.getItem(n);return{selected:i===n,time:t.formatTime(e.start),label:e.text,rect:t.toListCoords(o.getBoundingClientRect(),r)}})),timeCodeEnabled:this.getTimeCodesEnabled(),selectedIndex:i,focusedIndex:n,rect:r,label:l.getString("acc_video_transcript_list")}},setColors:function(){o.setCssColorVariables(this.el,[{group:"text",name:"default"},{group:"text",name:"active"},{group:"listitem",name:"selectedBorder"},{group:"scrollbar",name:"thumbBackground"}])},formatItemRef:function(t){return"transcript-item-".concat(t)},getItem:function(t){return this.refs[this.formatItemRef(t)]},updateVideoListeners:function(){var t=this.shouldListen;this.shouldListen=!this.unmounting&&this.props.isVisible,!t&&this.shouldListen&&window.requestAnimationFrame(this.onTick)},onTick:function(){this.shouldListen&&(this.updateSelectedCue(),window.requestAnimationFrame(this.onTick))},updateSelectedCue:function(t){var e=1e3*this.props.videoInterface.getElapsedTime();if(e!==this.lastTime||t){this.lastTime=e;var i=this.props.transcript,n=(i=void 0===i?{}:i).cues,r=void 0===n?[]:n,o=this.state.selectedIndex,s=r.findIndex((function(t,i){var n=t.start,o=(r[i+1]||{start:Number.MAX_SAFE_INTEGER}).start;return e>=n&&e<o}));o!==s&&(this.setState({selectedIndex:s}),this.autoScroll&&this.scrollItemIntoView(s))}},scrollItemIntoView:function(t){if(this.state.scrollable&&this.mounted&&t>=0){var e=this.getItem(t),i=e.offsetTop,n=e.offsetHeight,r=this.refs.content.clientHeight,o=this.scrollTop();i-2<o&&this.scrollTop(i-2),i+n+2>o+r&&this.scrollTop(i+n+2-r),this.lastAutoScrollTop=this.scrollTop()}},onDragScroll:function(t){this.state.scrolling||(this.updateScrollbarPos(),this.notifyScrolled())},onScrollStart:function(t){var e=this,i=this.refs.scrollThumb;i.addEventListener("pointermove",this.onScrollDrag),i.addEventListener("pointerup",this.onScrollEnd),i.addEventListener("touchmove",this.onTouchMove),i.setPointerCapture(t.pointerId),this.removeScrollListeners=_.flow((function(){return i.removeEventListener("pointermove",e.onScrollDrag)}),(function(){return i.removeEventListener("pointerup",e.onScrollEnd)}),(function(){return i.releasePointerCapture(t.pointerId)}),(function(){return i.removeEventListener("touchmove",e.onTouchMove)}));var n=t.touches,o=r(n=void 0===n?[t]:n,1)[0].pageY,s=i.getBoundingClientRect().top,a=this.refs.scrollbar.getBoundingClientRect().top;this.scrollOffset=a+(o-s),this.setState({scrolling:!0})},onTouchMove:function(t){t.preventDefault()},onScrollEnd:function(t){this.onScrollDrag(t),this.setState({scrolling:!1}),this.removeScrollListeners()},notifyScrolled:function(){this.autoScroll&&this.lastAutoScrollTop!==this.scrollTop()&&this.props.notifyScrolled()},onScrollDrag:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0].pageY,n=a.clamp(0,this.maxThumbTop,i-this.scrollOffset);this.refs.scrollThumb.style.top="".concat(n,"px"),this.updateScrollOffset()},updateScrollOffset:function(){var t=this.refs.scrollThumb,e=parseFloat(t.style.top)||0,i=this.refs.content,n=i.scrollHeight,r=i.clientHeight,o=r-this.thumbSize;this.scrollTop(e/o*(n-r))},handleListFocus:function(){var t=this.state.selectedIndex<0?0:this.state.selectedIndex;this.setState({focusedIndex:t}),null!=this.accView&&this.accView.setItemFocus(t),this.removeKeyListeners=d("keydown",this.handleKeyDown)},handleListBlur:function(){this.removeKeyListeners()},handleKeyDown:function(t){var e=this,i=this.props.transcript,n=(i=void 0===i?{}:i).cues,r=(void 0===n?[]:n).length,o=this.state.focusedIndex;if(p.isDownishKey(t.which)?o++:p.isUpishKey(t.which)?o--:p.isHomeKey(t.which)?o=0:p.isEndKey(t.which)&&(o=r-1),o>=r&&(o=0),o<0&&(o=r-1),o!==this.state.focusedIndex){var s=this.scrollTop();this.scrollItemIntoView(o),this.setState({focusedIndex:o}),requestAnimationFrame((function(){e.mounted&&(e.props.isFullScreen?f.setFocusRectOn(e.refs[e.formatItemRef(o)]):null!=e.accView&&e.accView.setItemFocus(o),s!==e.scrollTop()&&e.props.notifyScrolled())})),t.preventDefault()}},handleMouseWheel:function(t){var e=22*(t.deltaY>0?1:-1);this.scrollTop(this.scrollTop()+e)},scrollTop:function(t){var e=this.refs.content.scrollTop;if(null==t)return e;t=a.clamp(0,this.maxScrollTop,t),this.refs.content.scrollTop=t,this.updateScrollbarPos(t),Math.round(t)!==Math.round(e)&&this.updateAccState()},updateScrollbarPos:function(t){var e=(null!=t?t:this.refs.content.scrollTop)/this.maxScrollTop*this.maxThumbTop;this.refs.scrollThumb.style.top="".concat(e,"px")},updateScrollbarSize:function(){var t=this.refs.content,e=t.scrollHeight,i=t.clientHeight;e>i?(this.thumbSize=i/e*i,this.refs.scrollThumb.style.height="".concat(this.thumbSize,"px"),this.maxScrollTop=e-i,this.maxThumbTop=i-this.thumbSize,this.updateScrollbarPos(),this.setState({scrollable:!0})):this.setState({scrollable:!1})},handleListClicked:function(t){this.props.isFullScreen||null==this.accView||this.accView.takeControlFocus()}})}.call(e,i,e,t))||(t.exports=n)},5631:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(9526),n=i(2577),s=DS,a=s.pubSub,l=s.events,c=s.stringTabler,u=s.globalEventHelper.addResizeListener,h=s.detection.deviceView.isPhone,d=s.focusManager,p=s.localizationManager;DS.flagManager.dropInCore&&(n=DS.DropIn);var f=n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"TranscriptPanel",getInitialState:function(){return this.selectLabel=c.getString("video_transcript_select_track"),this.resumeAutoScrollText=c.getString("video_transcript_resume_autoscroll"),null==this.props.videoInterface.getTranscriptData()?(a.once(l.slide.STARTED,this.initTranscriptData),{trackOptions:[]}):this.getInitStateData()},componentDidMount:function(){var t;this.removeResizeListeners=(t=_).flow.apply(t,[u(this.el,this.handleResize),a.addListener(l.slide.SCALE_COMPLETE,this.handleResize),a.addListener(l.video.CHANGE_TRANSCRIPT_TRACK,this.handleTranscriptChange)].concat(o(DS.flagManager.multiLangSupport?[a.addListener(l.localization.LANGUAGE_UPDATED,this.handleLangCodeChange)]:[])))},componentDidUpdate:function(){this.updateAccState()},componentWillUnmount:function(){this.removeResizeListeners(),this.unmounted=!0},getInitStateData:function(){var t=this.props.videoInterface.getTranscriptData().transcripts;return this.transcripts=t,{trackOptions:t.map((function(t,e){return{value:e,display:t.name}})),transcript:DS.flagManager.multiLangSupport?t[this.getTrackByLangCode(p.getCurrentLangCode(),0)]:_.first(t)}},handleTranscriptChange:function(t,e){t===this.props.id&&e>=0&&this.setState({transcript:this.transcripts[e]})},initTranscriptData:function(){this.setState(this.getInitStateData())},getTrackByLangCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=this.transcripts.findIndex((function(e){return e.langCode.toLowerCase()===t}));return i>=0?i:e},handleLangCodeChange:function(t){var e=this.getTrackByLangCode(t);e>=0&&this.setState({transcript:this.transcripts[e]})},handleTrackChanged:function(t){this.setState({transcript:this.transcripts[t]})},registerAccView:function(t){this.accView=t},getSelectView:function(){return this.refs.trackSelect},getListView:function(){return this.refs.transcriptList},handleResize:function(){this.updateAccState(),null!=this.refs.trackSelect&&this.refs.trackSelect.updateAccState(),null!=this.refs.transcriptList&&this.refs.transcriptList.updateAccState()},handleTranscriptScrolled:function(){this.setState({autoScrollPaused:!0})},handleResumeScrollClicked:function(){this.setState({autoScrollPaused:!1})},handleFullScreenFocus:function(t){d.setFocusRectOn(t.target)},handleFullScreenBlur:function(t){d.takeFocusOff(t.target)},updateAccState:function(){var t=this;null!=this.accView&&(cancelAnimationFrame(this.updateStateRequest),this.updateStateRequest=requestAnimationFrame((function(){t.unmounted||t.accView.updateState(t.getAccState())})))},toPanelCoords:function(t,e){e=e||this.props.toWindowCoords(this.el.getBoundingClientRect());var i=r(this.props.toWindowCoords(t),4),n=i[0],o=i[1],s=i[2],a=i[3],l=r(e,2),c=l[0],u=l[1];return[n-c,o-u,s-c,a-u]},getAccState:function(){var t,e=this.props.toWindowCoords(this.el.getBoundingClientRect()),i=!h&&this.state.trackOptions.length>1&&!DS.flagManager.multiLangSupport;if(i){var n=this.refs.label.getBoundingClientRect();t=this.toPanelCoords(n,e)}var r,o=this.props.options.find((function(t){return"autoScroll"===t.id}))&&this.state.autoScrollPaused;if(o){var s=this.refs.resumeAutoScroll.getBoundingClientRect();r=this.toPanelCoords(s,e)}return{rect:e,labelRect:t,labelText:this.selectLabel,showTrackSelect:i,showResumeScroll:o,resumeScrollRect:r,resumeScrollLabel:this.resumeAutoScrollText}}});return f.getPanelOptions=function(){return[{id:"autoScroll",label:c.getString("transcript_auto_scroll"),value:!0},{id:"timeCodes",label:c.getString("transcript_show_timestamp"),value:!0}]},f}.call(e,i,e,t),void 0===n||(t.exports=n)},1315:function(t,e,i){var n;function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n=function(t){"use strict";var e=i(2577),n=i(9526),s=i(7593),a=i(5631),l=i(23),c=.98,u=.55,h={transcript:a},d=DS,p=d._,f=d.globalEventHelper,g=f.addWindowListener,m=f.addDocumentListener,v=f.addBodyListener,S=d.detection,y=S.deviceView,b=y.isPhone,w=y.isTablet,x=S.orientation,D=d.pubSub,C=d.events,E=d.constants,P=d.keyManager,T=d.utils,I=d.focusManager,A=d.playerGlobals,L=10,M=w?50:20,k=200,R=240,V=["topLeftSizer","topSizer","topRightSizer","rightSizer","leftSizer","bottomLeftSizer","bottomSizer","bottomRightSizer"],O=function(t,e,i){return{top:Math.min(e,i.bottom-R),height:Math.max(i.height+i.top-e,R)}},_=function(t,e,i){return{left:Math.min(t,i.right-k),width:Math.max(i.width+i.left-t,k)}},N=function(t,e,i){return{height:Math.max(i.height+e-(i.top+i.height),R)}},j=function(t,e,i){return{width:Math.max(i.width+t-(i.left+i.width),k)}},B=function(t,e){return function(i,n,r){return Object.assign({},t(i,n,r),e(i,n,r))}},F={top:O,left:_,bottom:N,right:j,topleft:B(O,_),topright:B(O,j),bottomleft:B(N,_),bottomright:B(N,j)};DS.flagManager.dropInCore&&(e=DS.DropIn);var H=e.createClass({displayName:"UtilityWindow",mixins:[DS.flagManager.dropInCore?n.dropIn:n],getInitialState:function(){this.removeKeyListeners=function(){},this.removeMoveListeners=function(){},this.removeResizeListeners=function(){};var t=p.first(this.props.dockLocations),e=this.getDockedPosition(t),i=(e.top,e.left),n=e.width,r=e.height;return r=Math.max(R,2*window.innerHeight/3),{top:(window.innerHeight-r)/2,left:i,width:n,height:r,moving:!1,resizing:!1,dockedState:t,autoScroll:!0,kebabOptions:this.getKebabOptions(),keyFocusActive:!1,isFullScreen:this.props.isFullScreen,portraitPercent:0,expanded:!1,title:this.props.title}},componentDidMount:function(){var t=this;this.mounted=!0,this.setColors(),this.el.style.setProperty("--default-font",DS.presentation.getDefaultFont()),this.el.style.setProperty("--font-scale",DS.presentation.getFontScale()/100),this.removeWindowListeners=p.flow(g("resize",this.handleWindowResize),D.addListener(C.slide.SCALE_COMPLETE,this.handleWindowResize),D.addListener(C.utilityWindow.TOGGLE_WINDOW,this.onToggleWindow),D.addListener(C.detection.ORIENTATION_CHANGE,this.onOrientationChange),D.addListener(C.slide.HAS_CHANGED,this.onSlideChange),D.addListener(C.utilityWindow.WINDOW_TOGGLED,this.onWindowToggled)),DS.flagManager.dropInVideo||D.on(C.utilityWindow.TOGGLE_WINDOW,this.onToggleWindow),this.refs.moveHandle.addEventListener("pointerdown",this.onMoveStart),this.refs.buttonMoveHandle.addEventListener("pointerdown",this.onMoveStart),b||V.forEach((function(e){t.refs[e].addEventListener("pointerdown",t.onResizeStart)})),this.updateAccView()},componentDidUpdate:function(t,e){this.notifyDocked(e),this.updateAccView(this.wasMoved(e)),this.state.dockedState===e.dockedState&&this.state.isOpen===e.isOpen||I.updateFocusBox()},componentWillUnmount:function(){var t=this;this.mounted=!1,this.accView=null,this.refs.moveHandle.removeEventListener("pointerdown",this.onMoveStart),this.refs.buttonMoveHandle.removeEventListener("pointerdown",this.onMoveStart),b||V.forEach((function(e){t.refs[e].removeEventListener("pointerdown",t.onResizeStart)})),D.trigger(C.utilityWindow.DOCKED,this.props.id,{dockedState:E.docked.NONE,dockedWidth:0}),this.removeMoveListeners(),this.removeResizeListeners(),this.removeWindowListeners(),this.removeKeyListeners()},wasMoved:function(t){var e=this.state,i=e.top,n=e.left,r=e.width,o=e.height,s=t.top,a=t.left,l=t.width,c=t.height;return s!==i||a!==n||l!==r||c!==o},updateAccView:function(t){var e=this;window.requestAnimationFrame((function(){null!=e.accView&&e.accView.updateState(t)}))},getPanelType:function(){return this.props.panelType},getPanelClass:function(){return h[this.props.panelType]},getKebabOptions:function(){return null==this.kebabOptions&&(this.kebabOptions=this.getPanelClass().getPanelOptions()),this.kebabOptions},optionUpdated:function(t,e){var i=this.state.kebabOptions.find((function(e){return e.id===t}));null!=i&&i.value!==e&&(i.value=e,this.setState({kebabOptions:o(this.state.kebabOptions)}))},onSlideChange:function(){this.state.isOpen&&this.closeWindow()},onOrientationChange:function(t){var e=t.orientation;this.forceUpdate(),b&&this.state.isOpen&&requestAnimationFrame((function(){"portrait"===e?D.trigger(C.threeSixtyImage.PUSH_UP_BY_LABEL):D.trigger(C.threeSixtyImage.PUSH_DOWN_BY_LABEL)}))},onToggleWindow:function(t,e){t===this.props.id&&(e?this.openWindow():this.closeWindow())},onWindowToggled:function(t,e){e&&this.state.isOpen&&t!==this.props.id&&this.closeWindow()},openWindow:function(){this.setState({isOpen:!0,portraitPercent:u}),D.trigger(C.utilityWindow.WINDOW_TOGGLED,this.props.id,!0),b&&(A.player.setAllAccVisibility(!1),x.isPortrait&&D.trigger(C.threeSixtyImage.PUSH_UP_BY_LABEL))},closeWindow:function(){this.setState({isOpen:!1,portraitPercent:0,dockedState:p.first(this.props.dockLocations)}),D.trigger(C.utilityWindow.WINDOW_TOGGLED,this.props.id,!1),b&&(A.player.setAllAccVisibility(!0),D.trigger(C.threeSixtyImage.PUSH_DOWN_BY_LABEL))},notifyDocked:function(t){null!=t&&t.dockedState===this.state.dockedState&&t.isOpen===this.state.isOpen||D.trigger(C.utilityWindow.DOCKED,this.props.id,{dockedState:this.state.isOpen?this.state.dockedState:E.docked.NONE,dockedWidth:330})},handleCloseClicked:function(){this.closeWindow()},handleAccKebabClicked:function(){this.refs.kebabMenu.handleKebabClicked()},closeKebabPanel:function(){this.refs.kebabMenu.closePanel()},getDockedPosition:function(t){if(b)return this.getPhoneDockedPosition();if((t=t||this.state.dockedState)===E.docked.NONE)return this.clampRect();var e=innerHeight-20,i=Math.min(window.innerWidth-20,320);return{top:10,left:t===E.docked.LEFT?L:innerWidth-i-L,width:i,height:e}},getPhoneDockedPosition:function(){if(x.isPortrait){var t=(this.state||{}).portraitPercent,e=void 0===t?u:t,i=Math.max(e,u),n=window.innerHeight*i;return{width:window.innerWidth,height:n,left:0,top:window.innerHeight-window.innerHeight*e}}var r=.4*window.innerWidth,o=(this.state||{}).isOpen;return{width:r,height:window.innerHeight,left:o?window.innerWidth-r:window.innerWidth,top:0}},handleFullScreenFocus:function(t){I.setFocusRectOn(t.target)},handleFullScreenBlur:function(t){I.takeFocusOff(t.target),this.stopKeyListening()},handleWindowResize:function(){if(this.state.isOpen){var t=this.state,e=t.left,i=t.width;this.state.dockedState===E.docked.RIGHT&&(e=window.innerWidth-L-i),this.setState({left:e}),this.forceUpdate()}},clampRect:function(t){var e=t||this.state,i=e.top,n=e.left,r=e.width,o=e.height,s=window,a=s.innerWidth,l=s.innerHeight;return{width:T.clamp(k,a-20,r),height:T.clamp(R,l-20,o),left:T.clamp(L,a-L-r,n),top:T.clamp(L,l-L-o,i)}},setColors:function(){s.setCssColorVariables(this.el,[{group:"base",name:"accent"},{group:"window",name:"background"},{group:"window",name:"border"},{group:"window",name:"activeBorder"},{group:"window",name:"shadow"},{group:"window",name:"divider"},{group:"button",name:"icon"},{group:"button",name:"iconHover"},{group:"button",name:"border"},{group:"button",name:"background"},{group:"text",name:"default"},{group:"text",name:"active"}])},onMoveStart:function(t){var e=this,i=this.refs.moveHandle;i.addEventListener("pointermove",this.onMove),i.addEventListener("pointerup",this.onMoveEnd),i.addEventListener("touchmove",this.onTouchMove),i.setPointerCapture(t.pointerId),this.removeMoveListeners=p.flow([function(){return i.removeEventListener("pointermove",e.onMove)},function(){return i.removeEventListener("pointerup",e.onMoveEnd)},function(){return i.releasePointerCapture(t.pointerId)},function(){return i.removeEventListener("touchmove",e.onTouchMove)}]);var n=t.touches,o=r(n=void 0===n?[t]:n,1)[0],s=o.pageX,a=o.pageY,l=this.el.getBoundingClientRect();this.moveOffset={x:s-l.left,y:a-l.top},this.setState({moving:!0})},onTouchMove:function(t){t.preventDefault()},onMoveEnd:function(t){var e=this;if(this.onMove(t),b){var i=this.state.portraitPercent;this.el.classList.remove("moving"),this.state.expanded?i<.88?this.setState({portraitPercent:u,expanded:!1}):i<.45000000000000007?(this.setState({expanded:!1,portraitPercent:0}),D.trigger(C.threeSixtyImage.PUSH_DOWN_BY_LABEL),setTimeout((function(){e.mounted&&e.closeWindow()}),250)):this.setState({portraitPercent:c}):i>.65?this.setState({portraitPercent:c,expanded:!0}):i<.45000000000000007?(this.setState({portraitPercent:0}),D.trigger(C.threeSixtyImage.PUSH_DOWN_BY_LABEL),setTimeout((function(){e.mounted&&e.closeWindow()}),250)):this.setState({portraitPercent:u})}this.setState({moving:!1}),this.removeMoveListeners()},onMove:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY-this.moveOffset.y;if(b){if(x.isPortrait){var s=window.innerHeight,a=(s-o)/s;a=T.clamp(0,c,a),this.setState({portraitPercent:a})}}else{var l,u=n-this.moveOffset.x,h=this.state,d=h.width,p=h.height;l=n<M&&this.props.dockLocations.includes(E.docked.LEFT)?E.docked.LEFT:n>window.innerWidth-M&&this.props.dockLocations.includes(E.docked.RIGHT)?E.docked.RIGHT:E.docked.NONE;var f={top:o,left:u,width:d,height:p};this.setState(Object.assign(this.clampRect(f),{dockedState:l}))}},onResizeStart:function(t){var e=this,i=t.target;this.resizeType=i.dataset.resizePos,i.addEventListener("pointermove",this.onResize),i.addEventListener("pointerup",this.onResizeEnd),i.setPointerCapture(t.pointerId),this.removeResizeListeners=p.flow([function(){return i.removeEventListener("pointermove",e.onResize)},function(){return i.removeEventListener("pointerup",e.onResizeEnd)},function(){return i.releasePointerCapture(t.pointerId)}]),this.resizeOffset=this.el.getBoundingClientRect(),this.setState({resizing:!0})},onResizeEnd:function(t){this.onResize(t),this.setState({resizing:!1}),this.removeResizeListeners()},onResize:function(t){var e=t.touches,i=r(e=void 0===e?[t]:e,1)[0],n=i.pageX,o=i.pageY,s=window,a=s.innerWidth,l=s.innerHeight;n=T.clamp(L,a-L,n),o=T.clamp(L,l-L,o);var c=this.state,u=c.top,h=c.left,d=c.width,p=c.height,f=F[this.resizeType](n,o,this.resizeOffset),g=f.top,m=void 0===g?u:g,v=f.left,S=void 0===v?h:v,y=f.width,b=void 0===y?d:y,w=f.height,x=void 0===w?p:w;this.setState({top:m,left:S,width:b,height:x,dockedState:E.docked.NONE})},handleResizeButton:function(){this.state.keyResizing?this.stopKeyListening():this.startKeyResize()},startKeyResize:function(){this.removeKeyListeners(),this.removeKeyListeners=p.flow(m("keydown",this.handleKeyResize),v("mousedown",this.stopKeyListening)),this.setState({keyFocusActive:!0,keyResizing:!0}),this.initKeyResizePos={top:this.state.top,left:this.state.left}},handleMoveButton:function(){this.state.keyMoving?this.stopKeyListening():this.startKeyMove()},startKeyMove:function(){this.removeKeyListeners(),this.removeKeyListeners=p.flow(m("keydown",this.handleKeyMove),v("mousedown",this.stopKeyListening)),this.setState({keyFocusActive:!0,keyMoving:!0})},getKeyName:function(t){return P.isUpKey(t)||87===t?"up":P.isDownKey(t)||83===t?"down":P.isLeftKey(t)||65===t?"left":P.isRightKey(t)||68===t?"right":t===E.keys.ESCAPE?"exit":"noop"},handleKeyResize:function(t){var e=this.getKeyName(t.which);if("exit"!==e){if("noop"!==e){var i=this.state,n=i.width,r=i.height,o=this.initKeyResizePos,s=o.left,a=o.top;({left:function(){n-=10},right:function(){n+=10},up:function(){r-=10},down:function(){r+=10},noop:function(){}})[e](),n=Math.min(Math.max(n,k),window.innerWidth-20),r=Math.min(Math.max(r,R),window.innerHeight-20),s+n>window.innerWidth-L&&(s=window.innerWidth-L-n),a+r>window.innerHeight-L&&(a=window.innerHeight-L-r),this.setState({top:a,left:s,width:n,height:r,dockedState:E.docked.NONE})}}else this.stopKeyListening()},handleKeyMove:function(t){var e=this.getKeyName(t.which);if("exit"!==e){if("noop"!==e){var i=this.state,n=i.top,r=i.left,o=i.width,s=i.height,a=i.dockedState;({left:function(){r-=10},right:function(){r+=10},up:function(){n-=10},down:function(){n+=10},noop:function(){}})[e](),a=r<=L&&this.props.dockLocations.includes(E.docked.LEFT)?E.docked.LEFT:r+o>=window.innerWidth-L&&this.props.dockLocations.includes(E.docked.RIGHT)?E.docked.RIGHT:E.docked.NONE,r=Math.min(Math.max(r,L),window.innerWidth-L-o),n=Math.min(Math.max(n,L),window.innerHeight-L-s),this.setState({top:n,left:r,dockedState:a})}}else this.stopKeyListening()},stopKeyListening:function(){this.removeKeyListeners(),this.setState({keyFocusActive:!1,keyResizing:!1,keyMoving:!1})},registerAccView:function(t){this.accView=t,this.refs.kebabMenu.registerAccView(t)},getPanelView:function(){return this.refs.panelView},toLocalCoords:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=T.getPath(this,"props.model.currView"),r={top:i,left:e,bottom:i,right:e};return l.globalRectToSlideObject(n,t,r)},getAccProps:function(){return{windowId:this.props.id,titleLabel:this.props.title,resizeLabel:DS.stringTabler.getString("acc_window_resize"),moveLabel:DS.stringTabler.getString("acc_window_move"),kebabMenuLabel:DS.stringTabler.getString("acc_window_options"),closeLabel:DS.stringTabler.getString("acc_window_close")}},getRefRect:function(t,e,i){var n=this.refs[t];return null==n?null:(null==n.getBoundingClientRect&&(n=n.el),this.toLocalCoords(n.getBoundingClientRect(),e,i))},getAccState:function(){var t=this,e=this.toLocalCoords(this.getDockedPosition(),-1,-1),i=r(e,2),n=i[0],o=i[1],s=function(e){return t.getRefRect(e,-n,-o)};return{windowRect:e,isOpen:this.state.isOpen,titleRect:s("title"),resizeRect:s("resize"),moveRect:s("move"),closeRect:s("close"),kebabRect:s("kebabMenu")}},getWindowRectConverter:function(){var t=this,e=r(this.toLocalCoords(this.getDockedPosition(),-1,-1),2),i=e[0],n=e[1];return function(e){return t.toLocalCoords(e,-i,-n)}},toWindowCoords:function(t){var e=r(this.toLocalCoords(this.getDockedPosition(),-1,-1),2),i=e[0],n=e[1];return this.toLocalCoords(t,-i,-n)},toPanelCords:function(t){var e=T.getPath(this,"refs.panelView.el");if(null==e)return[0,0,0,0];var i=r(this.toLocalCoords(e),2),n=i[0],o=i[1];return this.toLocalCoords(t,-n,-o)},onMouseUp:function(t){var e=this.findTargetOwner(t.target);this.props.fullScreen||null==this.accView||this.accView.takeControlFocus(e)},findTargetOwner:function(t){var e;return p.some(this.refs,(function(i,n){if((i.el||i).contains(t))return e=null!=i.findTargetOwner?i.findTargetOwner(t):n,!0})),e}});return H}.call(e,i,e,t),void 0===n||(t.exports=n)},9755:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(9526),n=i(2577),r=i(2290),o=i(1315),s=i(3986),a=DS,l=a.globalEventHelper.addWindowListener,c=a.detection.deviceView.isPhone;return DS.flagManager.dropInCore&&(n=DS.DropIn,r=DS.DropInDOM),n.createClass({mixins:[DS.flagManager.dropInCore?e.dropIn:e],displayName:"UtilityWindowController",componentWillMount:function(){this.wrapper=document.createElement("div"),this.wrapper.className="utility-window-wrapper",this.utilityWindow=r.render(n.createElement(o,this.props),this.wrapper),this.removeWindowListeners=l("resize",this.handleResize),c&&this.wrapper.addEventListener("pointerdown",this.handlePointerDown)},handlePointerDown:function(t){this.utilityWindow.el.contains(t.target)||this.utilityWindow.closeWindow()},handleResize:function(){this.wrapper.style.width="".concat(window.innerWidth,"px"),this.wrapper.style.height="".concat(window.innerHeight,"px")},componentDidMount:function(){this.updateUtilityWindow()},componentDidUpdate:function(){this.updateUtilityWindow()},componentWillUnmount:function(){var t=this;c&&this.wrapper.removeEventListener("pointerdown",this.handlePointerDown),this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper),DS.flagManager.dropInAcc?requestAnimationFrame((function(){r.unmountComponentAtNode(t.wrapper)})):r.unmountComponentAtNode(this.wrapper),this.removeWindowListeners()},updateUtilityWindow:function(){this.updateWindowParent(),this.handleResize(),DS.flagManager.multiLangSupport&&this.utilityWindow.setState({title:this.props.title})},updateWindowParent:function(){this.props.isFullScreen?(this.el.appendChild(this.wrapper),this.utilityWindow.setState({isFullScreen:!0})):(s.getTopContainer().appendChild(this.wrapper),this.utilityWindow.setState({isFullScreen:!1}))},getWindowView:function(){return this.utilityWindow}})}.call(e,i,e,t))||(t.exports=n)},6827:function(t,e,i){var n;void 0===(n=function(t){"use strict";var e=i(2577),n=i(5269),r=DS,o=r.events,s=r.pubSub,a=r.localizationManager;return DS.flagManager.dropInAcc&&(e=DS.DropIn),e.extend(n,{displayName:"MessageWindowUnified",getInitialState:function(){return DS.flagManager.multiLangSupport?{currLangCode:a.getCurrentLangCode()}:{}},componentWillMount:function(){var t=this;DS.flagManager.multiLangSupport&&(this.removeLocalizationListener=s.addListener(o.localization.LANGUAGE_UPDATED,(function(e){t.setState({currLangCode:e})})))},componentDidUpdate:function(){var t=this;this.htmlReady((function(){t.setState({messageWindowText:t.getScrollAreaText()})}))},componentWillUnmount:function(){null!=this.removeLocalizationListener&&this.removeLocalizationListener()}})}.call(e,i,e,t))||(t.exports=n)},6122:function(t,e,i){var n;n=function(){var t=!0;function e(e){function i(t){var i=e.match(t);return i&&i.length>1&&i[1]||""}function n(t){var i=e.match(t);return i&&i.length>1&&i[2]||""}var r,s=i(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(e)&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),c=!l&&/nexus\s*[0-9]+/i.test(e),u=/CrOS/.test(e),h=/silk/i.test(e),d=/sailfish/i.test(e),p=/tizen/i.test(e),f=/(web|hpw)(o|0)s/i.test(e),g=/windows phone/i.test(e),m=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),v=!s&&!h&&/macintosh/i.test(e),S=!a&&!d&&!p&&!f&&/linux/i.test(e),y=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=i(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),x=!w&&/[^-]mobi/i.test(e),D=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:b||i(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:i(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:b||i(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?r={name:"NAVER Whale browser",whale:t,version:i(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?r={name:"MZ Browser",mzbrowser:t,version:i(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:b||i(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?r={name:"Focus",focus:t,version:i(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:b||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:i(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:i(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:i(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:i(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:i(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:i(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},y?(r.msedge=t,r.version=y):(r.msie=t,r.version=i(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:y}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:i(/vivaldi\/(\d+(\.\d+)?)/i)||b}:d?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:i(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:t,version:i(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:i(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:b||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(r={name:"WebOS",osname:"WebOS",webos:t,version:b||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:t,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:i(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:i(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},b&&(r.version=b)):s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},b&&(r.version=b)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:i(/googlebot\/(\d+(\.\d+))/i)||b}:{name:i(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&b&&(r.version=b)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||i(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!a&&!r.silk?!r.windowsphone&&s?(r[s]=t,r.ios=t,r.osname="iOS"):v?(r.mac=t,r.osname="macOS"):D?(r.xbox=t,r.osname="Xbox"):m?(r.windows=t,r.osname="Windows"):S&&(r.linux=t,r.osname="Linux"):(r.android=t,r.osname="Android");var C="";r.windows?C=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(i(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?C=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?C=(C=i(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?C=(C=i(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?C=i(/android[ \/-](\d+(\.\d+)*)/i):r.webos?C=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?C=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?C=i(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(C=i(/tizen[\/\s](\d+(\.\d+)*)/i)),C&&(r.osversion=C);var E=!r.windows&&C.split(".")[0];return w||c||"ipad"==s||a&&(3==E||E>=4&&!x)||r.silk?r.tablet=t:(x||"iphone"==s||"ipod"==s||a||l||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===o([r.version,"1.0"])||r.mzbrowser&&1===o([r.version,"6.0"])||r.focus&&1===o([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}var i=e("undefined"!=typeof navigator&&navigator.userAgent||"");function n(t){return t.split(".").length}function r(t,e){var i,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(i=0;i<t.length;i++)n.push(e(t[i]));return n}function o(t){for(var e=Math.max(n(t[0]),n(t[1])),i=r(t,(function(t){var i=e-n(t);return r((t+=new Array(i+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(i[0][e]>i[1][e])return 1;if(i[0][e]!==i[1][e])return-1;if(0===e)return 0}}function s(t,n,r){var s=i;"string"==typeof n&&(r=n,n=void 0),void 0===n&&(n=!1),r&&(s=e(r));var a=""+s.version;for(var l in t)if(t.hasOwnProperty(l)&&s[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return o([a,t[l]])<0}return n}return i.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in i)return!0}return!1},i.isUnsupportedBrowser=s,i.compareVersions=o,i.check=function(t,e,i){return!s(t,e,i)},i._detect=e,i.detect=e,i},t.exports?t.exports=n():i.amdD("bowser",n)},8983:function(){!function(){"use strict";"undefined"!=typeof window&&("SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=o,this._y2=s},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,n,r,o,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=o,this._y2=s},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,n,r,o,s,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=o,this._largeArcFlag=s,this._sweepFlag=a},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,n,r,o,s,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=o,this._largeArcFlag=s,this._sweepFlag=a},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,i,n,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,r,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,i,n,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,r,o,s){return new window.SVGPathSegArcAbs(void 0,t,e,i,n,r,o,s)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,r,o,s){return new window.SVGPathSegArcRel(void 0,t,e,i,n,r,o,s)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var i=e.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(e.pathSegList.removeItem(i),t>e.getTotalLength())break;i--}while(i>0);return i})),"SVGPathSegList"in window&&"appendItem"in window.SVGPathSegList.prototype||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathSegList.prototype,"length",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach((function(t){"d"==t.attributeName&&(e=!0)})),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(t){t._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;return t.forEach((function(t){i?(i=!1,e+=t._asPathString()):e+=" "+t._asPathString()})),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,i=1,n=0,r=1,o=1,s=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var a=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=a)for(var l=this._currentIndex-1,c=1;l>=a;)e+=c*(this._string.charAt(l--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)i*=10,n+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!=s&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+n;if(u*=r,t&&(u*=Math.pow(10,o*t)),s!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],i=this._pathSegTypeFromChar(t);if(i==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((i=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicAbs(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothRel(e,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicSmoothAbs(e,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticRel(e,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoQuadraticAbs(e,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcRel(e,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegArcAbs(e,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new i,o=new n(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var s=o.parseSegment();if(!s)return[];r.appendSegment(s)}return r.pathSegList}))}()}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var o=i[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,s,a=[],l=!0,c=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(t){c=!0,r=t}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n.amdD=function(){throw new Error("define cannot be used indirect")},Promise.resolve().then((function(){var t=[n(9481)];(function(t){t.init(),Promise.resolve().then((function(){var t=[n(2577),n(2290),n(9481),n(143),n(1141)];(function(t,e){Promise.resolve().then((function(){var i=[n(2114),n(107),n(586),n(8359),n(1630),n(1193),n(5114),n(1862),n(7331),n(8287),n(1122),n(254),n(2388),n(1739),n(5269),n(6827),n(5290),n(5258),n(3986),n(200)];(function(i,n,o,s,a,l,c,u,h,d,p,f,g,m,v,S,y,b,w){var x=DS,D=x._,C=x.events,E=x.pubSub,P=x.detection,T=x.vow,I=x.errorManager,A=x.fontManager,L=x.windowManager,M=x.slideNumberManager,k=x.resumer,R=x.captionsManager,V=x.scaler,O=x.appState,_=x.localizationManager;null!=DS.DropIn&&DS.DropIn.injectReact(t,e),DS.renderEngine={createWindowFor:function(i,n,o,s){var a=P.theme.isUnified?S:v;if(DS.flagManager.dropInAcc){var l=r(DS.DropIn.replaceReact(),2);e=l[0],t=l[1]}var c=e.render(t.createElement(n?a:m,o),i.querySelector(".slide-container"));if(DS.flagManager.dropInAcc){var u=r(DS.DropIn.restoreReact(),2);e=u[0],t=u[1]}if(null!=s){if(DS.flagManager.dropInBase){var h=r(DS.DropIn.replaceReact(),2);e=h[0],t=h[1]}if(e.render(t.createElement(b,{slideContainer:c.refs.slideContainer,getWinScale:o.getWinScale,container:s}),s),DS.flagManager.dropInBase){var d=r(DS.DropIn.restoreReact(),2);e=d[0],t=d[1]}}return c},closeWindow:function(t,i){if(DS.flagManager.dropInAcc){var n=r(DS.DropIn.replaceReact(),1);e=n[0]}if(e.unmountComponentAtNode(t),null!=i){if(DS.flagManager.dropInBase){var o=r(DS.DropIn.replaceReact(),1);e=o[0]}if(e.unmountComponentAtNode(i),DS.flagManager.dropInBase){var s=r(DS.DropIn.restoreReact(),1);e=s[0]}}if(DS.flagManager.dropInAcc){var a=r(DS.DropIn.restoreReact(),1);e=a[0]}},createMobileStartOverlay:function(){var i=document.getElementById("preso");if(this.mobileStartContainer=document.createElement("div"),this.mobileStartContainer.setAttribute("id","mobile-start-container"),this.mobileStartContainer.classList.add("fn-".concat(DS.frame.getDefaultLayout())),i.parentNode.insertBefore(this.mobileStartContainer,i.nextSibling),DS.flagManager.dropInBase){var n=r(DS.DropIn.replaceReact(),2);e=n[0],t=n[1]}var o=e.render(t.createElement(y),this.mobileStartContainer);if(DS.flagManager.dropInBase){var s=r(DS.DropIn.restoreReact(),2);e=s[0],t=s[1]}return o},showMobileStartOverlay:function(){this.mobileStartContainer.style.display="block"},killMobileStartOverlay:function(){this.mobileStartContainer.style.display="none"}},w.createLib(),document.body.role="presentation";var N,j=new i,B=function(t){var e=k.initialize(j,t||_.isMultiLanguageProject());V.initialize(),o.initialize(j),n.initialize(j.assetLib()),d.initialize(j.audioplaylists()),p.initialize(j.globalaudiolib()),h.initialize(j),f.initialize(j),N.always((function(){if(E.trigger(C.data.INITIALIZED),E.trigger(C.ds.PRESO_LOADED,s),null!=DS.playerGlobals.player){var t=null!=j.playerVars()?j.playerVars().variables():null;if(R.initialize(DS.playerGlobals.player,L,null!=t?t.get("displayCaptions"):null),M.initialize(L,j,DS.playerGlobals.player.getNavData()),V.connectVariables(null!=t?t.get("zoomToFit"):null),null!=t){O.connectVariables({accessibleTextVar:t.get("accessibleText"),fullScreenModeVar:t.get("fullScreenMode")});var i=t.get("langCode");(DS.flagManager.multiLangSupport||DS.flagManager.aiCourseTranslation)&&null!=i&&DS.localizationManager.connectVariable(i)}}e.always((function(){g.initialize(),E.trigger(C.loader.REMOVE_TITLE),E.trigger(C.main.PREPARE_AUDIO,j),E.trigger(C.course.AUDIO_START),u.prepare(),T.isRejected(e)&&E.trigger(C.request.NEXT_SLIDE),k.courseStarted(T.isResolved(e))})).catch((function(t){return t}))}))};T.when(j.fetch(),a.fetch()).then((function(){DS.presentation=j,N=A.loadFonts(j),Promise.all([DS.flagManager.multiLangSupport?_.initSlideData(j.get("localization")):Promise.resolve(),l.prepare(j),c.prepare(j),u.initialize(j),null!=DS.playerGlobals.player?R.prepare(j.assetLib()):Promise.resolve()]).then((function(t){return B(D.some(t))})).catch((function(t){return B(D.some(t))}))})).catch((function(){I.throwError("init","initialization","Could not load presentation data")}))}).apply(null,i)})).catch(n.oe)}).apply(null,t)})).catch(n.oe)}).apply(null,t)})).catch(n.oe)}();
